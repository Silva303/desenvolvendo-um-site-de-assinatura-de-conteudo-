"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a69c396b-bfee-59d4-b9fe-f7a8434a64b8")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[5672],{848187:(e,t,a)=>{a.d(t,{AR:()=>j,A_:()=>F,DN:()=>p,E3:()=>S,FK:()=>y,Gv:()=>c,Hd:()=>l,JX:()=>z,Kl:()=>s,Mf:()=>_,Ng:()=>d,ON:()=>h,PP:()=>E,Pt:()=>x,QF:()=>V,Qu:()=>H,S:()=>X,Ub:()=>f,Uj:()=>P,VA:()=>Z,VN:()=>Q,Wz:()=>k,Ye:()=>o,ZE:()=>M,bV:()=>C,bq:()=>B,cB:()=>U,d3:()=>R,dJ:()=>i,gC:()=>n,gD:()=>A,gP:()=>I,jT:()=>r,k8:()=>w,kb:()=>W,lX:()=>b,mH:()=>v,nN:()=>m,nZ:()=>G,oB:()=>u,q_:()=>L,rq:()=>N,sH:()=>T,x0:()=>O,xR:()=>g,yl:()=>D,zN:()=>Y});let r="fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",n="fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",s="fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",l="fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf",i="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",o="fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",c="fd_browse_resource_modal--backButton--S7dMz",d="fd_browse_resource_modal--tabHeader--edoDO",u="fd_browse_resource_modal--tabsContainer--v6cIk",m="fd_browse_resource_modal--tabClickTarget--QDM1e",_="fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",g="fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",E="fd_browse_resource_modal--searchBarContainer--Q2kZ7",v="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",f="fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",p="fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",w="fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",h="fd_browse_resource_modal--searchBar---bmO8",b="fd_browse_resource_modal--searchBarEmpty--8dNhE",y="fd_browse_resource_modal--searchBarDevHandoff--uuPW-",I="fd_browse_resource_modal--searchBarFilterButton--hQeym",N="fd_browse_resource_modal--headerIconButtonSel--nV-KN",x="fd_browse_resource_modal--filterButtonActive--8krHg",C="fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",T="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",k="fd_browse_resource_modal--horizontalDivider--H67hA",P="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",L="fd_browse_resource_modal--mainViewHeader--AZpur",R="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",A="fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",D="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",B="fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",S="fd_browse_resource_modal--mainViewSelector--chQy5",M="fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",O="fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",G="fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",U="fd_browse_resource_modal--expandedViewHeader--uLZl5",W="fd_browse_resource_modal--left--si6Cj",F="fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",Q="fd_browse_resource_modal--close--G1pa0",V="fd_browse_resource_modal--expandedViewContainer--EvsBd",H="fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",z="fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd",Y="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",X="fd_browse_resource_modal--loadingSpinner--0IwJ9",Z="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",j="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd"},708071:(e,t,a)=>{a.d(t,{H:()=>r});let r=a(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},168104:(e,t,a)=>{a.d(t,{O:()=>o});var r=a(411855),n=a(75395),s=a(939863),l=a(356390),i=a(498606);function o({children:e}){let t=(0,s.t)("fullscreen_actions.expand-ui");return r.createElement(n.E,{className:"toggle_expanded_sidebar_button--button--brZmz",onClick:()=>l.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"aria-label":t,recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-tooltip-type":i.Ib.TEXT,"data-tooltip":t,"data-tooltip-shortcut-key":"toggle-sidebar"}},e)}},778433:(e,t,a)=>{a.d(t,{n:()=>u,A:()=>m});var r=a(411855),n=a(140838),s=a(204930),l=a(939863),i=a(356390),o=a(213190),c=a(498606),d=a(147723);function u(){let e=(0,o.qM)()?(0,l.t)("fullscreen_actions.expand-ui"):(0,l.t)("fullscreen_actions.minimize-ui");return r.createElement(s.J,{"aria-label":e,onClick:()=>i.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":d.ue,"data-tooltip":e,"data-tooltip-type":c.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"}},r.createElement(n.C,null))}function m(){return r.createElement("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV"},r.createElement(n.C,null))}},304657:(e,t,a)=>{let r,n,s,l;a.d(t,{k:()=>D});var i=a(411855),o=a(188507),c=a(243742),d=a(752553),u=a(572206),m=a(47506),_=a(941381),g=a(225266),E=a(738269),v=a(902139),f=a(672517),p=a(809831),w=a(728325),h=a(813648),b=a(318812),y=a(239671),I=a(231472),N=a(992303),x=a(384775),C=a(818198),T=a(760445),k=a(76158),P=a(746806),L=a(360934),R=a(908198),A=a(848187);function D(){let e=(0,o.d4)(e=>e.universalInsertModal),t=(0,o.d4)(e=>e.mirror.appModel.showUi),{fdPreviewResource:a,initialFdView:D,initialFdResourceTab:S}=e,M=a?.type,{activeTab:O,setCurrentViewOrTab:G,currentView:U}=function(){let{initialFdResourceTab:e,initialFdView:t}=(0,o.d4)(e=>e.universalInsertModal),[a,r]=i.useState(e||n||k.s.COMPONENT),[c,d]=i.useState(e===k.s.PLUGIN&&t||s||"recents_and_saved"),[u,m]=i.useState(e===k.s.WIDGET&&t||l||"recents_and_saved"),_=i.useCallback(e=>{e===k.s.PLUGIN?s=c:e===k.s.WIDGET&&(l=u)},[c,u]),g=a===k.s.PLUGIN?c:u,E=i.useCallback(({newView:e,newTab:t})=>{let s=t===k.s.PLUGIN?c:t===k.s.WIDGET?u:void 0;e&&s!==e&&(_(a),(t||a)===k.s.PLUGIN?d(e):(t||a)===k.s.WIDGET&&m(e)),t&&a!==t&&(_(a),n=a,r(t))},[a,c,u,_]);return i.useEffect(()=>{E({newView:t,newTab:e})},[e,t]),i.useEffect(()=>{n=a,_(a)},[a,_]),i.useMemo(()=>({activeTab:a,currentView:g,setCurrentViewOrTab:E}),[a,g,E])}(),W="ui3"===(0,c.DP)().version,F=(0,o.wA)(),Q=i.useRef(null),[V]=i.useState(D?"":r||"");i.useEffect(()=>{(0,m.YQ)({id:"figma-inserts-opened"}),(0,m.YQ)({id:N.ko})},[]);let H=(0,x.Au)();i.useEffect(()=>{H&&F(v.eo())}),i.useEffect(()=>{r=V},[V]),i.useEffect(()=>F(g.aq()),[F]),(0,d.IT)((0,_.se)()),(0,d.IT)((0,_.fd)()),i.useEffect(()=>{G({newTab:M||S})},[S,M]);let z=(0,p.E3)(),[Y,X]=i.useState(),Z=W?T.tS:T.Zv;(0,h.J$)(e.pinned===I.t.NOT_PINNED,Q,Z);let j=(0,T.CK)(),K=(0,T.CG)(),{bounds:$,showLeftPinBound:q,setShowLeftPinBound:J,shouldSnapToPosition:ee,setPinned:et}=(0,C.C)(B,X,e.pinned,j,K,e.showing),ea=(0,h.LR)(),er=(0,b.Um)(),en=i.useCallback(e=>{e.stopPropagation(),er&&F(E.oB())},[F,er]),es=i.useMemo(()=>({activeTab:O,viewResource:e=>{F(v.IN({fdPreviewResource:e}))},closeResource:()=>{F(v.IN({fdPreviewResource:void 0}))},closeModal:ea,pinModal:et,setCurrentViewOrTab:G,currentView:U}),[O,ea,et,F,G,U]),el=i.useCallback(e=>{w.VU.get("set-tool-default","toolbar")(),F(v.jy({pinned:I.t.PINNED})),en(e)},[F,en]),ei=i.useCallback(()=>{q&&et()},[q,et]);if(!e.showing)return null;let eo={height:"auto",overflow:"hidden"};return(e.pinned!==I.t.NOT_PINNED||W||(eo.borderTopLeftRadius="0px"),z===y.nT.DevHandoff)?null:i.createElement(f.fu,{name:"universal-insert"},e.pinned===I.t.PINNED&&q&&i.createElement("div",{className:R.kV,style:{left:j.x,top:j.y,width:T.AN}}),i.createElement(T.B0.Provider,{value:es},i.createElement(P.vx,{initialPosition:Y||new u.Mi(e.initialX,e.initialY),initialWidth:T.AN,bounds:$,onEnterBound:()=>{W||J(!0)},onLeaveBound:()=>{J(!1)},canResetPosition:ee,onClose:ea,onDragStart:el,onDragEnd:ei,minTopMargin:t?void 0:0,onClick:en,ref:Q,containerClassName:e.pinned===I.t.PINNED_AND_DOCKED_LEFT?A.gC:A.jT,frameStyle:eo},i.createElement(L.z,null))))}function B(){return{x:-T.AN,y:0,width:2*T.AN+T.wR,height:window.innerHeight}}},360934:(e,t,a)=>{let r;a.d(t,{z:()=>tQ});var n=a(411855),s=a(188507),l=a(629019),i=a.n(l),o=a(126049),c=a(374626),d=a(498750),u=a(268537),m=a(723325),_=a(355819),g=a(32863),E=a(901536),v=a(939863),f=a(582064),p=a(86538),w=a(738269),h=a(672517),b=a(756085),y=a(779709),I=a(813648),N=a(318812),x=a(694687),C=a(4564),T=a(555328),k=a(498606),P=a(507956),L=a(298543),R=a(227795),A=a(538697),D=a(205698),B=a(667167),S=a(271245),M=a(632430),O=a(416095),G=a(113916),U=a(664457),W=a(225373),F=a(28630),Q=a(760445);function V(e){let t=(0,s.wA)(),a=(0,s.Pj)(),r=(0,s.d4)(F.m),l=(0,s.d4)(e=>(0,G.Br)(e)),i=n.useRef(null),o=(0,Q.NF)(Q.gC+Q.Kr+Q.Ix);n.useEffect(()=>{(async()=>{if(t((0,S.zK)()),l){await O.NW;let{fileVersion:e}=a.getState();l&&e&&!(0,O.hH)(l)&&(0,M.iG)(a,l)}})()},[t,l,a]);let[c,d]=n.useState(!1);return n.createElement("div",null,e.header,n.createElement("div",{"data-not-draggable":!0},n.createElement(W.LL,{selectedItems:r?[r]:[],scrollContainerHeight:o,recordingKey:"componentInsert",toggleGridViewButton:n.createElement(W.Cc,{isSwapPicker:!1}),pickerType:B.Zl.RESOURCE_INSERT_MODAL,searchBarRef:i,query:e.query,setQuery:e.setQuery,drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},isSearching:c,setIsSearching:d,entrypointForLogging:null}),n.createElement(U.Q,null)))}var H=a(966712),z=a(812115),Y=a(946689),X=a(493323),Z=a(163023),j=a(408552),K=a(17284),$=a(472353);a(837324);var q=a(269167),J=a(860178);a(239671),a(407844),a(164795);var ee=a(376272),et=a(471174);function ea({resource:e}){let t=(0,s.d4)(e=>e.authedActiveCommunityProfile),a=(0,J.iZ)(),r=(0,q.ej)(e);return n.createElement("div",{className:ee.I4,"data-not-draggable":!0},n.createElement("div",{className:ee.QW},n.createElement(Z.B,{svg:et.A})),n.createElement("div",{className:ee.hI},(0,v.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")),n.createElement("div",{className:ee.JL},n.createElement("button",{onClick:()=>{(0,$.mG)(e,T.aL.INSERTS,a.id,t?.id),r()}},(0,v.tx)("community.buyer.update_payment"))))}var er=a(166521);a(981952),a(988652),a(708071);var en=a(697551);a(746806),a(488578),a(63666);let es="rating_stats_data--averageStar--YdqTY";function el({isHovered:e}){return n.createElement("span",{className:es,"aria-label":(0,v.t)("community.detail_view.full_star")},n.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function ei(){return n.createElement("span",{className:es,"aria-label":(0,v.t)("community.detail_view.empty_star")},n.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let eo="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var ec=a(610253),ed=a(13033);function eu({onSelect:e,existingRating:t,showDescriptions:a=!1,useBigStars:r=!0,isOptional:s=!1,disabled:l=!1,disabledTooltip:i}){let[o,c]=(0,n.useState)(0),[d,u]=(0,n.useState)(0),[m,_]=(0,n.useState)(!1),g=[(0,v.t)("community.star_ratings.i_really_dont_like_it"),(0,v.t)("community.star_ratings.i_dont_like_it"),(0,v.t)("community.star_ratings.its_okay"),(0,v.t)("community.star_ratings.i_like_it"),(0,v.t)("community.star_ratings.i_love_it")];(0,n.useEffect)(()=>{void 0===t||o||(c(t),u(t))},[t,o]);let f=r?n.createElement(Z.B,{svg:ec.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,v.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):n.createElement(ei,null),p=r?n.createElement(Z.B,{svg:ed.A,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,v.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):n.createElement(el,{isHovered:m}),w=e=>{l||(c(e+1),_(!0))},h=t=>{l||(t+1===d&&s?(u(0),e(0)):(u(t+1),e(t+1)))};return n.createElement("div",{className:r?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},n.createElement("div",{className:l?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{l||d===o||c(d)},"data-tooltip-type":l?k.Ib.TEXT:void 0,"data-tooltip":l?i:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(n.createElement("span",{className:E.cx.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>w(t),onMouseLeave:()=>_(!1),onClick:()=>h(t),role:"button",tabIndex:0},t<o?p:f));return e})()),n.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},n.createElement(n.Fragment,null,a&&n.createElement("div",{className:r?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":eo},g[o-1]),s&&0===o&&n.createElement("div",{className:eo},l?(0,v.tx)("community.rating_review.ratings_not_available"):(0,v.tx)("community.rating_review.optional")))))}function em({userRating:e,isInsertsModal:t,disabled:a,disabledTooltip:r,openRatingModal:s}){return n.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},n.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?n.createElement("div",{onClick:()=>s(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},(0,v.tx)("community.detail_view.edit_rating")):(0,v.tx)("community.detail_view.leave_a_rating")),n.createElement(eu,{onSelect:s,existingRating:e?.ratingValue,disabled:a,disabledTooltip:r}))}var e_=a(466636),eg=a(545941),eE=a(941381),ev=a(970516),ef=a(469757),ep=a(641638),ew=a(441088),eh=a(154026),eb=a(328570),ey=a(215822),eI=a(928491),eN=a(350913),ex=a(319285),eC=a(927206),eT=a(552993),ek=a(16774),eP=a(647173);function eL({onBack:e,text:t}){let a=(0,P.ks)();return n.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},n.createElement(Z.B,{"data-not-draggable":!0,svg:eP.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!a&&n.createElement(Q.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var eR=a(632788),eA=a(76158),eD=a(228302),eB=a(76154);let eS="detail_view--ratingSelectorContainer--zbvCM";var eM=a(270951),eO=a(362679),eG=a(13556),eU=a(949554);function eW(e){let t=(0,s.wA)(),{activeTab:a}=(0,Q.IT)(),r=a===eA.s.PLUGIN,l=(0,b.cW)(),i=(0,b.ZT)(),o=(r?l:i)[e.resourceId];return(n.useEffect(()=>{o&&o.community_publishers||t(eE.af({id:e.resourceId,resourceType:r?T.bD.PLUGIN:T.bD.WIDGET}))},[t,o,e.resourceId,r]),o)?n.createElement(eF,{resourceId:e.resourceId,resource:o}):n.createElement("div",{className:E.cx.flex.wFull.borderBox.justifyCenter.pt32.$},n.createElement(X.kt,{size:"medium"}))}function eF(e){let{resource:t}=e,{activeTab:a}=(0,Q.IT)(),r=a===eA.s.PLUGIN,l=(0,s.wA)(),o=(0,P.ks)(),c=(0,b.JI)(),d=(0,N.Um)(),u=(0,Q.NF)((0,ew.T)()?Q.gC+64:Q.gC),m=(0,s.d4)(e=>e.authedUsers),g=(0,q.EO)(t),f=(0,q.lt)(t),p=(0,q.gn)(t),y=(0,e_.QQ)(f),I=(0,s.d4)(e=>e.authedActiveCommunityProfile),C=(0,ek.b)(),L=(0,x.sZ)(),A=(0,b.ll)(),D=(0,b.U6)(),B=Object.values((0,b.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:S,onInsertableResourcePointerDown:M}=(0,eb.P)({resource:(0,ey.uF)(t),clickToInsert:!0,afterSuccessfulInsert:C,triggeredFrom:"universal-insert"}),{canRate:O=!1}={},G=n.useCallback(()=>{l(ev.Pv({url:r?(0,eN.ab)(e.resourceId):(0,eN.ox)(e.resourceId),extensionType:r?"plugin":"widget"}))},[l,e.resourceId,r]),U=r&&d?.type===eR.yW&&d.data.pluginId===e.resourceId&&d.data.targetRect,W=n.useCallback(t=>{t.stopPropagation(),r&&(U?l(w.oB()):l(w.j7({type:eR.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[r,U,l,e.resourceId]),F=n.useCallback(()=>{l(w.oB())},[l]);if(!t)return null;t.community_resource_payment=f;let V=(0,ey.uF)(t),Y=(0,q.Zk)(I,m,t),X=(0,ey.og)({canAssociatedUserPurchaseThisResource:Y,resource:t}),Z=!B&&(0,ep.XV)({org:L,extension:t,allowlistedExtensions:r?A:D}),$=r?n.createElement(eB.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):n.createElement(eB.GJ,{widgetId:e.resourceId});return n.createElement(h.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:r?T.bD.PLUGIN:T.bD.WIDGET,isMonetized:(0,T.m3)(t),editorType:"figma"}},n.createElement(eQ,null),n.createElement(_.P,{height:u,onScroll:F,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},n.createElement("div",{className:"detail_view--contentContainer--nSBG8"},n.createElement("div",{className:(0,ew.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},n.createElement("div",{className:(0,ew.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},n.createElement("img",{className:i()([(0,ew.T)()?"detail_view--coverImageVsCode--ZtGDB":r?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",E.cx.if((0,ew.T)(),E.cx.bRadius5).$]),src:V.redirect_cover_image_url||"",alt:`${V.name}`,onPointerDown:e=>!r&&M(e),role:"presentation"}),n.createElement(eh.E,{dragState:S})),p&&n.createElement(eC.cu,null),X&&!p&&!y&&n.createElement(ea,{resource:t}),n.createElement("div",{className:(0,ew.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},n.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},V.name),(0,j.$3)({resource:t,height:"16",validBadges:[j.op.PURCHASED],authedActiveCommunityProfile:I})||n.createElement(K.I,{badges:t.badges,height:"16",hideTooltip:!0})),n.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(t.community_publishers?.accepted||[]).length>0&&n.createElement(n.Fragment,null,n.createElement(eI.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,Q.kB)(t)))),(!o||c)&&n.createElement("div",{className:"detail_view--actionsRow--sAwdf"},n.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},g&&!(0,H.kc)().community_hub_admin_reviewer?n.createElement(er.I,{resource:t,context:T.aL.INSERTS,payment:f}):Z?n.createElement(eD.s,{version:V,isPlugin:r}):$),n.createElement("div",{className:E.cx.ml8.flex.itemsCenter.$},n.createElement(eT._W,{resourceId:e.resourceId,resourceType:r?T.vt.PLUGIN:T.vt.WIDGET,parentView:eT.nN.DETAIL})),o&&(0,ey.Th)(V,L,A)?n.createElement(n.Fragment,null,n.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},n.createElement(R.K0,{svg:eO.A,fallbackSvg:eG.A,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.more_options"),onClick:W,className:"detail_view--moreOptionsIcon--najos"})),U&&n.createElement(eR.Gq,{resourceId:e.resourceId,plugin:V,resourceType:r?T.vt.PLUGIN:T.vt.WIDGET})):n.createElement(R.K0,{svg:eU.A,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.copy_link"),onClick:G,className:"detail_view--copyLinkIcon--PFKiL"})),n.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),n.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},n.createElement(ex.f,{resource:t})),n.createElement("div",{className:eS},O&&(0,eg.Ul)(t)&&n.createElement("div",{className:eS},n.createElement(em,{openRatingModal:e=>{},isInsertsModal:!0}))),n.createElement(z.R,{fallback:null,errorFallback:null,value:V.description})))),n.createElement(eV,{resourceId:e.resourceId})))}function eQ(){let{closeResource:e,activeTab:t}=(0,Q.IT)();return n.createElement(eL,{onBack:e,text:t===eA.s.PLUGIN?(0,v.tx)("universal_insert.plugin"):(0,v.tx)("universal_insert.widget")})}function eV(e){let{activeTab:t}=(0,Q.IT)(),a=t===eA.s.PLUGIN?"plugin":"widget",{href:r,onClick:s}=(0,ef.y)(`/community/${a}/${e.resourceId}`);return n.createElement(n.Fragment,null,n.createElement(Y.Ph,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:r,onClick:s,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},n.createElement(Z.B,{svg:eM.A,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),(0,v.tx)("universal_insert.see_more_details_in_community")),n.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var eH=a(175290),ez=a(983405),eY=a(553015),eX=a(896474),eZ=a(809840),ej=a(933464),eK=a(908341);function e$({isDesktop:e}){return n.createElement(ez.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},n.createElement(Z.B,{svg:eK.A,className:E.cx.colorIconSecondary.pb24.$,autosize:!0,height:(0,ew.T)()?"64px":void 0}),n.createElement(eq,{isDesktop:e}))}function eq({isDesktop:e}){let t={learnMoreLink:n.createElement("a",{href:"https://www.figma.com/plugin-docs",target:"_blank",className:E.cx.cursorPointer.font11.colorTextBrand.$},(0,v.tx)("dev_handoff.inspect_panel.learn_more_plugin_development"))};return n.createElement(n.Fragment,null,e?n.createElement(n.Fragment,null,n.createElement("div",{className:E.cx.alignCenter.$},n.createElement(eZ.E,{color:"secondary"},(0,v.tx)("dev_handoff.inspect_panel.create_first_here")),n.createElement("br",null),n.createElement(eZ.E,null,(0,v.tx)("dev_handoff.inspect_panel.learn_more_link",t))),n.createElement(eJ,null)):n.createElement("div",{className:E.cx.alignCenter.$},n.createElement(eZ.E,{color:"secondary"},(0,v.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")),n.createElement("br",null),n.createElement(eZ.E,{color:"secondary"},(0,v.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")),n.createElement("br",null),n.createElement(eZ.E,null,(0,v.tx)("dev_handoff.inspect_panel.learn_more_link",t))))}function eJ(){let e=(0,s.wA)(),t=(0,N.Um)(),a=t?.type===ej.kt,r=n.useCallback(t=>{a?e(w.oB()):e(w.j7({type:ej.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,a]);return n.createElement("div",{className:E.cx.pt16.$},n.createElement(eY.$,{onClick:r},n.createElement(ez.Y1,{direction:"horizontal",verticalAlignItems:"center"},n.createElement(eX.In,{icon:"plus-32"}),n.createElement(eZ.E,null,(0,v.tx)("dev_handoff.inspect_panel.new_plugin")),n.createElement(eX.In,{icon:"chevron-down-32"}))),a&&n.createElement("div",null,n.createElement(ej.Pq,{resourceType:T.bD.PLUGIN})))}var e0=a(934085);function e1(){let{activeTab:e}=(0,Q.IT)(),t=(0,P.$A)((0,s.d4)(e=>e.selectedView)),a=(0,b.nl)({allowNonVsCodePluginsInVsCode:!0}),r=(0,b.yQ)(),l=e===eA.s.WIDGET,i=l?r:a,o=(0,C.M)(),c=(0,b.sp)(l);return o&&(Object.keys(i).length>0||c.length>0)?n.createElement(h.fu,{name:"Development"},Object.keys(i).map((e,t)=>n.createElement(eB.ff,{resourceId:e,key:e,type:eB.R7.DEVELOPMENT,keyboardNavigationPath:[Q.B6,t]})),c.map((e,t)=>n.createElement(eB.ff,{resourceId:e.id,key:e.id,type:eB.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[Q.B6,Object.keys(i).length+t]}))):t?n.createElement(eH.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,ew.T)()?"start":"center"},n.createElement(e$,{isDesktop:!!o})):n.createElement(e0.W,{isWidget:l})}var e4=a(984472),e7=a(886119),e5=a(737499),e6=a(848187);function e2(){let{activeTab:e}=(0,Q.IT)(),t=(0,e5.BI)(),a=(0,P.ks)(),{href:r,onClick:s}=(0,ef.y)(`/community/${e===eA.s.PLUGIN?"plugins":"widgets/figma_design"}${a?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:n.createElement(Y.Ph,{className:e6.Qu,href:r,onClick:s,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},n.createElement(Z.B,{svg:eM.A,className:e6.JX}),(0,v.tx)("universal_insert.browse_more_in_community"))}function e8({viewType:e,onBackPress:t}){let a=(0,Q.NF)(Q.gC);return n.createElement(n.Fragment,null,n.createElement(e3,{viewType:e,onBackPress:t}),n.createElement(_.P,{height:a,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},n.createElement(e9,{viewType:e}),n.createElement(e2,null)))}function e3({viewType:e,onBackPress:t}){let a;let{activeTab:r}=(0,Q.IT)(),s=r===eA.s.PLUGIN;return a=e===eA.Y.ORG_PRIVATE_EXPANDED_LIST?s?(0,v.tx)("universal_insert.all_internal_plugins"):(0,v.tx)("universal_insert.all_internal_widgets"):s?(0,v.tx)("universal_insert.all_approved_plugins"):(0,v.tx)("universal_insert.all_approved_widgets"),n.createElement("div",{className:e6.cB},n.createElement("div",{className:e6.kb},n.createElement(Z.B,{svg:eP.A,className:e6.Gv,onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),n.createElement("div",{className:e6.A_},a)),n.createElement(Q.Ex,{containerClassName:e6.VN}))}function e9({viewType:e}){let t;let{activeTab:a}=(0,Q.IT)(),r=(0,e7.h)("plugin"),s=(0,e7.h)("widget"),l=a===eA.s.WIDGET,i=(0,b.ll)(),o=(0,e4.bT)(Object.values(i)),c=(0,b.U6)(),d=l?Object.keys(c):o.map(e=>e.plugin_id);return t=e===eA.Y.ORG_PRIVATE_EXPANDED_LIST?n.createElement(n.Fragment,null,(l?s:r).map((e,t)=>n.createElement(eB.ff,{resourceId:e.plugin_id,type:eB.R7.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[Q.B6,t]}))):n.createElement(n.Fragment,null,d.map((e,t)=>n.createElement(eB.ff,{resourceId:e,type:eB.R7.COMMUNITY,key:e,keyboardNavigationPath:[Q.B6,t]}))),n.createElement("div",{className:e6.QF},t)}var te=a(794272),tt=a(655215),ta=a(335682),tr=a(99506),tn=a(336599),ts=a(376485),tl=a(163119),ti=a(26096);function to(e){let t=(0,x.sZ)();return t?n.createElement(tc,{org:t,viewExpandedList:e.viewExpandedList}):n.createElement(X.kt,{className:e6.S})}function tc(e){let{org:t}=e,{activeTab:a}=(0,Q.IT)(),r=a===eA.s.WIDGET,l=(0,e7.h)("plugin"),i=(0,e4.bT)(l),o=(0,e7.h)("widget"),c=r?o:i,d=c.length>0,u=r?t.widgets_whitelist_enforced:t.plugins_whitelist_enforced,m=r?ts.n_:ts.Gb,_=(0,ta.tS)(),g=(0,tn.mC)(m(t.id,_)),E=(0,b.ll)(),f=(0,e4.bT)(Object.values(E)).map(e=>e.plugin_id),p=(0,b.U6)(),w=n.useMemo(()=>Object.keys(p),[p]),y=(0,b.Be)(),I=(0,b.pR)(y),N=I.orgWidgets,x=I.orgPlugins,C=(0,s.d4)(e=>e.orgUsersByOrgId[t.id][e.user.id]?.permission===tr._D.GUEST),T=(0,te.R)(e=>C?{}:(0,ey.Qt)((0,ey.i8)(Object.values(e.publishedPlugins)),t.id)),P=n.useMemo(()=>{let e=Object.values(x).filter(e=>!T[e.plugin_id]);return t.plugins_whitelist_enforced&&(e=e.filter(e=>E[e.plugin_id])),e.sort(b.YW)},[E,t.plugins_whitelist_enforced,T,x]),L=(0,e4.Ol)(P);L=(0,e4.bT)(L);let A=n.useMemo(()=>L.map(e=>e.plugin_id),[L]),D=n.useMemo(()=>f.filter(e=>!x[e]),[f,x]),B=n.useMemo(()=>{let e=Object.values(N).filter(e=>!(0,tt.s7)(e,t.id));return t.widgets_whitelist_enforced&&(e=e.filter(e=>p[e.plugin_id])),e.sort(b.YW)},[N,t.widgets_whitelist_enforced,t.id,p]),S=(0,e4.Ol)(B),M=n.useMemo(()=>S.map(e=>e.plugin_id),[S]),O=n.useMemo(()=>w.filter(e=>!N[e]),[w,N]),G=r?O:D,U=r?M:A,W=d?n.createElement(n.Fragment,null,(u?c.slice(0,Q.Xo):c).map((e,t)=>n.createElement(eB.ff,{key:e.plugin_id,resourceId:e.plugin_id,type:eB.R7.ORG_PRIVATE,keyboardNavigationPath:[Q.B6,t]})),u&&c.length>Q.Xo&&n.createElement(td,{viewExpandedList:()=>{e.viewExpandedList(eA.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:r?(0,v.t)("universal_insert.all_internal_widgets"):(0,v.t)("universal_insert.all_internal_plugins")})):n.createElement("div",{className:e6.zN},r?(0,v.tx)("universal_insert.no_internal_widgets"):(0,v.tx)("universal_insert.no_internal_plugins")),{href:F,onClick:V}=(0,ef.y)(`/community/${r?"widgets":"plugins"}`),H=u&&n.createElement(n.Fragment,null,n.createElement("div",{className:e6.Uj}),n.createElement("div",{className:e6.sH},(0,v.tx)("universal_insert.approved_from_figma_community"),n.createElement(R.K0,{svg:ti.A,href:F,onClick:V,target:"_blank","data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.go_to_community")})),g&&0===G.length?n.createElement("div",{className:e6.zN},r?(0,v.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,v.tx)("universal_insert.organization_has_no_approved_community_plugins")):n.createElement(n.Fragment,null,(d?G.slice(0,5):G).map((e,t)=>n.createElement(eB.ff,{key:e,resourceId:e,type:eB.R7.COMMUNITY,keyboardNavigationPath:[Q.B6+1,t]})),d&&G.length>5&&n.createElement(td,{viewExpandedList:()=>{e.viewExpandedList(eA.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:r?(0,v.t)("universal_insert.all_approved_widgets"):(0,v.t)("universal_insert.all_approved_plugins")}))),z=U.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:e6.Wz}),n.createElement("div",{className:e6.sH},(0,v.tx)("universal_insert.saved_from_community"),n.createElement(R.K0,{svg:ti.A,href:F,onClick:V,target:"_blank","data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.go_to_community")})),U.map((e,t)=>n.createElement(eB.ff,{key:e,resourceId:e,type:eB.R7.SAVED,keyboardNavigationPath:[Q.B6+2,t]}))):n.createElement(n.Fragment,null,n.createElement("div",{className:e6.Wz}),n.createElement("div",{className:e6.sH},(0,v.tx)("universal_insert.saved_from_community"),n.createElement(R.K0,{svg:ti.A,href:F,onClick:V,target:"_blank","data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.go_to_community")})),n.createElement("div",{className:e6.zN},r?(0,v.tx)("universal_insert.no_saved_widgets"):(0,v.tx)("universal_insert.no_saved_plugins")));return n.createElement(h.fu,{name:"Org"},W,z,H)}function td(e){return n.createElement("button",{onClick:e.viewExpandedList,className:e6.nZ},n.createElement("span",null,e.ctaText),n.createElement(Z.B,{svg:tl.A}))}var tu=a(635305),tm=a(459401),t_=a(675678),tg=a(776250),tE=a(776621),tv=a(428322),tf=a(792199),tp=a(42114),tw=a(357611),th=a(971120),tb=a(107877);function ty({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:a}){let{activeTab:r}=(0,Q.IT)(),l=r===eA.s.WIDGET,i=(0,P.ks)(),o=(0,c.md)(p.RB)&&i,[d,u]=n.useState(!1),{allowListIsLoading:m,allowList:_,hasAllowList:g,hasPluginAllowList:E,hasWidgetAllowList:f,publicExtensionsDisallowed:w}=(0,b.jA)(l),y=(0,e4.bT)(Object.values(_)).map(e=>e.plugin_id),[I,N]=n.useState(null),[x,C]=n.useState(null),[T,L]=n.useState(!1),[A,D]=n.useState(!1),B=(0,s.wA)();n.useEffect(()=>{let e=d!==o;if(E||w||!e&&null!==I||T)return;L(!0);let t={sort_by:tb.eg.POPULAR};i?(t.editor_type=tw.k.Editors.DEV_MODE,o&&(t.capability_type=tp.h.CODEGEN)):t.editor_type=tw.k.Editors.FIGMA,(0,tf.nC)().filter(t).browse(th.L.BrowseResourceTypes.PLUGINS).then(e=>{let t=e.data.meta.resources;B(eE.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),N((0,tm.shuffle)(t)),L(!1),u(o)}).catch(e=>{(0,tE.$D)(t_.FigmaTeam.COMMUNITY,e),L(!1),N([]),u(o)})},[B,I,T,i,g,E,w,o,d]),n.useEffect(()=>{f||null!==x||A||(D(!0),(0,tf.nC)().filter({sort_by:tb.eg.POPULAR,editor_type:tw.k.Editors.FIGMA}).browse(th.L.BrowseResourceTypes.WIDGETS).then(e=>{let t=e.data.meta.resources;B(eE.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),C((0,tm.shuffle)(t)),D(!1)}).catch(e=>{(0,tE.$D)(t_.FigmaTeam.COMMUNITY,e),D(!1),C([])}))},[B,x,A,g,f]);let S=l?x:I,M=l?A:T,{href:O,onClick:G}=(0,ef.y)(`/community/${r===eA.s.PLUGIN?"plugins":"widgets"}`);return n.useMemo(()=>{if(g?m:M)return n.createElement(X.kt,{className:e6.S});if(!(null!==S)&&!g)return null;let s=g?y:S.map(e=>e.id);return w||0===s.length?null:n.createElement(h.fu,{name:g?"Approved plugins":"From Community"},n.createElement("div",{className:a?e6.Wz:e6.Uj}),n.createElement("div",{className:e6.sH,"data-onboarding-key":"community_feed_header"},g?(0,v.tx)("universal_insert.approved_from_figma_community"):(0,v.tx)("universal_insert.from_community"),n.createElement(R.Me,{svg:ti.A,href:O,onClick:G,target:"_blank","data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.go_to_community"),trackingEventName:"Inserts - Browse More From Community Icon Button"})),s.slice(0,g?5:10).map((e,a)=>n.createElement(eB.ff,{key:e,type:eB.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,a]})),g&&s.length>5?n.createElement(td,{viewExpandedList:()=>{e(eA.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:l?(0,v.t)("universal_insert.all_approved_widgets"):(0,v.t)("universal_insert.all_approved_plugins")}):n.createElement(n.Fragment,null,n.createElement(e2,null),n.createElement(tv.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,tg.sx)("community_feed_bottom_reached",{location:"inserts",resourceType:r})}})))},[g,m,M,S,y,w,O,G,l,e,t,a,r])}var tI=a(886653);function tN(e){let t=(0,b.Be)(),a=t.widgets,r=Object.values(t.plugins).sort(b.YW).filter(e=>"user"===e.installed_by),s=(0,tI.xx)(()=>r),l=(0,e4.Ol)(s()),i=(l=(0,e4.bT)(l)).map(e=>e.plugin_id),o=Object.values(a).sort(b.YW).filter(e=>"user"===e.installed_by),c=(0,tI.xx)(()=>o),d=(0,e4.Ol)(c()).map(e=>e.plugin_id);return n.useMemo(()=>e?d:i,[i,d,e])}function tx(e){let t=tN(e.isWidget),[a,r]=n.useState(!1),s=n.useMemo(()=>a?t:t.slice(0,40),[t,a]);return 0===t.length?null:n.createElement(h.fu,{name:"saved"},n.createElement("div",{className:e6.VA},(0,v.tx)("universal_insert.saved")),s.map((e,t)=>n.createElement(eB.ff,{key:e,resourceId:e,type:eB.R7.SAVED,keyboardNavigationPath:[Q.B6+1,t]})),t.length>40&&!a&&n.createElement("button",{className:e6.AR,onClick:()=>r(!0)},e.isWidget?(0,v.tx)("universal_insert.show_all_saved_widgets"):(0,v.tx)("universal_insert.show_all_saved_plugins")))}function tC(e){let{activeTab:t}=(0,Q.IT)(),a=(0,b.op)(),r=(0,b.qr)(),s=(0,b.Be)(),l=t===eA.s.WIDGET,{filterByAllowlist:i,filterByPublicResourcesAllowed:o}=(0,b.jA)(l),c=l?r:a;c=o(c=i(c)),c=(0,e4.bT)(c);let d=n.useMemo(()=>c.length>0?n.createElement(h.fu,{name:"recents"},n.createElement("div",{className:e6.VA,"data-onboarding-key":"recents_plugin_header"},(0,v.tx)("universal_insert.recents")),c.slice(0,Q.Zm).map((e,t)=>n.createElement(eB.ff,{key:e.plugin_id,type:eB.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[Q.B6,t]}))):n.createElement(n.Fragment,null),[c]),u=tN(l);if(!0===s.loaded&&c.length+u.length===0)return n.createElement(h.fu,{name:"Recents and saved"},n.createElement(tu.H,{isWidget:t===eA.s.WIDGET}),n.createElement(ty,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:Q.B6+2}));let m=n.createElement(tx,{isWidget:t===eA.s.WIDGET}),_=c.length>0,g=u.length>0;return n.createElement(h.fu,{name:"Recents and saved"},d,g&&_&&n.createElement("div",{className:e6.Wz}),m,n.createElement(ty,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:Q.B6+2}))}var tT=a(44948);function tk(){let e=n.useRef({}),t=n.useCallback((t,a)=>{e.current[t]=a},[]),a=n.useCallback(t=>e.current[t]||[],[]),r=n.useCallback(t=>t in e.current,[]),s=n.useCallback(()=>{e.current={}},[]);return n.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:a,hasQueryResultsCached:r,resetCache:s}),[t,a,r,s])}var tP=a(463592);let tL=new tP.Ef([],{...en.Pk,keys:en.Kj}),tR=new tP.Ef([],{...en.Pk,keys:[{name:"name",weight:1}]}),tA=new tP.Ef([],{...en.Pk,keys:en.Kj});function tD(e){let t;let{activeTab:a}=(0,Q.IT)(),r=a===eA.s.WIDGET,s=(0,P.ks)(),l=e.query.trim(),{pluginServerSideSearch:i,pluginSearchIsLoading:o,pluginSearchHasResolved:c}=(0,b.I5)(tw.k.Editors.FIGMA),{widgetServerSideSearch:d,widgetSearchIsLoading:u,widgetSearchHasResolved:m}=(0,b.SG)(tw.k.Editors.FIGMA),{getResultsForQuery:g,setResultsForQuery:E,resetCache:f}=tk(),p=g(l),{getResultsForQuery:w,setResultsForQuery:I,resetCache:N}=tk(),C=w(l),{getResultsForQuery:T,setResultsForQuery:k,hasQueryResultsCached:L,resetCache:R}=tk(),A=tB(T(l),[p]),{getResultsForQuery:D,setResultsForQuery:B,hasQueryResultsCached:S,resetCache:M}=tk(),O=tB(D(l),[p,A]),{getResultsForQuery:G,setResultsForQuery:U,resetCache:W}=tk(),F=tB(G(l),[p,A,O]),{getResultsForQuery:V,setResultsForQuery:H,hasQueryResultsCached:z,resetCache:Y}=tk(),Z=tB(V(l),[p,A,O,F]);n.useEffect(()=>{f(),N(),R(),M(),Y(),W()},[r,W,Y,R,N,M,f]);let j=(0,b.Tg)(),K=(0,b.qr)(),$=(0,b.$1)(),q=(0,b.yQ)(),J=(0,b.ll)(),ee=(0,b.U6)(),et=(0,b.cW)(),ea=(0,b.ZT)(),er=(0,tT.k9)(()=>Object.keys(r?ee:J).map(e=>(0,ey.uF)((r?ea:et)[e])),[J,ea,et,ee,r]);n.useEffect(()=>{tL.set(Object.values(r?K:j))},[j,K,r]),n.useEffect(()=>{tR.set(Object.values(r?q:$))},[$,q,r]),n.useEffect(()=>{tA.set(er)},[er]);let en=(0,x.sZ)(),{serverSideSearch:es,isLoading:el,hasResolved:ei}=a===eA.s.PLUGIN?{serverSideSearch:i,isLoading:o,hasResolved:c}:{serverSideSearch:d,isLoading:u,hasResolved:m};n.useEffect(()=>{""!==l&&(z(l)&&S(l)&&L(l)||es(l,e=>H(l,e),e=>B(l,e),e=>k(l,e)),E(l,tL.search(l).map(e=>e.plugin_id)),I(l,tR.search(l).map(e=>e.localFileId.toString())),U(l,tA.search(l).map(e=>e.plugin_id)))},[l,z,L,S,es,U,H,k,I,B,E]);let eo=y.z4.getIsExtension()?Q.gC+Q.Ix:s?Q.gC+Q.Ix+Q.ff+8:Q.gC+Q.Ix,ec=(0,Q.NF)(eo),ed=s?e6.mH:e6.PP,eu=s?e6.k8:e6.DN,em=n.useCallback(t=>{let a=e.searchContainerRef.current;a&&(t>0?a.className=eu:a.className=ed)},[e.searchContainerRef,eu,ed]);n.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=ed)},[]);let e_=en&&(r?en.widgets_whitelist_enforced:en.plugins_whitelist_enforced),eg=(!e_||(0,ep.Cs)({org:en,isWidget:r}))&&Z&&Z.length>0&&ei,eE=e_&&F.length>0,ev=en&&O&&O.length>0&&ei,ef=A.length>0&&ei,ew=p.length>0,eh=C.length>0,eb=ei&&(eg||ev||ew||ef||eE);if(ei&&!(ew||eh||eb))t=n.createElement("div",{className:e6.zN},r?e_?(0,v.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:en.name,query:l}):(0,v.tx)("universal_insert.no_widgets_matching_query",{query:l}):e_?(0,v.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:en.name,query:l}):(0,v.tx)("universal_insert.no_plugins_matching_query",{query:l}));else{t=[];let e=Q.B6;ew&&(t.push(n.createElement(tM,{sectionHeader:(0,v.tx)("universal_insert.recents"),ids:p,type:eB.R7.RECENT,sectionIdx:e,key:eB.R7.RECENT})),e+=1),eh&&(t.push(n.createElement(tM,{sectionHeader:(0,v.tx)("universal_insert.development"),ids:C,type:eB.R7.DEVELOPMENT,key:eB.R7.DEVELOPMENT,sectionIdx:e})),e+=1),el&&!eb?t.push(n.createElement(X.kt,{className:e6.S,key:"Loading spinner"})):(ef&&(t.push(n.createElement(tM,{sectionHeader:(0,v.tx)("universal_insert.saved"),ids:A,type:eB.R7.SAVED,key:eB.R7.SAVED,sectionIdx:e})),e+=1),ev&&(t.push(n.createElement(tM,{sectionHeader:en.name,ids:O,type:eB.R7.ORG_PRIVATE,key:eB.R7.ORG_PRIVATE,sectionIdx:e})),e+=1),eE&&(t.push(n.createElement(tM,{sectionHeader:(0,v.tx)("universal_insert.approved_from_figma_community"),ids:F,type:eB.R7.COMMUNITY,key:`ALLOW_LIST_${eB.R7.COMMUNITY}`,sectionIdx:e})),e+=1),eg&&t.push(n.createElement(tM,{sectionHeader:(0,v.tx)("universal_insert.from_community"),ids:Z,type:eB.R7.COMMUNITY,key:eB.R7.COMMUNITY,sectionIdx:e})))}return n.createElement(_.P,{height:ec,onScroll:em,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},n.createElement(h.fu,{name:"search",properties:{searchQuery:l,resourceType:a}},t))}let tB=(e,t)=>{let a={};return t.forEach(e=>e.forEach(e=>a[e]=!0)),e.filter(e=>!a[e])};function tS(e){return n.createElement("div",{onClick:()=>(0,tg.sx)("search result clicked"),role:"none","data-testid":`browse-resource-tile-${e.resourceId}`},n.createElement(eB.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function tM(e){return n.createElement(n.Fragment,null,e.sectionIdx>Q.B6&&n.createElement("div",{className:e6.Wz}),n.createElement("div",{className:e6.bV},e.sectionHeader),e.ids.map((t,a)=>n.createElement(tS,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,a]})))}let tO=()=>({[eA.s.COMPONENT]:{label:(0,v.t)("universal_insert.components"),tab:eA.s.COMPONENT,resourceTypeLabel:(0,v.t)("universal_insert.components_resource_type")},[eA.s.PLUGIN]:{label:(0,v.t)("community.view_bar.plugins"),tab:eA.s.PLUGIN,resourceTypeLabel:(0,v.t)("community.plugins.plugin")},[eA.s.WIDGET]:{label:(0,v.t)("community.view_bar.widgets"),tab:eA.s.WIDGET,resourceTypeLabel:(0,v.t)("community.plugins.widget")}});function tG(e){let t=e6.Mf,a=e6.xR;return n.createElement("div",{className:e6.Ng},n.createElement("div",{className:e6.oB},Object.entries(tO()).map(([r,s])=>n.createElement("div",{className:e6.nN,key:r,role:"tab",onClick:()=>e.onClick(s.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},n.createElement("div",{key:r,"data-label":s.label,className:s.tab===e.selectedTab?a:t},s.label)))),n.createElement(Q.Ex,{containerClassName:e6.VN}))}var tU=a(120118),tW=a(115381);let tF="BROWSE_CODEGEN_FILTER_DROPDOWN";function tQ(){let e=n.useRef(null),{fdPreviewResource:t,initialFdView:a}=(0,s.d4)(e=>e.universalInsertModal),l=t?.id,{activeTab:i,currentView:o,setCurrentViewOrTab:c}=(0,Q.IT)(),u=(0,P.ks)(),_=u?e6.Hd:e6.Kl,[g,E]=n.useState(a?"":r||""),[f,p]=n.useState(eA.Y.MAIN),w=n.useCallback(e=>{if(e.keyCode===d.Uz.ENTER){let t=e.target,a=t?.querySelector("button");a?.click()}},[]);n.useEffect(()=>{r=g},[g]);let b=n.useMemo(()=>n.createElement(tG,{onClick:t=>{t!==eA.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:i}),[i,c]),y=n.useMemo(()=>{let t=u?e6.mH:e6.PP;return i===eA.s.COMPONENT?n.createElement(h.fu,{name:i},n.createElement(V,{header:b,query:g,setQuery:E})):n.createElement(h.fu,{name:i},!u&&b,n.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),role:"none"},n.createElement(m.dP,{onKeyDown:w},n.createElement("div",{className:t,ref:e},n.createElement(tV,{searchQuery:g,placeholder:i===eA.s.PLUGIN?(0,v.t)("universal_insert.search_all_plugins"):i===eA.s.WIDGET?(0,v.t)("universal_insert.search_all_widgets"):(0,v.t)("universal_insert.search_all_extensions"),setSearchQuery:E})),0===g.length&&n.createElement(tH,{viewExpandedList:p,currentView:o,setCurrentView:e=>c({newView:e})}),g.length>0&&n.createElement(tD,{query:g,searchContainerRef:e}))))},[i,w,g,u,b,o,c]),I=null;return l?I=n.createElement(eW,{resourceId:l}):(f===eA.Y.ORG_PRIVATE_EXPANDED_LIST||f===eA.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(I=n.createElement(m.dP,{onKeyDown:w},n.createElement(e8,{viewType:f,onBackPress:()=>p(eA.Y.MAIN)}))),n.createElement("div",{className:_},n.createElement("div",{className:I?e6.Ye:e6.dJ},y),I&&n.createElement("div",{className:e6.dJ},I))}function tV({searchQuery:e,setSearchQuery:t,placeholder:a}){let r=(0,s.wA)(),{setKeyboardNavigationElement:l}=(0,m.M3)({id:"search",path:[Q.np,0]}),d=(0,N.Um)(),_=d?.type===tF,E=n.useRef(null),[h,b]=(0,c.fp)(p.RB),y=h&&!_,x=(0,I.LR)(),C=n.useCallback(a=>"Escape"===a.key&&(e?t(""):x(),!0),[x,e,t]),T=(0,o.A)(e=>{e.length>0?r(f.Dy({entryPoint:"figma:inserts"})):r(f.ky()),t(e)},300);n.useEffect(()=>()=>{r(f.ky())},[r]);let A=n.useCallback(()=>{_?r(w.oB()):r(w.j7({type:tF}))},[r,_]),D=[];D.push(n.createElement(u.MM,{checked:h,onClick:()=>{b(!h),A()},role:"menuitemcheckbox"},(0,v.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let B=(0,P.ks)(),S=n.createElement(g.IW,{focusOnMount:!0,selectTextOnMount:!B,className:i()(B?e6.FK:e6.ON,{[e6.lX]:""===e}),query:e,placeholder:a,clearSearch:()=>{r(f.ky()),t("")},onChange:T,isKeyDownHandled:C,hideXIcon:!e,ref:e=>l(e?.searchInput??null)});if(!B||e)return S;let M="dev-mode-codegen-filter-menu";return n.createElement("div",{className:e6.Ub},S,n.createElement("div",{className:e6.gP},n.createElement("div",{ref:E},n.createElement(R.YW,{svg:y?tW.A:tU.A,selected:_,selectedClassName:e6.rq,onClick:A,className:i()({[e6.Pt]:y}),onMouseDown:e=>_&&e.stopPropagation(),"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-expanded":_,"aria-owns":M}))),_&&E.current&&n.createElement(L.Jz,{id:M,showPoint:!0,targetRect:E.current.getBoundingClientRect(),options:D,hideDropdown:A,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,propagateCloseClick:!0}))}function tH(e){let t=n.useRef(null),a=(0,P.ks)(),r=y.z4.getIsExtension()?Q.Ix+Q.gC+48:a?Q.gC+Q.Kr+Q.Ix+Q.ff:Q.gC+Q.Kr+Q.Ix,{activeTab:l,currentView:o}=(0,Q.IT)(),c=(0,Q.NF)(r),d=n.useRef(null),u=(0,s.wA)(),m=n.useCallback(e=>{t.current&&(e>0?t.current.className=i()(e6.gD,e6.d3):t.current.className=i()(e6.q_,e6.d3),u(w.oB()))},[t,u]);n.useEffect(()=>{d.current?.scrollToTop()},[l,o]);let g=n.createElement(n.Fragment,null,n.createElement(tz,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&n.createElement(tC,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&n.createElement(e1,null),"org"===e.currentView&&n.createElement(to,{viewExpandedList:e.viewExpandedList}));return n.createElement("div",null,n.createElement("div",{className:i()(e6.q_,e6.d3),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header"},n.createElement(tY,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&n.createElement("div",{className:e6.x0},n.createElement(D.n,{resourceType:l===eA.s.WIDGET?T.bD.WIDGET:T.bD.PLUGIN}))),n.createElement(_.P,{height:c,onScroll:m,innerClassName:a?E.cx.hFull.$:"",ref:d},g))}function tz({currentView:e}){let{activeTab:t}=(0,Q.IT)(),a=x.sZ()?.id,r=(0,b.f6)(),s=(0,b.wW)(),l=t===eA.s.WIDGET?s:r,i="org"===e?l.filter(e=>e.org_id&&e.org_id===a):l;return 0===i.length?null:n.createElement("div",null,i.map((e,t)=>n.createElement(eB.ff,{resourceId:e.id,key:e.id,type:eB.R7.INVITED,keyboardNavigationPath:[Q.dQ,t]})),n.createElement("div",{className:e6.Wz}))}function tY(e){let t=(0,s.wA)(),a=(0,N.Um)(),r=(0,x.sZ)(),l=(0,C.M)(),i=n.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,v.t)("universal_insert.recents_and_saved");case"development":return(0,v.t)("universal_insert.development");case"org":return t?.name||(0,v.t)("universal_insert.from_your_org")}})(e,r),[r]),o=["recents_and_saved"];return(l&&o.push("development"),1!==o.length||r)?n.createElement(A.l6,{id:"fd-browse-modal-main-view-select",property:e.currentView,formatter:{format:i},onChange:e.onChange,dispatch:t,chevronClassName:e6.bq,inputClassName:e6.yl,className:e6.E3,dropdownShown:a,dropdownWidth:173},o.map(e=>n.createElement(A.c$,{value:e,key:e},i(e))),r&&n.createElement(A.sK,null),r&&n.createElement(A.c$,{value:"org"},i("org"))):n.createElement("div",{className:e6.ZE},n.createElement("div",{className:e6.yl},i(o[0])))}},981952:(e,t,a)=>{a.d(t,{P:()=>n,R:()=>s});var r=a(411855);function n(e){(0,r.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function s(e){let[t,a]=(0,r.useState)(window.innerWidth<=e);return n(r=>{r.width<=e&&!t?a(!0):r.width>e&&t&&a(!1)}),t}},862043:(e,t,a)=>{a.d(t,{s:()=>n});var r=a(411855);function n(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 6a.5.5 0 0 1 .5.5V7h10a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7v2.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 .5-.5M7 8v7h10V8zm6.854 1.446a.5.5 0 0 1 0 .707L12.707 11.3l1.147 1.146a.5.5 0 0 1-.708.707L12 12.007l-1.146 1.146a.5.5 0 0 1-.708-.707l1.147-1.146-1.147-1.147a.5.5 0 0 1 .708-.707L12 10.593l1.146-1.147a.5.5 0 0 1 .708 0",clipRule:"evenodd"}))}}}]);

//# debugId=a69c396b-bfee-59d4-b9fe-f7a8434a64b8

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8d1f502a5d5256c5a7d76514941c9ef454671ce2/5672-ef5d2e68ca807fa4.min.js.map