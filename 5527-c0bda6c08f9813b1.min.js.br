"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="340f51b1-d40a-5df8-985a-f4320eebd321")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[5527],{276432:(e,t,n)=>{n.d(t,{X:()=>k});var o=n(411855),a=n(188507),i=n(648836),r=n(481483),l=n(544750),c=n(75888),s=n(677859),d=n(587670),p=n(86625),m=n(629019),u=n.n(m),_=n(498750),E=n(541524),y=n(100197),g=n(7959),v=n(630978),I=n(695342),N=n(221537),h=n(12519);let T="stack_controls--input--gK1jo text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",A="stack_controls--scrubbableControl--b1ChI",P="stack_controls--inputSvg--wFizL",O="stack_controls--stackSpacingRow--Uus3H";function f(){let e=(0,y.J2)(d.Ez5.canvasViewState().focusedStackRegion);if(!e)return null;let{region:t,focus:n}=e;return t===d.RN9.SPACING?o.createElement(C,{focusOnMount:n}):t===d.RN9.COUNTER_SPACING?o.createElement(S,{focusOnMount:n}):o.createElement(D,{stackRegion:t,focusOnMount:n})}let b=e=>{if(e.keyCode===_.Uz.TAB){e.preventDefault(),e.currentTarget.blur();let t=e.shiftKey;d.Qa7.tabActiveStackRegion(t)}};function C({focusOnMount:e}){return o.createElement(g.fI,{className:O},o.createElement(h.KI,{focusOnMount:e,outerClassName:A,inputClassName:T,svgClassName:P,onBlur:d.Qa7.clearActiveStackRegion,onKeyDown:b,onPaste:w,noBorderOnFocus:!0,recordingKey:"stackSpacingControl",inputTestId:"stackSpacingControl",source:"canvas",onCanvasUI:!0}))}function S({focusOnMount:e}){return o.createElement(g.fI,{className:O},o.createElement(v.q,{focusOnMount:e,outerClassName:A,inputClassName:T,svgClassName:P,onBlur:d.Qa7.clearActiveStackRegion,onKeyDown:b,onPaste:w,noBorderOnFocus:!0,recordingKey:"stackCounterSpacingControl",inputTestId:"stackCounterSpacingControl",source:"canvas",onCanvasUI:!0}))}function D({stackRegion:e,focusOnMount:t}){let[n]=(0,N.HF)(e),a=Array.isArray(n)?n.length:0;return e===d.RN9.SPACING?null:o.createElement(g.fI,{className:u()("stack_controls--stackPaddingRow--40WUa",{"stack_controls--large--bJFUN":a>3})},o.createElement(I.s,{paddingSelection:e,focusOnMount:t,outerClassName:A,inputClassName:T,onBlur:d.Qa7.clearActiveStackRegion,onKeyDown:b,onPaste:w,noBorderOnFocus:!0,svgClassName:P,recordingKey:"stackPaddingControl",inputTestId:"stackPaddingControl",source:"canvas",disableVariablesEntryPoint:!0}))}function w(e){(0,E.gk)(e)&&(e.preventDefault(),e.currentTarget.blur(),p.l7.user("paste-in-stack",()=>{d.glU.triggerAction("paste",{})}))}let k=o.memo(function(){return(0,a.d4)(e=>e.mirror.appModel.isReadOnly)?null:o.createElement(x,null)});function x(){return o.createElement(i.k,{isShown:!0},o.createElement(c.IA,null,o.createElement(K,{testID:"DesignInlineMenu"})))}function K({testID:e}){let t=(0,a.d4)(e=>{let t=e.mirror.selectionProperties.stackMode;return 1===e.mirror.selectionProperties.numSelected&&("HORIZONTAL"===t||"VERTICAL"===t)});return(0,a.d4)(e=>{let t=e.mirror.selectionProperties.selectedWidgetInfo;return!!(1===e.mirror.selectionProperties.numSelected&&t?.propertyMenu.length)})?o.createElement(s.W1,{size:"small",testID:e},o.createElement(r.jk,null),o.createElement(l.x,null)):t?o.createElement(s.W1,{testID:e,darkModePreferred:!0},o.createElement(f,{key:"stackControls"})):null}},511787:(e,t,n)=>{n.d(t,{f:()=>E});var o=n(411855),a=n(153234),i=n(572206),r=n(268537),l=n(163023),c=n(318812),s=n(298543),d=n(983092),p=n(820396),m=n(1715),u=n(590685),_=n(501191);function E({resolvedTypes:e,recordingKey:t}){let{showing:n,toggle:r,hide:p}=(0,c.BK)("expression-builder-create-variable"),m=o.useRef(null),E=a.rf(a.Pt(t,"createVariableDropdown"),"click",o.useCallback(()=>{1===e.length?N(e[0]):r()},[e,r])),[g,v]=o.useState(!1),I=o.useRef(null),N=e=>{let t=m.current?.getBoundingClientRect();t&&(I.current={initialPosition:new i.Mi(t.left,t.top),resolvedType:e},v(!0))},h=()=>{v(!1)};return o.createElement(o.Fragment,null,o.createElement("button",{ref:m,className:u.ZS,onClick:E},o.createElement(l.B,{svg:_.A})),g&&(g&&I.current?o.createElement(d.IU,{initialPosition:I.current.initialPosition,resolvedType:I.current.resolvedType,onCreateVariable:h,onClose:h}):null),n&&m.current&&o.createElement(s.Cf,{arrowOffsetFromRectLeft:14,leanPadding:0,lean:"right",targetRect:m.current.getBoundingClientRect()},e.map(e=>o.createElement(y,{key:e,resolvedType:e,onClose:p,showCreationModal:N,recordingKey:t}))))}function y({resolvedType:e,onClose:t,showCreationModal:n,recordingKey:i}){let l=(0,m.F)(e),c=a.rf(a.Pt(i,"createVariableOption",l.name),"click",o.useCallback(()=>{n(e),t()},[t,e,n]));return o.createElement(r.c$,{className:u.Fs,onClick:c},o.createElement(p.i,{type:e,showTooltip:!1}),l.name)}},254178:(e,t,n)=>{let o;n.d(t,{E:()=>oc});var a=n(411855),i=n(188507),r=n(343887),l=n(723215),c=n(536825),s=n(631437),d=n(587670),p=n(86625),m=n(534611),u=n(629019),_=n.n(u),E=n(866206),y=n(91408),g=n(966712),v=n(374626),I=n(529004),N=n(860601),h=n(153234),T=n(572206),A=n(355819),P=n(46481),O=n(939863),f=n(259927),b=n(226055),C=n(356390),S=n(541524),D=n(848661),w=n(457630),k=n(29680),x=n(335682),K=n(94500),M=n(945020),R=n(498606),U=n(233890),L=n(83695),V=n(776250),B=n(344780),F=n(320063),G=n(325682),W=n(820286),Y=n(175290),H=n(7959),z=n(163023),X=n(901536),J=n(422237),$=n(503965);let q=(0,J.ex)("prototype_action_info",function(){return a.createElement("div",{className:X.cx.flex.itemsCenter.justifyCenter.$},a.createElement(z.B,{className:"prototype_action_info_tooltip--prototypeDestinationInfoIcon--GeQWS",svg:$.A}),a.createElement("span",{className:X.cx.flexGrow1.m6.$,style:{maxWidth:144}},(0,O.tx)("proto.prototype_panel.use_the_circular_node_to_connect_the_selected_object_to_another_frame_tooltip")))},()=>({unconstrainWidth:!0}));function Q(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 6a.5.5 0 0 1 .5.5V11a1 1 0 0 0 1 1h4.5a.5.5 0 0 1 0 1H13a2 2 0 0 1-2-2V6.5a.5.5 0 0 1 .5-.5",clipRule:"evenodd"}))}var Z=n(522739),j=n(723081),ee=n(318812),et=n(30637),en=n(46878),eo=n(107244),ea=n(538697),ei=n(872429),er=n(306535);class el extends ea.c${}class ec extends ea.l6{}function es({action:e}){return a.createElement("div",{className:"prototype_action_dropdown--prototypeActionIcon--qChhY"},a.createElement(P.U,{svg:(0,en.Yb)(e)},(0,en.av)(e)))}function ed(e){let t=`prototype-action-select-${e.recordingKey}`,n=e.dropdownShown&&e.dropdownShown.type===t,o=(0,D.E7)(e.action),r=(0,en.Yb)(o),l=(0,en.av)(o),c=(0,b.GS)(),s=(0,i.d4)(eo.ZM),d=new j.js(c,s),p=new j.Z6(c,s),m=n?d:p,u=!(0,i.d4)(e=>e.mirror.selectionProperties.isValidPrototypingSourceSelected??!0),E=a.useCallback(e=>e-24,[]),y=a.useCallback(e=>e+24,[]),[g,v]=a.useState(void 0),I=a.createElement(er.Q,{setMaxWidth:v,options:ep(e),formatOption:e=>e&&e.props.value?m.format(e.props.value):"",getIcon:()=>a.createElement(es,{action:"NAVIGATE_TO"})}),N=_()({[e.className??""]:!0,"prototype_action_dropdown--select--b3Ssx":!c}),T=a.createElement(P.U,{svg:r},l);return a.createElement(a.Fragment,null,a.createElement(ec,{disabled:u,id:t,dataTestId:"action-select",className:N,chevronClassName:"prototype_action_dropdown--prototypeActionChevron--ZL1Q4",inputClassName:"prototype_action_dropdown--prototypeActionInputWithSvg--Atfua",property:e.action,formatter:m,onChange:e.onChange,dispatch:e.dispatch,dropdownShown:e.dropdownShown,icon:T,iconClassName:"prototype_action_dropdown--selectActionSvg--XfhUx",recordingKey:h.Pt(e,"select"),hideDropdownWhenContainerMoves:!(0,et.nl)(),dropdownAlignment:E,dropdownWidth:c?g:y},ep(e)),c&&I)}function ep(e){let t=(0,ei.cJ)(),n=a.createElement(el,{key:"NONE",value:"NONE",icon:a.createElement(es,{action:"NONE"}),recordingKey:h.Pt(e,"clear-option"),disabled:!1}),o=a.createElement(el,{key:"NAVIGATE_TO",value:"NAVIGATE_TO",icon:a.createElement(es,{action:"NAVIGATE_TO"}),recordingKey:h.Pt(e,"navigate-to-option"),disabled:!1}),i=a.createElement(el,{key:"SWAP_STATE_TO",value:"SWAP_STATE_TO",icon:a.createElement(es,{action:"SWAP_STATE_TO"}),recordingKey:h.Pt(e,"swap-state-to-option"),disabled:!d.glU.isSelectionContainedInStateOrStateInstance()}),r=a.createElement(el,{key:"GO_BACK",value:"GO_BACK",icon:a.createElement(es,{action:"GO_BACK"}),recordingKey:h.Pt(e,"back-option"),disabled:!1}),l=a.createElement(el,{key:"SCROLL_TO",value:"SCROLL_TO",icon:a.createElement(es,{action:"SCROLL_TO"}),recordingKey:h.Pt(e,"scroll-to-option"),disabled:!1}),c=a.createElement(el,{key:"OPEN_URL",value:"OPEN_URL",icon:a.createElement(es,{action:"OPEN_URL"}),recordingKey:h.Pt(e,"url-option"),disabled:!1}),s=a.createElement(el,{key:"OPEN_OVERLAY",value:"OPEN_OVERLAY",icon:a.createElement(es,{action:"OPEN_OVERLAY"}),recordingKey:h.Pt(e,"open-overlay-option"),disabled:!1}),p=a.createElement(el,{key:"SWAP_WITH",value:"SWAP_WITH",icon:a.createElement(es,{action:"SWAP_WITH"}),recordingKey:h.Pt(e,"swap-with-option"),disabled:!1}),m=a.createElement(el,{key:"CLOSE_OVERLAY",value:"CLOSE_OVERLAY",icon:a.createElement(es,{action:"CLOSE_OVERLAY"}),recordingKey:h.Pt(e,"close-option"),disabled:!1}),u=!t&&a.createElement(el,{key:"SET_VARIABLE",value:"SET_VARIABLE",icon:a.createElement(es,{action:"SET_VARIABLE"}),recordingKey:h.Pt(e,"set-variable"),disabled:!1}),_=!t&&(0,g.kc)().prototype_set_mode_action&&a.createElement(el,{key:"SET_VARIABLE_MODE",value:"SET_VARIABLE_MODE",icon:a.createElement(es,{action:"SET_VARIABLE_MODE"}),recordingKey:h.Pt(e,"set-variable-mode"),disabled:!1}),E=!t&&!e.isNestedInConditional&&a.createElement(el,{key:"CONDITIONAL",value:"CONDITIONAL",icon:a.createElement(es,{action:"CONDITIONAL"}),recordingKey:h.Pt(e,"conditional"),disabled:!1}),y=a.createElement(ea.sK,{key:"first-divider"}),v=a.createElement(ea.sK,{key:"second-divider"}),I=a.createElement(ea.sK,{key:"third-divider"}),N=(0,b.GS)()?[n,y,o,i,r,l,c,v,s,p,m,...t?[]:[I],u,_,E]:[n,y,o,i,r,v,u,_,E,l,c,I,s,p,m];if(e.showVideoActions){let t=[a.createElement(ea.sK,{key:"fourth-divider"}),a.createElement(el,{key:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS",value:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS",icon:a.createElement(es,{action:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS"}),recordingKey:h.Pt(e,"update-media-play-pause-options"),disabled:!1}),a.createElement(el,{key:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS",value:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS",icon:a.createElement(es,{action:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS"}),recordingKey:h.Pt(e,"update-media-mute-unmute-options"),disabled:!1}),a.createElement(el,{key:"UPDATE_MEDIA_SKIP_TO",value:"UPDATE_MEDIA_SKIP_TO",icon:a.createElement(es,{action:"UPDATE_MEDIA_SKIP_TO"}),recordingKey:h.Pt(e,"update-media-skip_to"),disabled:!1}),a.createElement(el,{key:"UPDATE_MEDIA_SKIP_BY_OPTIONS",value:"UPDATE_MEDIA_SKIP_BY_OPTIONS",icon:a.createElement(es,{action:"UPDATE_MEDIA_SKIP_BY_OPTIONS"}),recordingKey:h.Pt(e,"update-media-skip-by-options"),disabled:!1})];N=N.concat(t)}return N.filter(Boolean)}var em=n(634832),eu=n(983405),e_=n(869156),eE=n(773833),ey=n(736656),eg=n(533573),ev=n(712685),eI=n(843709);let eN="prototype_action_verbose_title--actionNameInsertion--aF4kI",eh="prototype_action_verbose_title--actionName--qWJL3",eT="prototype_action_verbose_title--actionNameUI3--JAYsG",eA=()=>{let e=(0,i.d4)(e=>e.mirror.sceneGraph);return a.useMemo(()=>new j.cP(e),[e])};function eP({action:e,isNestedInConditional:t,isNarrowPanel:n,onClick:o}){let i=(0,G.YT)()===G.Oz.TWO_COL,r=a.useContext(ey.c),l=i&&r===ey.P.LEFT,c=t||n,s=(0,e_.u)((0,D.hS)(e.targetVariable)&&e.targetVariable&&"id"in e.targetVariable?e.targetVariable?.id:void 0),p=(0,D.hS)(e.targetVariable)&&e.targetVariable&&"nodeFieldAlias"in e.targetVariable?(0,eE.aA)(e.targetVariable.nodeFieldAlias.stablePathToNode,e.targetVariable.nodeFieldAlias.indexOrKey):void 0,u=s?.name??p?.name,E=eA(),y=new j.Z6((0,b.GS)()),g=(0,j._X)(e),v=(0,D.E7)(g),I=a.createElement(P.U,{svg:(0,en.Yb)(v)},(0,en.av)(v)),h=e=>{if(!e.connectionType||(0,D.gl)(e.connectionType))return null;let t=_()({[eh]:!0,[eT]:i}),n=_()({"prototype_action_verbose_title--actionDestination--JZ-gU":!0,"prototype_action_verbose_title--actionDestinationUI3--ZGxbq":i});switch(e.connectionType){case"NONE":case"SET_VARIABLE_MODE":return null;case"INTERNAL_NODE":case"BACK":case"CLOSE":case"UPDATE_MEDIA_RUNTIME":{let o=e.transitionNodeID;if((0,D.gl)(o))return a.createElement("div",{className:t},(0,O.t)("proto.variant_actions.mixed"));if(void 0===o)return null;let i=m.dI(o),r=E.format(i);return a.createElement("div",{className:n},r)}case"URL":{let o=e.connectionURL;if(!o)return null;if((0,D.gl)(o))return a.createElement("div",{className:t},(0,O.t)("proto.variant_actions.mixed"));return a.createElement("div",{className:n},o)}case"SET_VARIABLE":if(!e.targetVariableData||(0,D.gl)(e.targetVariableData))return null;return a.createElement("div",{className:"prototype_action_verbose_title--setVariablePreviewContainer--6omxy"},a.createElement(L.y3,{targetVariableData:e.targetVariableData,onClick:N.lQ,showVariableThumbnails:!1,isNarrowPanel:c,isInConditional:!0}));case"CONDITIONAL":{if((0,D.gl)(e)||(0,D.gl)(e.conditionalActions)||!e.conditionalActions)return null;let t=e.conditionalActions.length>0?e.conditionalActions[0].condition:void 0;return a.createElement(L.y3,{targetVariableData:t,onClick:N.lQ,isInConditional:!0,showVariableThumbnails:!1})}default:(0,em.assertNever)(e.connectionType)}},T=_()({[eI.Li]:c&&!i,[eI.O8]:!c&&!i,[eI.kE]:i}),A=_()({"prototype_action_verbose_title--iconContainer--jqarD":!0,"prototype_action_verbose_title--iconContainerUI3--yBP0-":i});return a.createElement("div",{className:T,onClick:o,role:"button",tabIndex:0},a.createElement(eu.Y1,{horizontalAlignItems:"space-between",width:"fill-parent"},a.createElement("div",{className:A},I),(e=>{let t=v?y.format(v):"Undefined",n=_()({[eh]:!0,[eT]:i});if((0,D.gl)(e.connectionType)&&(t=(0,O.t)("fullscreen.mixed")),!e.connectionType||(0,D.gl)(e.connectionType)||"NONE"===e.connectionType||"BACK"===e.connectionType||"CLOSE"===e.connectionType)return a.createElement(a.Fragment,null,a.createElement("div",{className:n},t));var o=h(e);switch(e.connectionType){case"INTERNAL_NODE":if("SWAP_STATE"===e.navigationType)return a.createElement(a.Fragment,null,a.createElement("div",{className:n},(0,O.t)("proto.action_change_to")),o);if(o){if("OVERLAY"===e.navigationType)return a.createElement(a.Fragment,null,a.createElement("div",{className:eN},(0,O.tx)("proto.action_overlay_title",{overlayFrameName:a.createElement("span",null,o)})));if("SWAP"===e.navigationType)return a.createElement(a.Fragment,null,a.createElement("div",{className:n},(0,O.t)("proto.action_swap_overlay_title")),o)}return a.createElement(a.Fragment,null,a.createElement("div",{className:n},t),o);case"UPDATE_MEDIA_RUNTIME":return a.createElement(a.Fragment,null,a.createElement("div",{className:n},t),o);case"URL":return a.createElement(a.Fragment,null,a.createElement("div",{className:n},o?(0,O.t)("proto.action_url_title"):(0,O.t)("proto.action_open_link")),o);case"SET_VARIABLE":{let r=e.targetVariableData&&(0,D.hS)(e.targetVariableData)&&e.targetVariableData.resolvedType===d.rXF.COLOR,c=_()({"prototype_action_verbose_title--actionNameInsertionColor--isir- prototype_action_verbose_title--actionNameInsertion--aF4kI":!0,"prototype_action_verbose_title--actionNameInsertionColorUI3--Apj0i":i});if(u&&o)return a.createElement(a.Fragment,null,a.createElement("div",{className:r?c:eN},(0,O.tx)("proto.action_set_variable_title",{variableName:a.createElement("span",{className:"prototype_action_verbose_title--variableNameContainer--XeJX2"},a.createElement(ev.w,{text:u,isDeleted:!!s&&(0,eg.eF)(s),disableHover:l})),variableValue:a.createElement("span",{className:"prototype_action_verbose_title--variableDestinationContainer--RXbKo prototype_action_verbose_title--variableNameContainer--XeJX2"},o)})));return a.createElement(a.Fragment,null,a.createElement("div",{className:n},t))}case"SET_VARIABLE_MODE":return a.createElement(a.Fragment,null,a.createElement("div",{className:n},(0,O.t)("proto.action_set_variable_mode")));case"CONDITIONAL":return a.createElement(a.Fragment,null,a.createElement("div",{className:n},i?(0,O.t)("proto.if"):(0,O.t)("proto.action_conditional_title")),o);default:(0,em.assertNever)(e.connectionType)}})(e)))}var eO=n(566418),ef=n(215122),eb=n(789529),eC=n.n(eb),eS=n(636149),eD=n.n(eS),ew=n(675551),ek=n.n(ew),ex=n(184058),eK=n.n(ex),eM=n(776621),eR=n(154483),eU=n(994481),eL=n(564092),eV=n(896850);let eB="prototype_set_variable_mode_controls--dropdownRow--vl5z4",eF="missing";class eG extends ea.l6{}class eW extends ea.c${}class eY extends ea.l6{}class eH extends ea.c${}let ez={},eX=(0,eR.fv)();function eJ(){let e=(0,e_.h6)()||ez,t=(0,eL.iR)(),n=a.useMemo(()=>{let n=ek()(t,(e,t)=>({collectionID:e.node_id,collectionName:e.name,key:e.key,modeOptions:e.modes?.map(t=>({modeId:{guid:t.id,collectionKey:e.key},name:t.name,isCompatible:!0}))||[],explicitMode:null,inheritMode:null,fileKey:eX(e)}));return eC()({},e,n)},[t,e]),o=a.useMemo(()=>Object.entries(n).map(([e,t])=>({setKey:e,modeData:t,isLocal:void 0===t.fileKey})),[n]),r=a.useMemo(()=>Object.values(o).filter(e=>e.modeData?.modeOptions&&e.modeData?.modeOptions.length>1),[o]),l=a.useMemo(()=>eK()(r.map(e=>e.modeData.fileKey??eV.BH)),[r]),c=(0,e_.el)(l),[s,p]=a.useMemo(()=>{let{_local:e,_unknownFile:t,...n}=eD()(r,e=>e.isLocal?"_local":e.modeData.fileKey&&void 0===c[e.modeData.fileKey]?"_unknownFile":e.modeData.fileKey),o=Object.entries(n).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>[{fileKey:e,fileName:c[e]},...t]).flat(1);return t&&(o.push({fileKey:eV.BH,fileName:(0,O.t)("variables.mode_properties_panel.used_variables.subheading")}),o.push(...t)),[e??[],o]},[c,r]),m=(0,eL.d2)(),u=a.useCallback(e=>{let t=m[(0,ef.yG)(e)],n=r.find(t=>t.setKey===e);if(n)return(e=>{if(e)return void 0===t&&(t=e.modeData.modeOptions[0].modeId.guid),e.modeData.modeOptions.find(e=>e.modeId.guid!==t&&(t=e.modeId.guid,!0))?.modeId.guid})(n)},[m,r]),_=r.length>0?r[0]:void 0,E=_?.setKey,y=_?.modeData.collectionID,g=a.useMemo(()=>E&&u(E),[E,u]),v=(0,i.wA)();return{localVariableSets:s,allVariableSets:r,firstVariableSet:_,firstVariableSetID:y,firstVariableSetMode:g,getDefaultNewModeForVariableCollectionKey:u,reportAnalyticsEventWhenSelected:e=>{let t=d.mSn.getVariableSetInfoForSetModeAnalytics(e);v((0,K.Zh)({name:"prototype.set_mode_select_variable_set",params:{...t}}))},subscribedVariableSetsWithSections:p}}function e$({targetVariableSetID:e,targetVariableModeID:t,deprecatedTargetVariableSetKey:n,updateSelectionProperties:o,recordingKey:i,actionIndexPath:r}){let{getDefaultNewModeForVariableCollectionKey:l,allVariableSets:c,reportAnalyticsEventWhenSelected:s}=eJ(),{shouldShowAdvancedPrototypingPaywall:d,showAdvancedPrototypingVariablesModal:p}=(0,G.zt)(),m=(0,b.GS)();a.useEffect(()=>{if(!n||(0,D.gl)(n))return;let e=c.find(e=>e.setKey===n);e?((0,eM.Lo)("SetVariableModeControls","updating variable set key to non-deprecated id value"),o({targetVariableSetKey:void 0,targetVariableSetID:e?.modeData.collectionID})):((0,eM.Lo)("SetVariableModeControls","attempted to update variable set key to non-deprecated id value, but could not find it in the list of variable sets, will just clear out the bad data."),o({targetVariableSetKey:void 0}))},[n,c,o]);let[u,_]=a.useMemo(()=>{let t=(0,D.gl)(e)||void 0===e?e:function(e,t){let n=e.find(e=>e.modeData.collectionID===t);if(n)return n;let o=eO.gr.toRefIfSubscribed(t);if(o)return e.find(e=>e.setKey===o.key)}(c,e)||eF,n=(()=>{if(!(0,D.gl)(t)&&void 0!==t&&t!==eF)return t})();return[t,n]},[e,c]),E=a.createElement(eZ,{selectedVariableSet:u,onChange:e=>{d?p():(s(e.modeData.collectionID),o({targetVariableSetID:e.modeData.collectionID,targetVariableModeID:l(e.setKey)}))},actionIndexPath:r}),y=m?a.createElement(eU.cS,{input:E,label:(0,O.tx)("proto.set_variable_mode.collection_label")}):a.createElement(H.fI,{recordingKey:h.Pt(i,"selectTargetVariableSet")},E),g=a.createElement(e1,{selectedVariableSetKey:_&&_.setKey,selectedVariableModeID:t,onChange:e=>{d?p():o({targetVariableModeID:e})},actionIndexPath:r}),v=m?a.createElement(eU.cS,{input:g,label:(0,O.tx)("proto.set_variable_mode.mode_label")}):a.createElement(H.fI,{recordingKey:h.Pt(i,"selectTargetVariableMode")},g);return a.createElement("div",{className:m?void 0:X.cx.relative.$},y,_&&v)}let eq={format:e=>void 0===e?(0,O.t)("proto.prototype_panel.edit_set_mode.none"):e===eF?(0,O.t)("proto.prototype_panel.edit_set_mode.missing_collection"):e.modeData.collectionName,isEqual:(e,t)=>void 0!==e&&void 0!==t&&e!==eF&&t!==eF&&(e.setKey===t.setKey||e.modeData.collectionID===t.modeData.collectionID)};function eQ(e,t){return"fileKey"in e?[t&&a.createElement(ea.sK,{key:e.fileKey+"divider"}),a.createElement(eW,{isHeader:!0,key:e.fileKey+"header",formattedValue:e.fileName})]:a.createElement(eW,{key:e.setKey,value:e})}function eZ({selectedVariableSet:e,onChange:t,actionIndexPath:n}){let o=(0,i.wA)(),r=(0,ee.Um)(),l="set-variable-mode--select-variable-set-"+n,{localVariableSets:c,allVariableSets:s,subscribedVariableSetsWithSections:d}=eJ();return a.createElement(eG,{id:l,className:eB,property:e,formatter:eq,dispatch:o,dropdownShown:r?.type===l?r:null,onChange:e=>{(0,D.gl)(e)||void 0===e||e===eF||t(e)}},s.length>0?[c.length>0&&a.createElement(eW,{key:h.Pt(l,"local_variables"),isHeader:!0,formattedValue:(0,g.kc)().ds_variable_props_unified_ui?(0,O.t)("variables.mode_properties_panel.assets_created_in_file.subheading"):(0,O.t)("variables.mode_properties_panel.local_variables.subheading")}),...c.map(e=>eQ(e,!1)),...d.map((e,t)=>eQ(e,c.length>0||t>0))]:[])}let ej={format:e=>void 0===e?(0,O.t)("proto.prototype_panel.edit_set_mode.none"):e===eF?(0,O.t)("proto.prototype_panel.edit_set_mode.missing_mode"):e?.name??""};function e0(e){return a.createElement(eH,{key:e.modeId.guid,value:e})}function e1({selectedVariableSetKey:e,selectedVariableModeID:t,onChange:n,actionIndexPath:o}){let r=(0,i.wA)(),l=(0,ee.Um)(),c="set-variable-mode--select-variable-mode-"+o,{allVariableSets:s}=eJ(),d=a.useMemo(()=>s.find(t=>t.setKey===e)?.modeData.modeOptions,[e,s]),p=a.useMemo(()=>(0,D.gl)(t)||void 0===t?t:d?.find(e=>e.modeId.guid===t)||eF,[t,d]);return a.createElement(eY,{id:c,className:eB,property:p,formatter:ej,dispatch:r,dropdownShown:l?.type===c?l:null,onChange:e=>{!e||(0,D.gl)(e)||e===eF||n(e.modeId.guid)}},d&&d?.map(e0))}var e3=n(939791),e2=n(794272),e5=n(113468),e6=n(32067),e7=n(109388),e4=n(140686),e8=n(256296),e9=n(775664),te=n(279702),tt=n(420186),tn=n(218973),to=n(750029),ta=n(270668),ti=n(205135),tr=n(276660),tl=n(837746),tc=n(910392),ts=n(909666),td=n(442458);let tp=e9.TI;function tm({children:e}){return(0,b.GS)()?a.createElement(eU.TN,null,e):a.createElement(H.fI,{className:"overlay_panel--fplCheckboxRow--EYTAZ checkbox--_checkboxRow--oEhow"},e)}function tu({interactionType:e,recordingKey:t,actionIndexPath:n,nodeId:o}){let[r,l]=a.useState(!1),[c,s]=a.useState(new T.Mi),u=(0,i.wA)(),_=(0,b.GS)(),E="{ "+n.join(", ")+" }",{destinationOverlayBackgroundColor:y,destinationOverlayBackgroundType:g,destinationOverlayPositionType:v,destinationOverlayBackgroundInteraction:I}=(0,e2.R)(e=>({destinationOverlayBackgroundColor:e.mirror.selectionProperties.actionIndexPathToOverlaySettings?.[E]?.destinationOverlayBackgroundColor,destinationOverlayBackgroundType:e.mirror.selectionProperties.actionIndexPathToOverlaySettings?.[E]?.destinationOverlayBackgroundType,destinationOverlayPositionType:e.mirror.selectionProperties.actionIndexPathToOverlaySettings?.[E]?.destinationOverlayPositionType,destinationOverlayBackgroundInteraction:e.mirror.selectionProperties.actionIndexPathToOverlaySettings?.[E]?.destinationOverlayBackgroundInteraction})),N=a.useRef(),A=a.useRef(),P=a.useCallback(()=>{l(!1)},[l]),f=a.useCallback(()=>{if(r)P();else{l(!0);let e=_?e7.findDOMNode(A.current):e7.findDOMNode(N.current);s((0,tt.cn)(e))}},[r,P,_]),C=a.useCallback(e=>{let t=e?"SOLID_COLOR":"NONE";p.l7.user("overlay-background-type-edit-scope",()=>{d.X3B.setOverlayBackgroundType(m.dI(o),t)}),u((0,K._P)({name:"Overlay background visible changed",params:{backgroundType:t}}))},[u,o]),S=a.useCallback(e=>{let t=e?"CLOSE_ON_CLICK_OUTSIDE":"NONE";p.l7.user("overlay-background-interaction-edit-scope",()=>{d.X3B.setOverlayBackgroundInteraction(m.dI(o),t)}),u((0,K._P)({name:"Overlay background interaction changed",params:{backgroundInteraction:t}}))},[u,o]),w=a.useCallback(()=>(0,D._W)(y,{r:0,g:0,b:0,a:.25}),[y]),k=a.useCallback((e,t)=>{t!==te.zk.NO&&p.l7.user("overlay-background-color-edit-scope",()=>{d.X3B.setOverlayBackgroundColor(m.dI(o),e)})},[o]),x=a.useCallback((e,t)=>{k(e,te.zk.YES)},[k]),M=a.useCallback((e,t)=>{let n=w();k({r:n.r,g:n.g,b:n.b,a:e},t)},[w,k]),R=a.useCallback(e=>{p.l7.user("overlay-position-type-edit-scope",()=>{d.X3B.setOverlayPositionType(m.dI(o),e)}),u((0,K._P)({name:"Overlay position changed",params:{position:e}}))},[u,o]),U=w(),L=w().a,V=(0,D.E7)(v),B="CLOSE_ON_CLICK_OUTSIDE"===(0,D.E7)(I),F="SOLID_COLOR"===(0,D.E7)(g),G=a.createElement("div",{className:"overlay_panel--colorValueContainer--gJtb9 paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},a.createElement(to.J,{onClick:F?f:()=>{},color:U,opacity:L,recordingKey:h.Pt(t,"chit"),className:"overlay_panel--chit--Zn66r paint_panels--chit--twQEy"}),a.createElement(ti.AN,{className:_?"overlay_panel--colorInputUI3--ozOrK paint_panels--colorInput--nSz13":"overlay_panel--colorInput--6yyym paint_panels--colorInput--nSz13",noLeftBorder:!0,formatter:tp,property:U,disabled:!F,onChange:x,recordingKey:h.Pt(t,"colorInput"),noBorderOnFocus:!0}),a.createElement(tn.Pd,{className:"overlay_panel--opacity--vrrjV paint_panels--opacityInputContainer--oqlsk",value:L,onValueChange:M,dispatch:u,disabled:!F,noBorderOnFocus:!0,recordingKey:h.Pt(t,"opacity")}));return a.createElement(H.Zk,{className:_?"overlay_panel--overlayPanelUI3--GLqgD":"overlay_panel--overlayPanel--l-Hts"},!_&&a.createElement(H.fI,null,a.createElement(H.xw,{faded:!0,className:"overlay_panel--overlayPanelTitle--e9pjs"},(0,O.tx)("proto.overlay_settings"))),a.createElement(tN,{overlayPositionType:V,onOverlayPositionTypeChange:R,recordingKey:t}),!("ON_HOVER"===e||"ON_PRESS"===e)&&a.createElement(tm,null,a.createElement(e4.S,{label:a.createElement(e8.J,null,(0,O.tx)("proto.close_when_clicking_outside")),recordingKey:h.Pt(t,"closeOnClickOutside"),onChange:S,checked:B})),a.createElement(tm,null,a.createElement(e4.S,{label:a.createElement(e8.J,null,_?(0,O.tx)("proto.overlay_panel.background"):(0,O.tx)("proto.add_background")),recordingKey:h.Pt(t,"addBackgroundBehindOverlay"),onChange:C,checked:F})),F&&(_?a.createElement(eU.cS,{ref:A,label:(0,O.tx)("proto.overlay_panel.background"),input:G}):a.createElement(H.fI,{ref:N}," ",G," ")),r&&a.createElement(ta.h3,{disabledVariableIds:new Set,initialPosition:c,color:U,boundVariable:null,onChange:k,onClose:P,recordingKey:h.Pt(t,"colorPicker")}))}class t_ extends ea.l6{}class tE extends ea.c${}class ty extends a.PureComponent{constructor(){super(...arguments),this.titleFormatter=new j.Cr,this.renderOverlayPositionOption=(e,t)=>a.createElement(tE,{key:t,value:e,recordingKey:h.Pt(this.props,e)})}render(){let e=["CENTER","TOP_LEFT","TOP_CENTER","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT"].map(this.renderOverlayPositionOption);return a.createElement(t_,{id:this.props.recordingKey??"overlay-position_select",className:this.props.className,chevronClassName:"overlay_panel--chevron--7RTA-",inputClassName:"overlay_panel--input--tGHHB",dropdownWidth:tl.DxS,property:this.props.property,formatter:this.titleFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:h.Pt(this.props,"select")},e,a.createElement(ea.sK,null),this.renderOverlayPositionOption("MANUAL",10))}}ty.displayName="OverlayPositionDropdown";class tg extends tr.I{}class tv extends tr.Y{}class tI extends a.PureComponent{render(){return a.createElement(tg,{className:this.props.className,property:this.props.property,onChange:this.props.onChange,recordingKey:this.props.recordingKey},a.createElement(tv,{value:"CENTER",tooltip:(0,O.t)("proto.tooltip_overlay_position_center"),svg:ts.A,recordingKey:h.Pt(this.props,"center")}),a.createElement(tv,{value:"TOP_LEFT",tooltip:(0,O.t)("proto.tooltip_overlay_position_top_left"),svg:td.A,recordingKey:h.Pt(this.props,"top-left")}),a.createElement(tv,{value:"BOTTOM_CENTER",tooltip:(0,O.t)("proto.tooltip_overlay_position_bottom_center"),svg:tc.A,recordingKey:h.Pt(this.props,"bottom-center")}))}}function tN({overlayPositionType:e,onOverlayPositionTypeChange:t,recordingKey:n}){let o=(0,b.GS)(),r=(0,i.wA)(),l=(0,ee.Um)(),c=a.createElement(ty,{className:"overlay_panel--overlayPositionDropdown--ZxxSI",property:e,dispatch:r,dropdownShown:l,onChange:t,recordingKey:h.Pt(n,"overlayPositionDropdown")}),s=a.createElement(tI,{property:e,onChange:t,recordingKey:h.Pt(n,"overlayPositionControl"),className:"overlay_panel--overlayPositionControl--SWngJ"});return o?a.createElement(eU.cS,{label:(0,O.tx)("proto.overlay_panel.position"),input:c}):a.createElement(H.fI,null,c,s)}var th=n(171447),tT=n(75395),tA=n(301036),tP=n(927457),tO=n(615777),tf=n(636540),tb=n(757696),tC=n(112976),tS=n(728587),tD=n(501191);let tw=e=>`interaction-panel-create-action-${e}`;function tk(e){let t=tw(e.recordingKey);var{showing:n,toggle:o,hide:r}=(0,ee.BK)(t);let l=(0,a.useRef)(null),{recordingKey:c,addButtonPressed:s,presetInteractions:d}=e,{shouldShowAdvancedPrototypingPaywall:p,showAdvancedPrototypinglMultipleActionsModal:m}=(0,G.zt)(),u=(0,a.useCallback)(()=>{!e.skipPaywall&&p?m():o()},[e.skipPaywall,p,m,o]),E=h.rf(h.Pt(c,"createActionDropdown"),"click",u),y=(0,G.YT)()===G.Oz.TWO_COL,g=(0,G.SJ)(),v=(0,b.GS)(),I=(0,ei.cJ)(),N=(0,G.He)({showVideoActions:g,isNestedInConditional:e.isNestedInConditional,isSites:I,isUI3:v,showPresetActions:!!e.presetInteractions}),T=(0,i.wA)(),A=(0,a.useCallback)(e=>{s((0,G.Bs)(e)),r()},[s,r]),f=_()({[eI.x1]:e.renderButton,[eI.xm]:!e.renderButton&&!y,[eI.U3]:!e.renderButton&&y}),C=[];return N.forEach(t=>{if((0,G.vc)(t))C.push(tC.w);else if(t===G.Xk&&d?.length)C.push(...d,tC.w);else if((0,G.Rn)(t)){let n=(0,G.lA)(t),o=(0,G.He)({showVideoActions:g,isNestedInConditional:e.isNestedInConditional,defaultActionTypes:n,isSites:I,isUI3:v}).map(e=>tx({clickCb:A,recordingKey:c,actionType:e,isUI3:v}));C.push({displayText:(0,G.wt)(t),icon:function(e){switch(e){case G.Jx.OVERLAY:return a.createElement(tO.x,null);case G.Jx.LOGIC:return a.createElement(tf.$,null);case G.Jx.VIDEO:return a.createElement(tb.k,null);default:(0,em.assertNever)(e)}}(t),children:o,className:eI.BP})}else C.push(tx({clickCb:A,recordingKey:c,actionType:t,isUI3:v}))}),a.createElement(a.Fragment,null,a.createElement("button",{ref:l,className:f,onClick:E,"aria-label":(0,O.t)("proto.prototype_panel.create_action_button"),"data-tooltip-type":R.Ib.TEXT,"data-tooltip":e.isNestedInConditional?(0,O.t)("proto.prototype_panel.add_nested_action"):(0,O.t)("proto.prototype_panel.add")},e.renderButton?a.createElement(P.U,{svg:tD.A},a.createElement(tP.e,null)):(0,O.tx)("fullscreen.properties_panel.click_plus_to_add_new_action")),n&&l.current&&a.createElement(tS.j,{minWidth:130,lean:"center",parentRect:l.current.getBoundingClientRect(),hidePointWhenContentOffScreen:!0,showPoint:!0,items:C,dispatch:T,onSelectItem:e=>e.callback?.(),recordingKey:"actionDropdown"}))}function tx({actionType:e,clickCb:t,recordingKey:n,isUI3:o}){let i=(0,en.Yb)(e),r=(0,en.av)(e),l=new j.Z6(o),c=e?l.format(e):"Undefined";return{className:eI.BP,callback:()=>t(e),icon:a.createElement(P.U,{className:eI.QE,svg:i},r),displayText:c,recordingKey:h.Pt(n,"createActionOption",e)}}let tK="prototype_conditional_controls--conditionalRowUI3--rQlu6",tM="prototype_conditional_controls--conditionIcon--Npk57";var tR=n(381809),tU=n(527967),tL=n(5068);function tV({onDeleteAction:e,updateMultipleDestinationNodes:t,updateSelectionProperties:n,updateCondition:o,updateActions:i,onAddAction:r,autoOpenVariablePicker:l,isSelected:c,handleMouseDownUI3:s,...p}){let m=p.conditionalActions,u=m?.actions?m?.actions:[],_=m?.condition?m?.condition:void 0,E=(0,G.YT)()===G.Oz.TWO_COL,y=E?tK:"prototype_conditional_controls--conditionalRowIf--25FqB prototype_conditional_controls--conditionalRow--u0PaS",g=a.createElement(L.KN,{resolvedType:d.rXF.BOOLEAN,targetVariableData:_,updateSelectionProperties:n,recordingKey:p.recordingKey,updateConditionInConditionalAction:o,showVariableThumbnails:!0,isNarrowPanel:!0}),v=a.createElement("div",{className:"prototype_conditional_controls--addButton--vlYLn"},a.createElement(tk,{addButtonPressed:r,recordingKey:h.Pt(p.recordingKey,"addActionToIfButton"),renderButton:!0,isNestedInConditional:!0})),I=a.createElement(a.Fragment,null,E?a.createElement("span",{className:"prototype_conditional_controls--conditionIconUI3--zcwx0"},(0,O.tx)("proto.else")):a.createElement(z.B,{className:tM,svg:tR.A}),!E&&u.length>0&&a.createElement("div",{className:"prototype_conditional_controls--addButtonForElse--ogBWu prototype_conditional_controls--addButton--vlYLn"},a.createElement(tk,{addButtonPressed:r,recordingKey:h.Pt(p.recordingKey,"addActionToElseButton"),renderButton:!E,isNestedInConditional:!0}))),N=E?a.createElement(tT.E,{className:"prototype_conditional_controls--elseBlockRowUI3--VXjmO",onClick:s},I):a.createElement(H.fI,{className:E?tK:"prototype_conditional_controls--conditionalRow--u0PaS"},I);return a.createElement(a.Fragment,null,p.ifStatement&&a.createElement("div",{className:y},!E&&a.createElement(Y.Y,{direction:"horizontal",spacing:4},a.createElement("span",{className:E?"prototype_conditional_controls--conditionalRowConditionUI3--M2mOx":"prototype_conditional_controls--conditionalRowCondition--kn-f7"},a.createElement(Y.Y,{direction:"horizontal",spacing:0},a.createElement(z.B,{className:tM,svg:tU.A}),a.createElement(Y.Y,{direction:"horizontal",spacing:0},(0,D.hS)(_)&&g),a.createElement(z.B,{className:"prototype_conditional_controls--icon--JV1i0",svg:tL.default}))),!E&&u.length>0&&v)),!p.ifStatement&&N,u&&u.map((o,i)=>a.createElement(nK,{key:i,updateMultipleDestinationNodes:t.appendActionIndex(i),action:o,recordingKey:h.Pt(p.recordingKey,"conditional-action-row",i),updateSelectionProperties:n.appendActionIndex(i),onDeleteAction:()=>e(i),interactionType:p.interactionType,actionIndexPath:[p.actionIndexPath[0],p.actionIndexPath[1],i],numActions:u.length,isNestedInConditional:!0,stateManagementVersion:p.stateManagementVersion,selectedInteractions:p.selectedInteractions,onDrop:p.onDrop,onSelect:p.onSelect,onExpand:p.onExpand,onAddAction:r,selectedActionIndex:p.selectedActionIndex,expandedRows:p.expandedRows,autoOpenVariablePicker:l})),0===u.length&&a.createElement(nK,{key:0,updateMultipleDestinationNodes:t.appendActionIndex(0),action:p.emptyAction,recordingKey:h.Pt(p.recordingKey,"conditional-action-row",0),updateSelectionProperties:n.appendActionIndex(0),onDeleteAction:()=>e(0),interactionType:p.interactionType,actionIndexPath:[p.actionIndexPath[0],p.actionIndexPath[1],0],numActions:u.length,isNestedInConditional:!0,stateManagementVersion:p.stateManagementVersion,selectedInteractions:p.selectedInteractions,onDrop:p.onDrop,onSelect:p.onSelect,onExpand:p.onExpand,onAddAction:r,selectedActionIndex:p.selectedActionIndex,expandedRows:p.expandedRows,autoOpenVariablePicker:l}))}function tB(e,t,n){return function(o){var a=[...t];a.length>e?a[e].condition=o:a.push({condition:0===e?o:void 0,actions:[]},{condition:1===e?o:void 0,actions:[]}),n({conditionalActions:a})}}function tF({onDrop:e,onSelect:t,onExpand:n,action:o,updateMultipleDestinationNodes:r,updateSelectionProperties:l,interactionType:c,recordingKey:s,stateManagementVersion:d,selectedInteractions:p,actionIndexPath:m,selectedActionIndex:u,expandedRows:_,autoOpenVariablePicker:E,onNewActionAdded:y,handleMouseDownUI3:g}){let v=(0,i.wA)(),I=(0,k.p8)("currentPage"),N=(0,G.YT)()===G.Oz.TWO_COL,T=N?u.equals(m):void 0,{shouldShowAdvancedPrototypingPaywall:A,showAdvancedPrototypingConditionalActionsModal:P}=(0,G.zt)(),f=(0,D.hS)(o.conditionalActions)&&o.conditionalActions?o.conditionalActions:[],b=e=>function(t){var n=[...f];n.length>e?n[e].actions=[...t]:n.push({actions:t}),l({conditionalActions:n})},C=e=>function(t){var n=[...f],o=0;if(n.length>e){var a=n[e].actions;a?a.push(t):a=[t],o=a.length}else n.push({actions:0===e?[t]:[]},{actions:1===e?[t]:[]}),o=1;"SET_VARIABLE"===t.connectionType&&(E.current=!0),l({conditionalActions:n}),y&&y(new tA.Op([m[0],e,o-1])),v((0,K._P)({name:"Prototype add action",params:{action:t.connectionType?t.connectionType:"NONE",source:"panel",page_id:I,actionInConditionalAction:!0}}))},S=e=>function(t){if(A)P();else{var n=[...f];let o=f[e],a=[];if(o&&o.actions)for(let e=0;e<o.actions.length;e++){let n=o.actions[e];e!==t?a.push(n):v((0,K._P)({name:"Prototype delete action",params:{action:n.connectionType?n.connectionType:"NONE",source:"panel",page_id:I,actionInConditionalAction:!0}}))}n[e].actions=a,l({conditionalActions:n})}},w=f.length>0?f[0]:void 0,x=f.length>1?f[1]:void 0;return a.createElement("div",{style:N?{position:"relative"}:void 0},(0,D.gl)(o.conditionalActions)&&a.createElement(eu.Y1,null,a.createElement(tT.E,{className:"prototype_conditional_controls--mixedConditionalText--6O32b",onClick:()=>{var e=[];e.push({},{}),l({conditionalActions:e})}},(0,O.t)("fullscreen.properties_panel.click_to_replace_mixed_content"))),(0,D.hS)(o.conditionalActions)&&a.createElement(a.Fragment,null,a.createElement(tV,{key:0,conditionalActions:w,recordingKey:h.Pt(s,"conditional-block",0),updateCondition:tB(0,f,l),updateActions:b(0),onAddAction:C(0),updateMultipleDestinationNodes:r.appendActionIndex(0),onDeleteAction:S(0),interactionType:c,updateSelectionProperties:l.appendActionIndex(0),ifStatement:!0,stateManagementVersion:d,selectedInteractions:p,actionIndexPath:[m[0],0],onDrop:e,onSelect:t,onExpand:n,selectedActionIndex:u,autoOpenVariablePicker:E,expandedRows:_,emptyAction:{ifStatement:!0,action:o},isSelected:T,handleMouseDownUI3:g}),a.createElement(tV,{key:1,conditionalActions:x,recordingKey:h.Pt(s,"conditional-block",1),updateCondition:tB(1,f,l),updateActions:b(1),onAddAction:C(1),updateMultipleDestinationNodes:r.appendActionIndex(1),onDeleteAction:S(1),interactionType:c,updateSelectionProperties:l.appendActionIndex(1),ifStatement:!1,stateManagementVersion:d,selectedInteractions:p,actionIndexPath:[m[0],1],onDrop:e,onSelect:t,onExpand:n,selectedActionIndex:u,autoOpenVariablePicker:E,expandedRows:_,emptyAction:{ifStatement:!1,action:o},isSelected:T,handleMouseDownUI3:g})))}function tG({updateSelectionProperties:e,conditionalActions:t,autoOpenExpressionBuilder:n,setAutoOpenExpressionBuilder:o,...i}){let r=t.length>0?t[0]:void 0,l=r?.condition?r?.condition:void 0,c=_()({"prototype_conditional_controls--standaloneIfConditional--GLFDU":!0,"prototype_conditional_controls--placeholderText--esG0u":!l});return a.createElement(a.Fragment,null,a.createElement(eU.cS,{input:null,label:(0,O.tx)("proto.condition")}),a.createElement(e3.Ad,{appendedClassName:"prototype_conditional_controls--conditionalActionRightPadding--xpK6Z",label:null,input:(0,D.hS)(l)?a.createElement("div",{className:c},a.createElement(L.KN,{resolvedType:d.rXF.BOOLEAN,targetVariableData:l,updateSelectionProperties:e.appendActionIndex(0),recordingKey:i.recordingKey,updateConditionInConditionalAction:tB(0,t,e),autoOpenExpressionBuilder:n,setAutoOpenExpressionBuilder:o,showVariableThumbnails:!0,isNarrowPanel:!0})):null}))}var tW=n(612028),tY=n(843495),tH=n(234945),tz=n(510879),tX=n(830002),tJ=n(731262);class t$ extends ea.c${}class tq extends ea.l6{}class tQ extends a.PureComponent{constructor(e){super(e),this.loadDestinationsFromFullscreen=()=>{let e=d.baT.ALL;"SCROLL_TO"===this.props.action?e=d.baT.SCROLL_TO:"SWAP_STATE_TO"===this.props.action&&(e=d.baT.STATES);let{viableIds:t,disabledIds:n}=d.X3B.getTransitionDestinationsOnActiveCanvas(e);return new Promise((e,o)=>{this.setState({viableIds:t,disabledIds:n},e)})},this.onOptionFocus=e=>{tY.Uc(e??"")},this.renderGroupedScrollableNodes=(e,t)=>{let n=eD()(e.filter(e=>this.nodeNameFormatter.hasNameForNode(e)),e=>e===t&&(0,D.hS)(t)?tW.Ql(this.props.scene,e)?.guid:this.props.scene.get(e)?.parentGuid),o=Object.keys(n);(0,tW.X4)(o,this.nodeNameFormatter.format.bind(this.nodeNameFormatter));let{tlfId:i,index:r}=(0,tW.H_)(this.props.scene,o);return i&&r&&(o.splice(r,1),o=[i,...o]),o.reduce((e,t,o)=>(0!==o&&e.push(a.createElement(ea.sK,{key:o})),e.push(a.createElement(t$,{key:`disabled-${t}`,value:t+" ",recordingKey:h.Pt(this.props,`disabled-option-${t}`),disabled:!0})),n[t].forEach((t,n)=>{e.push(a.createElement(t$,{key:`enabled-${t+n}`,value:t,recordingKey:h.Pt(this.props,`viable-option-${n}`),disabled:!1}))}),e),[])},this.state={viableIds:[],disabledIds:[]},this.nodeNameFormatter=new j.cP(e.scene)}render(){let e=this.props.nodeId===D.oV?D.oV:m.dI(this.props.nodeId),t=this.state.viableIds;(0,D.hS)(e)&&e!==m.AD&&-1===t.indexOf(e)&&(t=t.concat([e]));let n=this.state.disabledIds,o=`prototype-destination-select-${this.props.recordingKey}`,i="SCROLL_TO"!==this.props.action?t.filter(e=>this.nodeNameFormatter.hasNameForNode(e)).map((e,t)=>a.createElement(t$,{key:`enabled-${e}`,value:e,recordingKey:h.Pt(this.props,`viable-option-${t}`),disabled:!1})):this.renderGroupedScrollableNodes(t,e),r=n.filter(e=>this.nodeNameFormatter.hasNameForNode(e)).map((e,t)=>a.createElement(t$,{key:`disabled-${e}`,value:e,recordingKey:h.Pt(this.props,`disabled-option-${t}`),disabled:!0})),l=this.props.isUI3?a.Fragment:H.fI;return a.createElement(l,null,a.createElement(tq,{id:o,dataTestId:"destination-select",className:this.props.className,chevronClassName:"prototype_destination_dropdown--chevron--pmWtI",inputClassName:"prototype_destination_dropdown--input--rzglN",dropdownWidth:tl.DxS,property:e,formatter:this.nodeNameFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:h.Pt(this.props,"select"),willShowDropdown:this.loadDestinationsFromFullscreen,onOptionFocus:this.onOptionFocus,hideDropdownWhenContainerMoves:!(0,et.nl)()},i,0!==n.length&&0!==t.length&&a.createElement(ea.sK,null),r))}}let tZ=a.memo(function(e){let t=(0,x.tS)(),n=(0,x._G)(),o=(0,i.d4)(tj),r=(0,i.d4)(tH.qd),l=(0,i.d4)(tH.dK),c=(0,tz.D)(r,l),s=(0,i.d4)(t0),p=a.useMemo(()=>(0,tJ.cP)(s,t,n,e.actionIndexPath),[s,t,n,e.actionIndexPath]),m=a.useMemo(()=>(0,tJ.cP)(o,t,n),[o,t,n]),u=p||m;if(!u||u.mode!==d.iCO.STATE_OR_STATE_INSTANCE_SUBLAYER)return null;let{allStates:_,stateGroupModel:E,selectedStates:y,selectedStatesPropertyValues:g}=u,v=E.propertySortOrder||[],I=E.propertyValues;return I?a.createElement(tX.lS,{sortedProperties:v,stateGroupPropertyValues:I,selectedStatesPropertyValues:g,selectedStates:y,allStates:_,onSelectProperty:t=>{let n={};for(let e of Object.keys(t)){let o=t[e].symbol.node_id;for(let t of(n[e]=o,c[e]||[]))n[t]=o;for(let e of r)n[e]||(n[e]=o)}e.onChange(n)},recordingKey:e.recordingKey,hideErrorsPanel:!0,shouldIndent:!0,extended:!0}):null});function tj(e){return e.mirror.selectionProperties.stateGroupSelectionInfo}function t0(e){return e.mirror.selectionProperties.prototypeDestinationStateGroupSelectionInfo}var t1=n(169231),t3=n(100197),t2=n(511787),t5=n(939143),t6=n(720531),t7=n(746806);let t4="prototype_set_variable_controls--dropdownAndIconContainer--6m3Tw",t8="prototype_set_variable_controls--icon---HzDt",t9="prototype_set_variable_controls--placeholderText--PBIqf";function ne({targetVariableData:e,targetVariable:t,updateSelectionProperties:n,autoOpenVariablePicker:o,...r}){let l=a.useRef(null),c=(0,i.wA)(),s=(0,b.GS)(),p=(0,i.d4)(e=>e.variablePickerShown),u=(0,e_.tZ)((0,D.hS)(t)&&"id"in t?t.id:void 0),E=(0,e_.u)((0,D.hS)(t)&&"id"in t?t.id:void 0),[y,v]=a.useState("");(0,F.h)(()=>{o&&!0===o.current&&(A(),o.current=!1)});let I=(0,e_.BQ)((0,D.hS)(t)&&"id"in t?t.id:void 0)??(0,eE.m9)((0,D.hS)(t)&&"nodeFieldAlias"in t?t.nodeFieldAlias:void 0);a.useEffect(()=>{void 0!==e&&I&&"MIXED"!==I&&(0,D.hS)(e)&&e.resolvedType!==I.resolvedType&&!((0,eE.tz)(e.resolvedType)&&(0,eE.tz)(I.resolvedType))&&n({targetVariableData:void 0})},[I,n,e]);let A=()=>{let e=l.current.getBoundingClientRect();c((0,t1.C)({type:"variable-picker-set-variable-action",isShown:!0,resolvedType:d.rXF.STRING,initialPosition:new T.Mi(e.left-20,e.top),key:r.recordingKey,onVariableSelected:S}))},P=a.useCallback(()=>{c((0,t1.B)())},[c]),[f,C]=a.useState(!1),S=a.useCallback(t=>{if(void 0!==t&&t.node_id){let o={targetVariable:{id:t.node_id}},a=d.CWU.getVariableResolvedValue(t.node_id,new Map);!e&&t.resolvedType===d.rXF.COLOR&&a&&(o.targetVariableData=a??void 0),n(o),c((0,K.Zh)({name:"prototype.variable_selected",params:{collectionId:t.variableSetId,variableId:t.node_id,variableType:t.resolvedType}})),C(!0)}},[c,e,n]),w=a.useCallback(e=>{e.value.stablePath.map(e=>m.sH(e))&&(n({targetVariable:{nodeFieldAlias:{stablePathToNode:e.value.stablePath,nodeField:"COMPONENT_PROP_ASSIGNMENTS",indexOrKey:e.value.explicitDefId}}}),C(!0))},[n]),k=a.useMemo(()=>(0,g.kc)().ds_variable_props_proto?{type:"COMPONENT_PROPS",layout:"list"}:{type:"LOCAL_VARIABLES",layout:"list"},[]);a.useEffect(()=>{let e=d.Ez5.prototypingEditorState().colorPickerEyedropperVarData;return(0,t3.lu)(e,{onChangeImmediate(){let t=e.getCopy();t&&n({targetVariableData:t})}})},[n]);let x="nodeFieldAlias"in t?(0,eE.aA)(t.nodeFieldAlias.stablePathToNode,t.nodeFieldAlias.indexOrKey):void 0,M=x?(0,eE.Xx)(x.varValue.resolvedType):null,R=null;if((0,D.gl)(t))R=null;else if(I?.resolvedType===d.rXF.COLOR)R=(0,D.gl)(e)?a.createElement("div",{className:"prototype_set_variable_controls--targetVariableDataMixedContainer--H6uGu"},(0,O.t)("fullscreen.mixed")):a.createElement(a.Fragment,null,a.createElement(t6.gJ,{variableValue:e??I,onChange:e=>{n({targetVariableData:e})},recordingKey:h.Pt(r.recordingKey,"variableValueInput"),setVariableAction:!0,innerContainerClassName:"prototype_set_variable_controls--variableColorInputContainer--NaOmp"}));else{let t=r.isNestedInConditional?"prototype_set_variable_controls--absoluteIconInConditional--BbEmW":"prototype_set_variable_controls--absoluteIcon--1XpBF",o=d.rXF.BOOLEAN;E?o=E.resolvedType:x&&(o=x.varValue.resolvedType===d.rXF.TEXT_DATA?d.rXF.STRING:x.varValue.resolvedType),R=a.createElement("div",{className:s?void 0:X.cx.ml12.$},a.createElement("div",{className:t4},a.createElement(L.KN,{resolvedType:o,targetVariableData:e,autoOpenExpressionBuilder:f,setAutoOpenExpressionBuilder:C,updateSelectionProperties:n,recordingKey:r.recordingKey,isNarrowPanel:r.isNarrowPanel,showVariableThumbnails:!0}),!s&&a.createElement(z.B,{className:_()(t8,t),svg:tL.default})))}let U=_()({"prototype_set_variable_controls--targetVariableDropdown--IZwoF":!s&&!r.isNarrowPanel,"prototype_set_variable_controls--targetVariableDropdownNarrow--WWi-t prototype_set_variable_controls--targetVariableDropdown--IZwoF":!s&&r.isNarrowPanel,"prototype_set_variable_controls--targetVariableDropdownUI3--Pz71q":s,[t9]:s&&!(u||x)}),V=(0,i.d4)(eo.ZM),B=(0,g.kc)().ds_variable_props_unified_ui&&V?s?(0,O.t)("proto.select_variable_unified.short"):(0,O.t)("proto.select_variable_unified"):s?(0,O.t)("proto.select_variable.short"):(0,O.t)("proto.select_variable"),G=a.createElement(Z.D8,{recordingKey:h.Pt(r.recordingKey,"selectTargetVariable"),onClick:A},a.createElement("div",{className:s?void 0:(0,D.hS)(t)?"prototype_set_variable_controls--targetVariableLabel--AFCqK":"prototype_set_variable_controls--targetVariableLabelInactive--zHWCC prototype_set_variable_controls--targetVariableLabel--AFCqK",ref:l},a.createElement(Y.Y,null,a.createElement("div",{className:U},a.createElement("div",{className:t4},(0,D.gl)(t)?a.createElement("div",{className:_()(X.cx.pt2.$,X.cx.pb2.$)},(0,O.t)("fullscreen.mixed")):u?a.createElement(ev.w,{text:u,thumbnailValue:I,isDeleted:!!E&&(0,eg.eF)(E)}):x?a.createElement(ev.w,{text:x.name,thumbnailValue:M,isDeleted:!1,colorTheme:ev.J.COMPONENT}):a.createElement("div",{className:_()(X.cx.pt2.$,X.cx.pb2.$,s?"prototype_set_variable_controls--placeholderTextColorUI3--Pc-4N":void 0)},B),!s&&a.createElement(z.B,{className:t8,svg:tL.default})))))),W=s?a.createElement(eU.cS,{input:G,label:(0,g.kc)().ds_variable_props_unified_ui?(0,O.tx)("proto.target"):(0,O.tx)("proto.variable")}):G,H=_()({"prototype_set_variable_controls--setVariableToContainerNarrow--HHbHQ prototype_set_variable_controls--setVariableToContainer--kxsCZ":!s&&r.isNarrowPanel,"prototype_set_variable_controls--setVariableToContainer--kxsCZ":!s&&!r.isNarrowPanel,"prototype_set_variable_controls--setVariableToContainerUI3--pGbDe":s,[t9]:s&&!e&&I?.resolvedType!==d.rXF.COLOR}),J=a.createElement("div",{className:H,"data-testid":"set-variable-container"},R),$=s?null!==R?a.createElement(eU.cS,{label:(0,O.tx)("proto.variable.value"),input:J}):null:J;return a.createElement("div",{className:s?void 0:X.cx.relative.$},W,p.isShown&&"variable-picker-set-variable-action"===p.type&&p.key===r.recordingKey?a.createElement(a.Fragment,null,a.createElement(t7.vx,{title:"",headerSize:"hidden",initialPosition:p.initialPosition,onClose:P,dragHeaderOnly:!1,initialWidth:216,canRenderBelowViewport:!0},(0,g.kc)().ds_variable_props_proto?a.createElement(t5.jc,{selectedItem:E,disabledVariableIds:new Set,currentView:k,toggleLayout:N.lQ,pickerType:"set-variable",setControlRightButtons:a.createElement(t2.f,{resolvedTypes:[d.rXF.BOOLEAN,d.rXF.STRING,d.rXF.FLOAT,d.rXF.COLOR]}),onVariableSelected:S,onClose:P,recordingKey:h.Pt(r.recordingKey,"variablePickerForSelection"),searchQuery:y,onSearchInputChange:v,onComponentPropSelected:w}):a.createElement(t5.YK,{selectedItem:E,disabledVariableIds:new Set,currentView:k,toggleLayout:N.lQ,pickerType:"fields",setControlRightButtons:a.createElement(t2.f,{resolvedTypes:[d.rXF.BOOLEAN,d.rXF.STRING,d.rXF.FLOAT,d.rXF.COLOR]}),onVariableSelected:S,onClose:P,recordingKey:h.Pt(r.recordingKey,"variablePickerForSelection"),searchQuery:y,onSearchInputChange:v})),a.createElement(t5.$3,{onClose:P})):null,$)}var nt=n(96796),nn=n(463420),no=n(763658),na=n(896474),ni=n(394781);let nr=(0,J.ex)("prototype_state_management_info",function(){let e=a.createElement("a",{className:X.cx.cursorPointer.colorTextTooltipSecondary.$,href:"https://help.figma.com/hc/articles/14397859494295",rel:"noopener noreferrer",target:"_blank",onMouseDown:e=>{e.stopPropagation(),e.preventDefault()}},(0,O.tx)("proto.state_management.info_tooltip_learn_more")),t=a.createElement("span",null,a.createElement("strong",null,(0,O.tx)("proto.animation_panel.preserve_scroll_position")));return a.createElement("div",{className:"prototype_state_management_info_tooltip--stateManagementMoreInfo---gER1 tooltip--text--Ll1mS"},(0,O.tx)("proto.state_management.info_tooltip",{PreserveScrollPositionBold:t,LearnMoreLink:e}))}),nl="prototype_state_management_panel--checkboxRow--2u02e checkbox--_checkboxRow--oEhow",nc="prototype_state_management_panel--expandCaret--uuDge";var ns=n(949207),nd=n(432023);function np({transition:e,navigationType:t,recordingKey:n,showPreserveScrollPosition:o,showResetVideoState:r,showResetInteractiveComponentState:l,updateSelectionProperties:c,stateManagementVersion:s,selectedInteractions:d}){let p=(0,i.wA)(),m=(0,b.GS)(),[u,_]=a.useState(!m),E=a.useContext(ey.c);if((0,G.YT)()===G.Oz.TWO_COL&&E===ey.P.LEFT)return null;let y=(0,G.LH)(s),g=a.createElement(e4.S,{onChange:t=>{p((0,K._P)({name:"Preserve Scroll Changed",params:{newValue:t}})),c({...function(e){if((0,D.hS)(e.preserveScroll))return{transitionPreserveScroll:e.preserveScroll}}({...e,preserveScroll:t})})},checked:!0===e.preserveScroll,mixed:(0,D.gl)(e.preserveScroll),recordingKey:h.Pt(n,"preserve-scroll-check"),label:a.createElement(e8.J,null,(0,O.tx)("proto.animation_panel.preserve_scroll_position"))}),v=m?a.createElement(eU.TN,null,g):a.createElement(H.fI,{className:nl},g),I=a.createElement(e4.S,{onChange:t=>{p((0,K._P)({name:"Reset Scroll Position Changed",params:{newValue:t,noodleUpgradedThisSession:ni.zZ.haveAnyInteractionsBeenUpgraded(d)}})),c({...function(e){if((0,D.hS)(e.resetScrollPosition))return{transitionResetScrollPosition:e.resetScrollPosition}}({...e,resetScrollPosition:t})})},checked:!0===e.resetScrollPosition,mixed:(0,D.gl)(e.resetScrollPosition),recordingKey:h.Pt(n,"reset-scroll-position-check"),label:a.createElement(e8.J,null,(0,O.tx)("proto.animation_panel.reset_scroll_position"))}),N=a.createElement("div",{"data-tooltip-type":R.Ib.SPECIAL,"data-tooltip":nr,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-max-width":240,className:m?"prototype_state_management_panel--stateManagementPanelTooltipUI3--x5MQ3":void 0},a.createElement(na.In,{icon:"info-16"})),T=m?a.createElement(eU.TN,null,I," ",N):a.createElement(H.fI,{className:nl},I),A=a.createElement(e4.S,{onChange:t=>{p((0,K._P)({name:"Reset Component State Changed",params:{newValue:t,noodleUpgradedThisSession:ni.zZ.haveAnyInteractionsBeenUpgraded(d)}})),c({...function(e){if((0,D.hS)(e.resetInteractiveComponents))return{transitionResetInteractiveComponents:e.resetInteractiveComponents}}({...e,resetInteractiveComponents:t})})},checked:!0===e.resetInteractiveComponents,mixed:(0,D.gl)(e.resetInteractiveComponents),recordingKey:h.Pt(n,"reset-component-state-check"),label:a.createElement(e8.J,null,(0,O.tx)("proto.animation_panel.reset_component_state"))}),f=m?a.createElement(eU.TN,null,A):a.createElement(H.fI,{className:nl},A),C=a.createElement(e4.S,{onChange:t=>{p((0,K._P)({name:"Reset Video Position Changed",params:{newValue:t}})),c({...function(e){if((0,D.hS)(e.resetVideoPosition))return{transitionResetVideoPosition:e.resetVideoPosition}}({...e,resetVideoPosition:t})})},checked:!0===e.resetVideoPosition,mixed:(0,D.gl)(e.resetVideoPosition),recordingKey:h.Pt(n,"reset-video-position-check"),label:a.createElement(e8.J,null,(0,G.LH)(s)?(0,O.tx)("proto.state_management.reset_video_state"):(0,O.tx)("proto.animation_panel.reset_video_state"))}),S=m?a.createElement(eU.TN,null,C):a.createElement(H.fI,{className:nl},C),w=a.createElement(H.Zk,{className:`prototype_state_management_panel--stateManagementPanel--sYaaj ${(0,G.kM)(s)&&"prototype_state_management_panel--stateManagementPanelWithVersion--AovOP"}`},!m&&a.createElement(H.fI,null,a.createElement(H.xw,{className:"prototype_state_management_panel--panelTitle--Nr4Eh",faded:!0},(0,O.tx)("proto.state_management")),!(0,G.kM)(s)&&N),(0,G.uU)(s)&&o&&v,r&&(0,G.uU)(s)&&S,y&&T,y&&l&&f,y&&r&&S,(0,D.gl)(s)&&a.createElement(Y.Y,{direction:"horizontal",padding:{horizontal:12,vertical:12}},a.createElement(H.UZ,null,(0,O.tx)("proto.state_management.mixed_state_update")))),k=()=>{_(!u)},x=a.createElement(Z.D8,{key:"expand-caret",recordingKey:h.Pt(n,"expand-caret"),onMouseDown:k,role:"presentation"},a.createElement(P.U,{svg:u?ns.A:nd.A},u?a.createElement(nt.O,{className:nc}):a.createElement(nn.k,{className:nc}))),M=a.createElement("div",{className:"prototype_state_management_panel--expandRow--RVDCp",onMouseDown:k,role:"presentation"},x,a.createElement(Z.oj,null,(0,O.tx)("proto.state")));return a.createElement(no.k,{name:"prototype_state_management_panel"},m&&M,(u||!m)&&w)}class nm extends ea.c${}class nu extends ea.l6{}let n_=m.AD;class nE extends j.cP{format(e){return e===n_||null===e?(0,O.t)("proto.target_video_node_name_formatter.this_video"):super.format(e)}}function ny(e){let{viableSameFrameVideoIds:t,disabledSameFrameVideoIds:n,scene:o,dropdownShown:r,targetVideoNodeID:l,isVideoSelected:c,onChange:s}=e,d=(0,i.wA)(),[p,u]=a.useState(()=>c?new nE(o):new j.cP(o));t.sort((e,t)=>{let n=p.format(e),o=p.format(t);return n.localeCompare(o)}),c&&t.unshift(n_);let _=t.length>0&&n.length>0,E=`prototype-target-video-select-${e.recordingKey}`,y=(0,b.GS)(),g=a.createElement(nu,{id:E,dataTestId:"target-video-select",className:"prototype_target_video_dropdown--targetVideoDropdown--6hKF-",chevronClassName:"prototype_target_video_dropdown--chevron--jgz53",inputClassName:"prototype_target_video_dropdown--input--infAK",property:(0,D.gl)(l)?l:m.dI(l),formatter:p,onChange:s,dispatch:d,dropdownShown:r,recordingKey:h.Pt(e,"select"),onOptionFocus:e=>{tY.Uc(e??"")},dropdownAlignment:"left"},t.filter(e=>p.hasNameForNode(e)).map((t,n)=>a.createElement(nm,{key:`enabled-${n}`,value:t,recordingKey:h.Pt(e,`viable-option-${n}`),disabled:!1})),_&&a.createElement(ea.sK,null),n.filter(e=>p.hasNameForNode(e)).map((t,n)=>a.createElement(nm,{key:`disabled-${n}`,value:t,recordingKey:h.Pt(e,`viable-option-${n}`),disabled:!0})));return y?a.createElement(eU.cS,{input:g,label:(0,O.tx)("proto.video_dropdown.label")}):g}var ng=n(946689);function nv({action:e,recordingKey:t,onURLChange:n,onOpenInNewTabChange:o}){let i=(0,b.GS)(),r=a.createElement(ng.ks,{className:i?"prototype_open_url_action_options--urlInputUI3--H-JfT":"prototype_open_url_action_options--urlInput--T-tGT",dataTestId:"url-input",placeholder:(0,O.t)("proto.interaction.example_com"),value:(0,D.gl)(e.connectionURL)?(0,O.t)("fullscreen.mixed"):(0,D._W)(e.connectionURL,""),onChange:n,recordingKey:h.Pt(t,"urlTextInput"),autoFocus:!1}),l=a.createElement(e4.S,{label:a.createElement(e8.J,null,(0,O.tx)("proto.action_open_url_in_new_tab")),onChange:o,recordingKey:h.Pt(t,"open-url-in-new-tab-check"),checked:void 0===e.openUrlInNewTab||!0===e.openUrlInNewTab});return a.createElement(a.Fragment,null,i?a.createElement(eU.cS,{label:(0,O.tx)("proto.open_url.text_input_label"),input:r}):r,i?a.createElement(eU.TN,null,l):a.createElement(H.fI,{className:"prototype_open_url_action_options--checkboxRow--mu17T checkbox--_checkboxRow--oEhow"},l))}var nI=n(617453),nN=n(588599);function nh({updateSelectionProperties:e,action:t,extraScrollOffset:n,showScrollToOptions:o,recordingKey:r}){let{smallNudgeAmount:l,bigNudgeAmount:c}=(0,nI.sT)(),s=(0,i.wA)(),d=(0,b.GS)(),p=(t,n)=>(o,a)=>{t&&e({extraScrollOffset:{...t,[n]:o}},{shouldCommit:a})},m=(0,D._W)(n,{x:0,y:0});if(!o||"SCROLL_TO"!==t)return null;let u=a.createElement(tn.gq,{className:d?void 0:eI.U,inputClassName:d?eI.oM:eI.hF,value:m.y,wheelMultiplier:l,scrubMultiplier:l,smallNudgeAmount:l,bigNudgeAmount:c,onValueChange:p(m,"y"),dispatch:s,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,O.t)("proto.trigger.y_offset"),tooltipForScreenReadersOnly:!1,recordingKey:h.Pt(r,"extraScrollOffsetY")},d?a.createElement("span",{className:eI.QK},(0,O.tx)("proto.scroll_options.scroll_offset.y")):a.createElement(z.B,{className:eI.QK,svg:nN.A})),_=a.createElement(tn.gq,{className:d?void 0:eI.sC,inputClassName:d?eI.oM:eI.hF,value:m.x,wheelMultiplier:l,scrubMultiplier:l,smallNudgeAmount:l,bigNudgeAmount:c,onValueChange:p(m,"x"),dispatch:s,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,O.t)("proto.trigger.x_offset"),tooltipForScreenReadersOnly:!1,recordingKey:h.Pt(r,"extraScrollOffsetX")},d?a.createElement("span",{className:eI.QK},(0,O.tx)("proto.scroll_options.scroll_offset.x")):a.createElement(z.B,{className:eI.Kh,svg:nN.A}));return d?a.createElement(eU.Cm,{label:(0,O.tx)("proto.scroll_options.offset"),leftInput:_,rightInput:u}):a.createElement(H.fI,null,u,_)}function nT(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 12a6 6 0 1 1-12 0 6 6 0 0 1 12 0m1 0a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-6.5-3.5a.5.5 0 0 0-1 0V12a.5.5 0 0 0 .146.354l2 2a.5.5 0 0 0 .708-.708L12.5 11.793z",clipRule:"evenodd"}))}let nA="prototype_video_action_options--chevron--mkNyv",nP="prototype_video_action_options--input--3-cEi",nO=new j.js,nf=new j.Z6;function nb({action:e,onChange:t,updateSelectionProperties:n,dropdownShown:o,recordingKey:r}){let l=(0,b.GS)(),c=(0,j.Od)(e),s=(0,D.E7)(e.mediaAction),d="UPDATE_MEDIA_RUNTIME"===(0,D.E7)(e.connectionType),p="SKIP_TO"===s,m="SKIP_FORWARD"===s||"SKIP_BACKWARD"===s,u="PLAY"===s||"PAUSE"===s||"TOGGLE_PLAY_PAUSE"===s,_="MUTE"===s||"UNMUTE"===s||"TOGGLE_MUTE_UNMUTE"===s,E=(0,i.wA)(),y=(0,nI.RU)(),g=a.useCallback(e=>{n({mediaSkipToTime:e}),E((0,K._P)({name:"Media skip to time changed",params:{value:e}}))},[E,n]),v=`prototype-media-action-select-${r}`,I="prototype_video_action_options--shortDropdown--NOXXv",N=o&&o.type===v?nO:nf,T=a.createElement(ec,{id:v,dataTestId:"media-play-pause-select",className:I,chevronClassName:nA,inputClassName:nP,property:c,formatter:N,onChange:t,dispatch:E,dropdownShown:o,recordingKey:h.Pt(r,"select")},a.createElement(el,{key:"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE",value:"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE",recordingKey:h.Pt(r,"toggle-play-pause-option"),disabled:!1}),a.createElement(el,{key:"UPDATE_MEDIA_PLAY",value:"UPDATE_MEDIA_PLAY",recordingKey:h.Pt(r,"play-option"),disabled:!1}),a.createElement(el,{key:"UPDATE_MEDIA_PAUSE",value:"UPDATE_MEDIA_PAUSE",recordingKey:h.Pt(r,"pause-option"),disabled:!1})),A=a.createElement(ec,{id:v,dataTestId:"media-mute-unmute-select",className:I,chevronClassName:nA,inputClassName:nP,property:c,formatter:N,onChange:t,dispatch:E,dropdownShown:o,recordingKey:h.Pt(r,"select")},a.createElement(el,{key:"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE",value:"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE",recordingKey:h.Pt(r,"toggle-mute-unmute-option"),disabled:!1}),a.createElement(el,{key:"UPDATE_MEDIA_MUTE",value:"UPDATE_MEDIA_MUTE",recordingKey:h.Pt(r,"mute-option"),disabled:!1}),a.createElement(el,{key:"UPDATE_MEDIA_UNMUTE",value:"UPDATE_MEDIA_UNMUTE",recordingKey:h.Pt(r,"unmute-option"),disabled:!1})),P=a.createElement(ec,{id:v,dataTestId:"media-skip-by-select",className:I,chevronClassName:nA,inputClassName:nP,property:c,formatter:N,onChange:t,dispatch:E,dropdownShown:o,recordingKey:h.Pt(r,"select"),dropdownWidth:160},a.createElement(el,{key:"UPDATE_MEDIA_SKIP_FORWARD",value:"UPDATE_MEDIA_SKIP_FORWARD",recordingKey:h.Pt(r,"skip-forward-option"),disabled:!1}),a.createElement(el,{key:"UPDATE_MEDIA_SKIP_BACKWARD",value:"UPDATE_MEDIA_SKIP_BACKWARD",recordingKey:h.Pt(r,"skip-backward-option"),disabled:!1})),f=a.createElement(tn.qd,{className:"prototype_video_action_options--timestampContainer---DdaI",inputClassName:"prototype_video_action_options--timestamp--luOrs",dataTestId:"mediaSkipToTime-input",dispatch:E,value:e.mediaSkipToTime||0,onValueChange:g,wheelMultiplier:y/1e3,scrubMultiplier:y/1e3,max:3600,displayFractions:!0,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,O.t)("proto.trigger.timestamp_to_set_to"),tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(r,"mediaSkipToTimeInput")},l?a.createElement(nT,null):void 0),C="SKIP_BACKWARD"===s?(0,O.t)("proto.trigger.duration_to_jump_backward"):(0,O.t)("proto.trigger.duration_to_jump_forward"),S=a.createElement(tn.dE,{className:"prototype_video_action_options--timeAmountContainer--5kpHn",dataTestId:"mediaSkipByAmount-input",dispatch:E,value:e.mediaSkipByAmount||5,onValueChange:e=>{n({mediaSkipByAmount:e}),E((0,K._P)({name:"Media skip by amount changed",params:{value:e}}))},wheelMultiplier:y/1e3,scrubMultiplier:y/1e3,max:3600,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":C,tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(r,"mediaSkipByAmountInput")});if(!d)return null;if(l){if(u)return a.createElement(eU.cS,{input:T,label:(0,O.tx)("proto.video_options.behavior")});if(_)return a.createElement(eU.cS,{input:A,label:(0,O.tx)("proto.video_options.behavior")});if(m)return a.createElement(a.Fragment,null,a.createElement(eU.cS,{input:P,label:(0,O.tx)("proto.video_options.direction")}),a.createElement(eU.cS,{input:S,label:(0,O.tx)("proto.video_options.offset")}));if(p)return a.createElement(eU.cS,{input:f,label:(0,O.tx)("proto.video_options.timestamp")})}return a.createElement(H.fI,null,u&&T,_&&A,m&&P,m&&S,p&&f)}var nC=n(38340);function nS({action:e,recordingKey:t,interactionType:n,onActionChange:o,updateMultipleDestinationNodes:r,updateSelectionProperties:l,stateManagementVersion:c,autoOpenVariablePicker:s,autoOpenExpressionBuilder:p,setAutoOpenExpressionBuilder:u,...E}){let y=(0,i.wA)(),g=(0,ee.Um)(),{scene:v,selectionProperties:N}=(0,e2.R)(e=>({scene:e.mirror.sceneGraph,selectionProperties:e.mirror.selectionProperties})),T=(0,b.GS)(),A=(0,G.YT)(),P=A===G.Oz.SINGLE_COL,f=A===G.Oz.TWO_COL,C=a.useContext(ey.c),S=f&&C===ey.P.RIGHT,w="SET_VARIABLE"===(0,D.E7)(e.connectionType),k="SET_VARIABLE_MODE"===(0,D.E7)(e.connectionType),x="CONDITIONAL"===(0,D.E7)(e.connectionType),M="INTERNAL_NODE"===(0,D.E7)(e.connectionType),R="INTERNAL_NODE"===(0,D.E7)(e.connectionType)&&"SWAP_STATE"===(0,D.E7)(e.navigationType),U="URL"===(0,D.E7)(e.connectionType),L=M||"BACK"===(0,D.E7)(e.connectionType)||"CLOSE"===(0,D.E7)(e.connectionType),V="UPDATE_MEDIA_RUNTIME"===(0,D.E7)(e.connectionType),B=(0,en.dq)(N),F=(0,e6.uQ)(),W=[],Y=[];if(F){let{viableIds:e,disabledIds:t}=d.X3B.getVideoNodesOnSameTlfAsNode(F);W=e,Y=t}let H=m.dI((0,D.E7)(e.transitionNodeID)),z=null!=H&&H!==m.AD,J=M&&(!(0,D.hS)(e.transitionNodeID)||z),$=(0,D.E7)(e.navigationType),q=M&&"OVERLAY"===(0,D.E7)($),Q=(0,G.hU)(e.transitionType,e.easingType,e.easingFunction,e.transitionDuration,e.transitionShouldSmartAnimate,e.transitionPreserveScroll,e.transitionResetVideoPosition,e.openUrlInNewTab,e.transitionResetScrollPosition,e.transitionResetInteractiveComponents),Z=L&&!q&&("INSTANT"===Q.behavior||"DISSOLVE"===Q.behavior),et=M&&"OVERLAY"===(0,D.E7)(e.navigationType)&&z,eo=M&&(q||"SWAP"===(0,D.E7)($)),ea=!V&&(0,G.oc)(e),ei=(0,G.GB)(e),er=(0,G.uU)(c)?Z||ea:(0,G.Fp)(c,e.connectionType,e.navigationType),{selectedInteractions:el}=(0,nC.Ay)(e5.J.NORMAL),ec=el.filter(e=>!!e.sourceNodeID&&!!e.id).map(e=>I.d({nodeID:e.sourceNodeID,interactionID:e.id})),es=a.useCallback(e=>{let t=m.sH(e);t&&l({transitionNodeID:t}),y((0,K._P)({name:"Prototype navigation destination changed",params:{source:"panel",connectorIds:JSON.stringify(ec),destinationTlfId:e}}))},[y,l,ec]),ed=a.useCallback(e=>{r(e),y((0,K._P)({name:"Variant based prototyping UI changed",params:{source:"panel"}})),y((0,K._P)({name:"Prototype navigation destination changed",params:{source:"panel",connectorIds:JSON.stringify(ec)}}))},[r,y,ec]),ep=a.useCallback(e=>{l({connectionURL:e.target.value})},[l]),em=(0,j.Od)(e),eu=_()({[eI.Ph]:!T,[eI.Ti]:E.isNestedInConditional&&!P&&!S}),e_=M&&!R,eE=a.createElement(tQ,{className:eI.iR,dispatch:y,dropdownShown:g,onChange:es,nodeId:e.transitionNodeID||m.Hr,scene:v,recordingKey:h.Pt(t,"destinationDropdown"),action:em,isUI3:T}),eg=a.createElement(nh,{action:em,showScrollToOptions:"SCROLL_TO"===em,extraScrollOffset:e.extraScrollOffset,updateSelectionProperties:l,recordingKey:h.Pt(t,"scrollOptionsPanel")}),ev=a.createElement(tu,{interactionType:n,updateSelectionProperties:l,recordingKey:h.Pt(t,"overlaySettings"),actionIndexPath:E.actionIndexPath,nodeId:e.transitionNodeID||m.Hr});return a.createElement("div",{className:eu},e_&&(T?a.createElement(a.Fragment,null,a.createElement(eU.cS,{label:eo?(0,O.tx)("proto.overlay"):(0,O.tx)("proto.destination"),input:eE}),eg,et&&ev):eE),U&&a.createElement(nv,{action:e,recordingKey:t,onOpenInNewTabChange:e=>{l({openUrlInNewTab:e}),y((0,K._P)({name:"Open Url In New Tab Changed",params:{value:e}}))},onURLChange:ep}),V&&a.createElement(ny,{dropdownShown:g,scene:v,targetVideoNodeID:e.transitionNodeID||m.Hr,recordingKey:h.Pt(t,"targetVideoDropdown"),viableSameFrameVideoIds:W,disabledSameFrameVideoIds:Y,isVideoSelected:B,onChange:es}),a.createElement(nb,{dropdownShown:g,action:e,onChange:o,updateSelectionProperties:l,recordingKey:t}),!T&&eg,w&&a.createElement("div",{className:T?void 0:X.cx.ml4.$},a.createElement(ne,{className:eI.PB,dispatch:y,onChange:es,nodeId:e.transitionNodeID||m.Hr,targetVariable:e.targetVariable||{id:""},targetVariableData:e.targetVariableData,updateSelectionProperties:l,recordingKey:h.Pt(t,"setVariableControls"),action:em,isNestedInConditional:E.isNestedInConditional,isNarrowPanel:E.isNestedInConditional||E.isNarrowPanel,autoOpenVariablePicker:s})),k&&a.createElement("div",{className:T?void 0:X.cx.ml4.$},a.createElement(e$,{dispatch:y,targetVariableSetID:e.targetVariableSetID,targetVariableModeID:e.targetVariableModeID,deprecatedTargetVariableSetKey:e.targetVariableSetKey,updateSelectionProperties:l,recordingKey:h.Pt(t,"setVariableControls"),actionIndexPath:E.actionIndexPath.join(",")})),x&&(S?a.createElement(tG,{recordingKey:h.Pt(t,"conditionalActionSection","conditional-block",0),autoOpenExpressionBuilder:p,setAutoOpenExpressionBuilder:u,updateSelectionProperties:l,conditionalActions:(0,D.hS)(e.conditionalActions)&&e.conditionalActions?e.conditionalActions:[]}):a.createElement(tF,{updateSelectionProperties:l,recordingKey:h.Pt(t,"conditionalActionSection"),action:e,updateMultipleDestinationNodes:r,interactionType:n,stateManagementVersion:c,selectedInteractions:E.selectedInteractions,actionIndexPath:E.actionIndexPath,onDrop:E.onDrop,onSelect:E.onSelect,onExpand:E.onExpand,onNewActionAdded:E.onNewActionAdded,selectedActionIndex:E.selectedActionIndex,expandedRows:E.expandedRows,autoOpenVariablePicker:s,handleMouseDownUI3:E.handleMouseDownUI3})),R&&a.createElement("div",{className:X.cx.ml0.$},a.createElement(tZ,{onChange:ed,nodeId:e.transitionNodeID||m.Hr,recordingKey:h.Pt(t,"consumption"),actionIndexPath:E.actionIndexPath})),J&&a.createElement(a.Fragment,null,T&&a.createElement("div",{className:eI.x}),a.createElement(th.X7,{transition:Q,interactionType:n,navigationType:e.navigationType,recordingKey:h.Pt(t,"animationPanel"),updateSelectionProperties:l,isNarrowPanel:E.isNestedInConditional||E.isNarrowPanel,stateManagementVersion:c})),et&&!T&&ev,er&&a.createElement(a.Fragment,null,T&&a.createElement("div",{className:eI.x}),a.createElement(np,{connectionType:e.connectionType,transition:Q,navigationType:e.navigationType,recordingKey:h.Pt(t,"stateManagementPanel"),updateSelectionProperties:l,showPreserveScrollPosition:Z,showResetVideoState:!!ea,showResetInteractiveComponentState:!!ei,stateManagementVersion:c,selectedInteractions:E.selectedInteractions})))}var nD=n(584999),nw=n(323110),nk=n(482725);let nx=Symbol("ACTION_ROW");function nK({updateMultipleDestinationNodes:e,updateSelectionProperties:t,onDeleteAction:n,stateManagementVersion:o,selectedInteractions:r,autoOpenVariablePicker:l,autoOpenExpressionBuilder:s,setAutoOpenExpressionBuilder:d,...p}){let m=(0,i.wA)(),{shouldShowAdvancedPrototypingPaywall:u,showAdvancedPrototypingVariablesModal:E,showAdvancedPrototypingConditionalActionsModal:y}=(0,G.zt)(),g=(0,ee.Um)(),N=(0,G.SJ)(),{firstVariableSetMode:T,firstVariableSetID:A}=eJ(),f=p.action,C=p.isNestedInConditional&&(0,tA.qQ)(p.action),S=!!f.connectionType&&"CONDITIONAL"===f.connectionType,w=(0,b.GS)(),k=(0,G.YT)(),x=k===G.Oz.SINGLE_COL,M=k===G.Oz.TWO_COL,U=a.useContext(ey.c),L=M&&U===ey.P.RIGHT,V=M&&U===ey.P.LEFT,B=!((0,D.gl)(p.action)||["CLOSE","NONE"].includes(f.connectionType))&&!w;var F=p.selectedActionIndex.equals(p.actionIndexPath);let Y=1===p.selectedActionIndex.path.length&&p.isNestedInConditional&&p.actionIndexPath[0]===p.selectedActionIndex.path[0];var X=void 0===p.expandedRows||void 0!==p.expandedRows.find(e=>e.equals(p.actionIndexPath));w&&(X=!!x||!V||S);let J=a.useCallback(()=>{(B||x)&&p.onExpand(p.actionIndexPath)},[B,x,p]),[$,q]=a.useState(!1);a.useEffect(()=>{if(S){let e=setTimeout(()=>{q(!0)},0);return()=>clearTimeout(e)}q(!0)},[S]);let et=S&&!X,en=S&&X,eo=a.useRef(null),[ea,ei]=(0,v.fp)(G.hV),{position:er,dragItem:el}=(0,W.h4)(()=>({type:nx,element:eo,item:p.action,dropPositionThreshold:en?.2:et?1/3:.5,getDeepestTargetOnly:!0,canDrag:!!V||!X,onDrop(e){p.onDrop(e),ei(!0)}})),ec=a.useMemo(()=>{let e=eo.current;if(!e||!er||L)return;if(el&&"CONDITIONAL"===el.connectionType&&p.isNestedInConditional||(0,tA.qQ)(el)){ei(!1);return}let t=C?W.Nz.BEFORE:er;var n=void 0;let o=e.offsetParent?.firstElementChild?.scrollTop??0;return t===W.Nz.BEFORE?n=e.offsetTop-o:t===W.Nz.AFTER&&(n=e.offsetTop+e.offsetHeight-o),ei(!0),n},[er,L,el,p.isNestedInConditional,C,ei]),es=er&&S&&!X&&er===W.Nz.INSIDE&&"CONDITIONAL"!==el.connectionType,ep=h.rf(p.recordingKey,"mousedown",e=>{X||(F=!0,p.onSelect(p.actionIndexPath,!0))}),em=h.rf(p.recordingKey,"mousedown",e=>{F=!1,p.onSelect(p.actionIndexPath,!1)}),eu=h.rf(p.recordingKey,"click",e=>{p.onSelect(p.actionIndexPath,!0)}),e_=h.rf(p.recordingKey,"mousedown",e=>{(0,tA.qQ)(p.action)||p.onSelect(p.actionIndexPath,!0)}),eE=e=>{var n=!0,o=!1;switch(e){case"NONE":t({connectionType:"NONE"});break;case"NAVIGATE_TO":t({connectionType:"INTERNAL_NODE",navigationType:"NAVIGATE"});break;case"OPEN_OVERLAY":t({connectionType:"INTERNAL_NODE",navigationType:"OVERLAY"});break;case"SCROLL_TO":t({connectionType:"INTERNAL_NODE",navigationType:"SCROLL_TO"});break;case"SWAP_WITH":t({connectionType:"INTERNAL_NODE",navigationType:"SWAP"});break;case"SWAP_STATE_TO":t({connectionType:"INTERNAL_NODE",navigationType:"SWAP_STATE"});break;case"GO_BACK":t({connectionType:"BACK"});break;case"CLOSE_OVERLAY":t({connectionType:"CLOSE"});break;case"OPEN_URL":t({connectionType:"URL"});break;case"SET_VARIABLE":u?(n=!1,E()):(t({connectionType:"SET_VARIABLE"}),l.current=!0);break;case"SET_VARIABLE_MODE":u?(n=!1,E()):t({connectionType:"SET_VARIABLE_MODE",targetVariableSetID:A,targetVariableModeID:T});break;case"UPDATE_MEDIA_PLAY":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"PLAY"});break;case"UPDATE_MEDIA_PAUSE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"PAUSE"});break;case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"TOGGLE_PLAY_PAUSE"});break;case"UPDATE_MEDIA_MUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"MUTE"});break;case"UPDATE_MEDIA_UNMUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"UNMUTE"});break;case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"TOGGLE_MUTE_UNMUTE"});break;case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_FORWARD"});break;case"UPDATE_MEDIA_SKIP_BACKWARD":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_BACKWARD"});break;case"UPDATE_MEDIA_SKIP_TO":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_TO"});break;case"CONDITIONAL":o=!0,u?(n=!1,y()):(t({connectionType:"CONDITIONAL"}),w&&d&&d(!0))}if(w||X||J(),M&&p.onExpand(p.actionIndexPath,o),n){let t=r.filter(e=>!!e.sourceNodeID&&!!e.id).map(e=>I.d({nodeID:e.sourceNodeID,interactionID:e.id}));m((0,K._P)({name:"Prototype action changed",params:{action:e,source:"panel",connectorIds:JSON.stringify(t)}}))}},eg=p.isNestedInConditional?eI.It:eI.ft,ev=_()({[eI.wu]:!V,[eI.zX]:V&&ea}),eN=a.createElement(P.U,{svg:nw.A},a.createElement(Q,{className:eI._2}));if(C&&p.onAddAction)return a.createElement("div",{className:V?eI.LW:void 0},ec&&a.createElement("hr",{className:eg,style:{transform:`translateY(${ec}px)`}}),V&&p.isNestedInConditional&&eN,a.createElement("div",{className:ev,ref:eo},a.createElement(tk,{addButtonPressed:p.onAddAction,recordingKey:h.Pt(p.recordingKey,"addAction"),isNestedInConditional:!0})));let eh=(0,j._X)(f),eT="NONE"!==eh,eA=(X||!eT)&&!V,eO=p.numActions>1,ef=(p.numActions>1||p.isNestedInConditional)&&!V,eb=_()({[eI.$l]:!0,[eI.KY]:V&&!p.isNestedInConditional,[eI.Iw]:V&&!p.isNestedInConditional&&ea,[eI.DM]:V&&p.isNestedInConditional,[eI.vs]:V&&p.isNestedInConditional&&ea,[eI.M9]:V&&p.isNestedInConditional&&Y&&ea,[eI.I_]:V&&S&&!F&&ea,[eI.Cu]:F&&!w,[eI.PE]:F&&V&&!p.isNestedInConditional,[eI.Ze]:es,[eI.Op]:p.isNestedInConditional&&!w}),eC=_()({[eI.rn]:!0,[eI.Gu]:V,[eI.Ti]:p.isNestedInConditional&&!w&&!L,[eI.Yo]:p.isNestedInConditional&&w&&!L}),eS=a.createElement(z.B,{key:"expand-caret",className:eI.GE,svg:X?ns.A:nd.A,recordingKey:h.Pt(p.recordingKey,"expandCaret"),onClick:J}),eD=a.createElement(eP,{action:f,isNestedInConditional:p.isNestedInConditional,isNarrowPanel:p.isNarrowPanel&&eO,onClick:w?eu:void 0}),ew=a.createElement(ed,{className:"NONE"===eh||w?void 0:nD.fH,dispatch:m,dropdownShown:g,onChange:eE,action:eh,recordingKey:h.Pt(p.recordingKey,"actionDropdown"),showVideoActions:N,isNestedInConditional:p.isNestedInConditional}),ek=a.createElement(H.K0,{className:w?eI.gG:eI.hH,onClick:n,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,O.t)("proto.prototype_panel.delete"),"aria-label":(0,O.t)("proto.prototype_panel.delete"),recordingKey:h.Pt(p.recordingKey,"actionDeleteButton")},a.createElement(P.U,{svg:nk.A},a.createElement(c.O,null))),ex=a.createElement(H.fI,{className:eC,onDoubleClick:J},B&&eS,eA?a.createElement("span",{className:eI.P2},ew):eD,ef&&ek),eK=eA?ew:eD,eM=a.createElement(Z.D8,{className:eC,onDoubleClick:J},B&&eS,ef?a.createElement(e3.DE,{appendedClassName:eI.Jw,label:null,input:eK,icon:ek}):a.createElement(e3.Ad,{appendedClassName:eI.Jw,label:null,input:eK})),eR=(0,O.tx)("proto.action"),eL=a.createElement(Z.D8,{className:eC},x||L?a.createElement(eU.cS,{label:eR,input:eK}):eK),eV=w?eL:eM,eB=_()({[eI.Oe]:!0,[eI.h2]:F,[eI.Ob]:S});return a.createElement("div",{className:eb,ref:eo,role:"button",tabIndex:0,onMouseDown:w?void 0:ep,onMouseUp:w?void 0:em},void 0!==ec&&a.createElement("hr",{className:eg,style:{transform:`translateY(${ec}px)`}}),V?a.createElement("div",{className:eB,role:"button",tabIndex:0,onMouseDown:w?e_:void 0},p.isNestedInConditional&&eN,eV):w?eV:ex,X&&$&&a.createElement(nS,{updateMultipleDestinationNodes:e,action:f,onActionChange:eE,recordingKey:p.recordingKey,updateSelectionProperties:t,interactionType:p.interactionType,stateManagementVersion:o,selectedInteractions:r,isNestedInConditional:p.isNestedInConditional,isNarrowPanel:p.isNarrowPanel,actionIndexPath:p.actionIndexPath,onDrop:p.onDrop,onSelect:p.onSelect,onExpand:p.onExpand,onNewActionAdded:p.onNewActionAdded,selectedActionIndex:p.selectedActionIndex,expandedRows:p.expandedRows,autoOpenVariablePicker:l,autoOpenExpressionBuilder:s,setAutoOpenExpressionBuilder:d,handleMouseDownUI3:e_}))}var nM=n(427113),nR=n(682331),nU=n(73349);function nL({onChange:e,value:t,shouldFocusKeyCaptureField:n,setShouldFocusKeyCaptureField:o}){let i;let r=(0,nU._i)(t?.keyCodes),l=t=>e({keyCodes:t,triggerDevice:"KEYBOARD"}),[c,s]=a.useState(!1),d=a.useRef(null);a.useEffect(()=>{(!t||!t.keyCodes||0===t.keyCodes.length)&&n&&d.current&&(o(!1),d.current.focus(),s(!0))},[o,n,t]),a.useEffect(()=>{if(!c)return()=>{};let t=new nR.L,n=t.onPress(t=>{e({keyCodes:[t.buttons[0]],triggerDevice:t.controllerType}),requestAnimationFrame(()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()})});return t.start(),()=>{n.release(),t.end()}},[e,c]);let p=null,m=(0,nU.E8)(t),u=(0,b.GS)();return c?i=a.createElement(nV,null,u?(0,O.tx)("proto.keyCapture.press_key_lowercase"):(0,O.tx)("proto.keyCapture.press_key")):t?.triggerDevice==="KEYBOARD"&&r?p=(0,nU.U8)(r):m?p=m:i=a.createElement(nV,null,u?(0,O.tx)("proto.keyCapture.click_to_set_key"):(0,O.tx)("proto.keyCapture.click_to_select")),a.createElement(H.rp,{ref:d,className:"prototype_key_capture_field--root--bD21s","data-tooltip-type":R.Ib.TEXT,"data-tooltip":p&&p.length>10?p:null,onFocus:()=>s(!0),onBlur:()=>s(!1),onKeyDown:e=>{e.preventDefault(),e.stopPropagation();let t=e.which||e.keyCode;!nU.RI.has(t)&&nU.pu[t]&&(t===r?.keyCode&&e.repeat?l((0,nU.wb)({keyCode:t,metaKey:e.metaKey||r.metaKey,shiftKey:e.shiftKey||r.shiftKey,ctrlKey:e.ctrlKey||r.ctrlKey,altKey:e.altKey||r.altKey})):l((0,nU.wb)({...e,keyCode:t})),document.activeElement instanceof HTMLElement&&document.activeElement.blur())},recordingKey:"keycapture"},p??i)}function nV({children:e}){return a.createElement("span",{className:"prototype_key_capture_field--placeholder--gWUKF"},e)}var nB=n(634238);class nF extends ea.l6{}class nG extends ea.c${}let nW=new j.VG,nY=new j.EX,nH=new j.JV,nz=new j.Eq;function nX(e){let t=(0,i.wA)(),n=(0,ee.Um)(),o=(0,b.GS)(),r=(0,ei.cJ)(),{showVideoV2Triggers:l}=(0,e2.R)(e=>({allStatesInSelection:e.mirror.selectionProperties.stateGroupSelectionInfo?.mode===d.iCO.STATE,allTopLevelFramesInSelection:!!e.mirror.selectionProperties.allTopLevelFramesInSelection,showVideoV2Triggers:(0,en.dq)(e.mirror.selectionProperties)})),c=(0,v.md)(nB.NE),s=(t,n)=>{let i=a.createElement("div",{className:"transition_interaction_dropdown--prototypeInteractionIcon---njby"},(0,en.e7)(t));return a.createElement(nG,{key:n,value:t,icon:o?i:void 0,recordingKey:h.Pt(e,t),disabled:!function(t){if("NONE"===t)return!0;let n=!!e.interactionsOnSelectedNodes&&e.interactionsOnSelectedNodes.every(t=>e.interactionsOnSelectedNodes&&m.aI(t.sourceNodeID,e.interactionsOnSelectedNodes[0].sourceNodeID))&&!(0,D.hS)(e.property),o=(function(){if(e.interactionsOnSelectedNodes)return new Set(e.interactionsOnSelectedNodes.map(e=>e?.event?.interactionType).filter(e=>void 0!==e))})()?.has(t)&&(0,D.hS)(e.property)&&e.property!==t;return(!n&&!o||!!["ON_KEY_DOWN","DRAG","ON_VOICE","ON_MEDIA_HIT"].includes(t))&&("AFTER_TIMEOUT"===t?!e.interactionContainsOpenLinkAction:"ON_MEDIA_HIT"===t||"ON_MEDIA_END"===t?l:(!e.interactionContainsOpenLinkAction||"ON_CLICK"===t||"MOUSE_UP"===t)&&(!e.interactionContainsUpdateMediaRuntime||"ON_HOVER"!==t&&"ON_PRESS"!==t&&"DRAG"!==t)&&(!e.interactionOnlyContainsBack||"ON_HOVER"!==t&&"ON_PRESS"!==t))}(t)})},p=["NONE"].map(s),u=["ON_CLICK",...r?[]:["DRAG"],"ON_HOVER","ON_PRESS","ON_KEY_DOWN"].map(s),_=["MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"].map(s),E=(r?[]:["ON_MEDIA_HIT","ON_MEDIA_END"]).map(s),y=["AFTER_TIMEOUT"].map(s),g=c?"ON_MEDIA_HIT"!==e.property?nY:nz:"ON_MEDIA_HIT"!==e.property?nW:nH,I=a.useCallback(e=>e-24,[]),N=(0,D.E7)(e.property);return a.createElement(nF,{id:"interaction-type-select",className:e.className,chevronClassName:"transition_interaction_dropdown--chevron--pyzhq",dataTestId:"interaction-select",property:e.property,formatter:g,icon:o&&N?(0,en.e7)(N):void 0,onChange:e.onChange,dispatch:t,dropdownShown:n,recordingKey:h.Pt(e,"select"),hideDropdownWhenContainerMoves:!(0,et.nl)(),dropdownAlignment:I,dropdownWidth:160},p,a.createElement(ea.sK,null),u,a.createElement(ea.sK,null),_,!r&&a.createElement(ea.sK,null),y,l&&[a.createElement(ea.sK,{key:""}),...E])}let nJ={keyCodes:[],triggerDevice:"KEYBOARD"};function n$(e,t,n,o){return n?a.createElement(eU.cS,{label:e,input:t,appendedClassName:o?void 0:eI.dU}):a.createElement(H.fI,null,t)}function nq(e){let{detailPropsMultipleActions:t,interactionsOnSelectedNodesAndComponents:n,updateSelectionProperties:o}=(0,nC.Ay)(e.category),{interactionType:r="NONE",transitionTimeout:l=.8,mediaHitTime:c=0,interactionMaintained:s=!1,interactionDuration:d=.3,keyTrigger:p=nJ}=t.interactionEvent,m=(e,t)=>{if(e.connectionType===t)return e;if("CONDITIONAL"===e.connectionType)for(let n of(0,D.hS)(e.conditionalActions)&&e.conditionalActions?e.conditionalActions:[]){let e=n.actions?n.actions.find(e=>e.connectionType===t):void 0;if(void 0!==e)return e}return null},u=void 0!==t.interactionActions.find(e=>m(e,"URL")),E=void 0!==t.interactionActions.find(e=>m(e,"UPDATE_MEDIA_RUNTIME")),y=1===t.interactionActions.length&&"BACK"===t.interactionActions[0].connectionType,g=void 0!==t.interactionActions.find(e=>m(e,"CONDITIONAL"));return function(e){let t=(0,i.wA)(),n=e.updateSelectionProperties,o=(0,nI.RU)(),[r,l]=a.useState(!1),c=(0,b.GS)(),s=(0,G.YT)(),d=s===G.Oz.SINGLE_COL,p=s===G.Oz.TWO_COL,m=!0===(0,D.E7)(e.maintained),u=(0,D.E7)(e.keyTrigger),E="ON_KEY_DOWN"===(0,D.E7)(e.interactionType),y="AFTER_TIMEOUT"===(0,D.E7)(e.interactionType),g="ON_MEDIA_HIT"===(0,D.E7)(e.interactionType),v=["MOUSE_IN","MOUSE_OUT","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"].indexOf((0,D.E7)(e.interactionType)||"")>-1,I=a.createElement(nX,{className:eI.sQ,property:e.interactionType,onChange:o=>{B.sn.start("interaction_details_changed"),n({interactionType:o}),t((0,K._P)({name:"Prototype Interaction Type Changed",params:{newType:o,oldType:(0,D._W)(e.interactionType,"MIXED")}})),"ON_KEY_DOWN"===o&&l(!0)},interactionContainsOpenLinkAction:e.interactionContainsOpenLinkAction,interactionContainsUpdateMediaRuntime:e.interactionContainsUpdateMediaRuntime,interactionOnlyContainsBack:e.interactionOnlyContainsBack,recordingKey:h.Pt(e,"interactionDropdown"),interactionsOnSelectedNodes:e.interactionsOnSelectedNodes}),N=c?d?a.createElement(eU.cS,{label:(0,O.tx)("proto.trigger"),input:I}):a.createElement("div",{className:eI.BX},I):a.createElement(H.fI,{className:_()(eI.SG,eI.QT)},I,a.createElement("div",{className:eI.LY},e.headerButtons)),T=a.createElement(a.Fragment,null,y&&n$((0,O.tx)("proto.delay"),a.createElement(tn.W4,{className:c?eI.Lp:eI.Zp,inputClassName:c?eI.Gl:void 0,dataTestId:"timeout-input",dispatch:t,value:e.timeout,onValueChange:e=>{n({transitionTimeout:e})},wheelMultiplier:o/1e3,scrubMultiplier:o/1e3,max:20,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,O.t)("proto.trigger.after_delay_timeout"),tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(e,"timeoutInput")},c?a.createElement(nM.A,null):void 0),c,d),E&&n$((0,O.tx)("proto.key"),a.createElement(nL,{onChange:e=>{n({keyTrigger:e})},value:u,shouldFocusKeyCaptureField:r,setShouldFocusKeyCaptureField:l}),c,d),g&&n$((0,O.tx)("proto.time"),a.createElement(tn.qd,{displayFractions:!0,className:eI.Ym,inputClassName:eI.vE,dataTestId:"mediaHitTime-input",dispatch:t,value:e.mediaHitTime,onValueChange:e=>{n({mediaHitTime:e})},wheelMultiplier:o/1e3,scrubMultiplier:o/1e3,max:3600,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,O.t)("proto.trigger.video_hit_time"),tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(e,"mediaHitTimeInput")},c?a.createElement(nT,null):void 0),c,d),v&&n$((0,O.tx)("proto.delay"),a.createElement(tn.W4,{className:c?eI.Lp:eI.aq,inputClassName:c?eI.Gl:eI.p0,dataTestId:"duration-input",dispatch:t,value:m?e.interactionDuration:void 0,onValueChange:e=>{n(e&&e>0?{interactionMaintained:!0,interactionDuration:e}:{interactionMaintained:!1})},min:0,allowEmpty:!0,placeholder:(0,O.t)("proto.trigger.add_delay_placeholder"),wheelMultiplier:o/1e3,scrubMultiplier:o/1e3,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,O.t)("proto.trigger.after_delay_timeout"),tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(e,"delayInput")},c?a.createElement(nM.A,null):void 0),c,d));return c?a.createElement("div",{className:p?eI.eU:void 0},N,T):a.createElement("div",{className:eI.cF},N,T)}({...e,updateSelectionProperties:o,interactionType:r,interactionContainsOpenLinkAction:u,interactionContainsUpdateMediaRuntime:E,interactionOnlyContainsBack:y,interactionContainsConditionalAction:g,timeout:l,maintained:s,interactionDuration:d,mediaHitTime:c,keyTrigger:p,interactionsOnSelectedNodes:n,recordingKey:h.Pt(e.recordingKey,G.Qe)})}let nQ="prototype_interaction_edit_modal--contentContainer--bo2b4",nZ="prototype_interaction_edit_modal--ui3TwoColContentContainer--x9vrG",nj="prototype_interaction_edit_modal--ui3SingleColContentContainer--uF-ir",n0="prototype_interaction_edit_modal--dividerHorizontal--3wvnB",n1="prototype_interaction_edit_modal--ui3InteractionsPanelContentRight--bVfG8";function n3(e){let{selectedInteractions:t,makeUpdateSelectionPropertiesForActionIndex:n,makeUpdateMultipleDestinationNodesForActionIndex:o,differentLengthActions:i,mergedActions:r}=(0,nC.Ay)(e.category),l="NONE"!==(0,D.E7)(e.interactionType),c=void 0!==r.find(e=>"CONDITIONAL"===e.connectionType),{selectedActionIndex:s,onSelect:d}=e,p=(0,b.GS)(),m=(0,G.YT)(),u=m===G.Oz.SINGLE_COL,E=m===G.Oz.TWO_COL,{expandedRows:y,setExpandedRows:g,deleteButtonPressed:v,newActionIndexPath:I,resetNewActionIndexPath:N}=e;a.useEffect(()=>{I&&!I?.equals([])&&(p?d(I.path,!0):(g([...y,I]),d([],!1)),N())},[y,g,I,N,d,p]);let T=a.useCallback(e=>{y.find(t=>t.equals(e))?g(y.filter(t=>!t.equals(e))):g([...y,new tA.Op(e)])},[y,g]),A=a.useCallback(n=>{var o=n.dropItem;if((0,D.gl)(o)||(0,tA.qQ)(n.dragItem))return;let a=e.interactionsOnSelectedNodes;if(!a||!t)return;for(var i=0;i<t?.length;i++){let e=t[i];if(e&&e.actions){let a=e.actions,r=(0,tA.Vp)(a,s,y,o,n.position);if(r.newSelectedActionIndex&&E&&d(r.newSelectedActionIndex.path,!0),r.newActions&&(t[i].actions=r.newActions,p||d([],!1)),r.newExpandedRows){if(E){let e=[];r.newActions?.forEach((t,n)=>{"CONDITIONAL"===t.connectionType&&e.push(new tA.Op([n]))}),g(e)}else g(r.newExpandedRows)}}}let r=a.map(e=>t.find(t=>t.id===e.id)??e);C.Y5.updateSelectionProperties({prototypeInteractions:r})},[y,g,e.interactionsOnSelectedNodes,s,t,d,p,E]),P=_()({"prototype_interaction_edit_modal--panelUI3--WK3CN":p,"prototype_interaction_edit_modal--panelUI3TwoColumn--V5gi4":E});return a.createElement(W.hh,null,a.createElement(H.Zk,{className:P},e.shouldHideTitle?null:a.createElement(H.fI,null,a.createElement(H.U8,{title:(0,O.t)("proto.interaction.interaction"),dataTooltipContentKey:q,dataTooltipTimeoutDelay:50})),a.createElement("div",null,(l||p)&&a.createElement(a.Fragment,null,u&&a.createElement(a.Fragment,null,a.createElement(nq,{category:e.category,recordingKey:G.dJ,headerButtons:a.createElement(a.Fragment,null)}),a.createElement("div",{className:"prototype_interaction_edit_modal--dividerHorizontalUI3--HMCeE"})),i&&a.createElement(Y.Y,{direction:"horizontal",padding:{horizontal:16,vertical:12}},a.createElement(H.UZ,null,(0,O.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!i&&a.createElement(a.Fragment,null,r?.map((i,l)=>a.createElement(nK,{key:l,updateMultipleDestinationNodes:o(l),action:i,recordingKey:h.Pt(e.recordingKey,G.eG,l),updateSelectionProperties:n(l),onDeleteAction:()=>v(l),interactionType:e.interactionType,actionIndexPath:[l],numActions:r.length,isNestedInConditional:!1,isNarrowPanel:!c,stateManagementVersion:e.stateManagementVersion,selectedInteractions:t,onDrop:A,onSelect:e.onSelect,onExpand:T,selectedActionIndex:s,autoOpenVariablePicker:e.autoOpenVariablePicker,expandedRows:y,onNewActionAdded:e.onNewActionAdded,autoOpenExpressionBuilder:e.autoOpenExpressionBuilder,setAutoOpenExpressionBuilder:e.setAutoOpenExpressionBuilder})))))))}var n2=n(504440),n5=n(392592);function n6({transition:e,recordingKey:t,updateSelectionProperties:n,stateManagementVersion:o,selectedInteractions:r}){let l=(0,i.wA)(),c=(0,b.GS)(),s=(0,G.YT)()===G.Oz.SINGLE_COL,d=()=>{for(let t of(V.az.trackDefinedEvent("prototype.state_management_noodle_upgraded",{num_interactions:r.length,preserve_scroll_position_value:!!e.preserveScroll}),r))(0,G.uU)(t.stateManagementVersion)&&t.id&&t.sourceNodeID&&ni.zZ.recordInteractionUpgraded(t.id,t.sourceNodeID);n({...(0,D.hS)(e.preserveScroll)&&(0,D.hS)(o)?{transitionResetScrollPosition:!e.preserveScroll}:{},stateManagementVersion:1}),l(n5.F.enqueue({type:"state-management-updated",message:(0,O.t)("proto.state_management.visual_bell_updated_message"),button:{text:(0,O.t)("proto.state_management.visual_bell_update_all"),action:()=>{C.Y5.triggerActionInUserEditScope("update-interactions-state-management-on-page"),l(n5.F.enqueue({type:"state-management-updated-all",message:(0,O.t)("proto.state_management.visual_bell_update_all_message")}))}}}))},p=()=>{V.az.trackDefinedEvent("prototype.state_management_noodle_reverted",{num_interactions:r.length}),n({stateManagementVersion:0})},m=1===o?a.createElement(ng.jG,{className:"prototype_state_management_version_panel--revertButton--Svmg9",recordingKey:h.Pt(t,"revert-state-management-version"),onClick:p,"data-testid":"revert-state-management-button"},(0,O.tx)("proto.state_management.revert_controls")):a.createElement(ng.nR,{recordingKey:h.Pt(t,"update-state-management-version"),onClick:d},(0,O.tx)("proto.state_management.update_controls")),u=s?n2.IK:n2.$n,_=1===o?a.createElement(u,{variant:"secondary",onClick:p,recordingKey:h.Pt(t,"revert-state-management-version"),htmlAttributes:{"data-testid":"revert-state-management-button"}},(0,O.tx)("proto.state_management.revert_controls")):a.createElement(u,{variant:"primary",onClick:d,recordingKey:h.Pt(t,"update-state-management-version")},(0,O.tx)("proto.state_management.update_controls")),E=1===o?(0,O.tx)("proto.state_management.new_controls"):(0,O.tx)("proto.state_management.old_controls"),y=a.createElement("a",{target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/articles/14397859494295",className:c?void 0:"prototype_state_management_version_panel--link--i5iDD blue_link--blueLink--9rlnd"},c?(0,O.tx)("proto.state_management.controls_help_link_new"):(0,O.tx)("proto.state_management.controls_help_link")),g=a.createElement("div",{className:"prototype_state_management_version_panel--versionControls--siAOf"},a.createElement(H.JU,{className:"prototype_state_management_version_panel--label--vvYMX"},E,y),a.createElement("div",{className:"prototype_state_management_version_panel--buttonContainer--rJZ-y"},m)),v=a.createElement("div",{className:"prototype_state_management_version_panel--containerUI3--V5tpG"},a.createElement(e8.J,null,E),y,_),I=a.createElement("div",{className:"prototype_state_management_version_panel--containerUI3TwoCol--AAp8u"},a.createElement("span",{className:"prototype_state_management_version_panel--labelWrapperUI3--37g5A"},a.createElement(e8.J,null,E)),a.createElement("span",{className:"prototype_state_management_version_panel--helpLinkWrapperUI3--BttuC"},y),_);return a.createElement(no.k,{name:"prototype_state_management_version_panel"},a.createElement(H.Zk,{className:c?"prototype_state_management_version_panel--panelUI3--8-Db5":void 0},c?s?v:I:g))}let n7="created_noodle";function n4(e){let{shouldHideTitle:t=!1,category:n,newActionIndexPath:o}=e,i=(0,G.YT)()===G.Oz.TWO_COL,{detailProps:r,detailPropsMultipleActions:l,interactionsOnSelectedNodesAndComponents:c,updateSelectionProperties:s,selectedInteractions:d}=(0,nC.Ay)(e.category);(0,F.h)(()=>{if(void 0!==B.sn.get(n7)){let e=B.sn.stop(n7);(0,V.sx)(n7,{elapsedMs:e,numConnectors:d.length},{forwardToDatadog:!0})}});let{showPanel:p,transition:m}=(0,G.n6)(r,l,d),{interactionType:u="NONE",interactionMaintained:_=!1,interactionDuration:E=.3,keyTrigger:y=nJ,transitionTimeout:g=.8,mediaHitTime:v=0}=l.interactionEvent,I=(0,G.iC)(d),N=a.createElement(n3,{interactionType:u,timeout:g,mediaHitTime:v,maintained:_,interactionDuration:E,keyTrigger:y,recordingKey:h.Pt(e,G.Qe),shouldHideTitle:t,interactionsOnSelectedNodes:c,category:n,stateManagementVersion:I,autoOpenVariablePicker:e.autoOpenVariablePicker,newActionIndexPath:o,resetNewActionIndexPath:e.resetNewActionIndexPath,onNewActionAdded:e.onNewActionAdded,onSelect:e.onSelect,selectedActionIndex:e.selectedActionIndex,expandedRows:e.expandedRows,setExpandedRows:e.setExpandedRows,deleteButtonPressed:e.deleteButtonPressed,autoOpenExpressionBuilder:e.autoOpenExpressionBuilder,setAutoOpenExpressionBuilder:e.setAutoOpenExpressionBuilder});return a.createElement("div",null,N,!i&&p&&a.createElement(n6,{transition:m,recordingKey:h.Pt(e,"stateManagementVersionPanel"),updateSelectionProperties:s,stateManagementVersion:I,selectedInteractions:d}))}var n8=n(360803),n9=n(102165);function oe(e,t,n){let[o,a,i]=e.path,r=t[o].conditionalActions;if((0,D.hS)(r)){let e=r?.[a].actions?.length??0;if(i>=e){if(0===e){n([o],!0);return}n([o,a,i-1],!0);return}}}function ot(e,t,n){let o=e.path[0]>=t.length,a=0===e.path.length;if(o){n([t.length-1],!0);return}if(a){n([0],!0);return}}var on=n(930269),oo=n(277687);let oa=()=>{d.glU.setSelectedInteractions([]),C.Y5.deselectProperty()},oi=(0,y.jz)("197px"),or=(0,y.c8)("50%");function ol(e){var t;return e&&o?.height<369?o=t={...o,height:369}:o??={width:440,height:e?369:320,leftWidthPct:45}}let oc=a.memo(function(){let e=(0,i.d4)(om),t=(0,nC.HS)(),{selectedInteractions:n}=(0,nC.Ay)(t),o=n.length>0,[r,l]=a.useState(!1),c=h.v_(G.dJ,"keydown",t=>"Shift"!==t.key?h.aH:(l(!0),e&&o)?void 0:h.aH),s=h.v_(G.dJ,"keyup",t=>"Shift"!==t.key?h.aH:(l(!1),e&&o)?void 0:h.aH);if(a.useEffect(()=>(document.addEventListener("keydown",c),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",s)}),[c,s]),!e||!o)return null;let d=n.some(e=>e.actions?.some(e=>"CONDITIONAL"===e.connectionType));return a.createElement(os,{category:t,containsConditional:d,pressingShiftKey:r,initialX:e.initialX,initialY:e.initialY,shouldPin:e.shouldPin,setPressingShiftKey:l})}),os=a.memo(function({category:e,containsConditional:t,pressingShiftKey:n,initialX:s,initialY:u,shouldPin:g,setPressingShiftKey:N}){let f=(0,i.wA)(),[D,V]=a.useState(!1),[,B]=(0,v.fp)(n9.x),F=(0,a.useRef)(null),[W,Y]=a.useState(!1),H=g||D,z=(0,b.GS)(),X=(0,G.YT)(),J=X===G.Oz.SINGLE_COL,$=X===G.Oz.TWO_COL,[q,Q]=a.useState(new tA.Op(z?[0]:[])),{selectedInteractions:Z,differentLengthActions:j,interactionsOnSelectedNodesAndComponents:ee,mergedActions:et,detailProps:en,detailPropsMultipleActions:eo,updateSelectionProperties:ea}=(0,nC.Ay)(e);var ei=q.path.length>0?q:new tA.Op([0]);let er=ei.isConditional(),el=(e,t)=>ei=new tA.Op(e);z&&ei.path[0]>=et.length&&!er?ot(q,et,el):z&&er&&oe(q,et,el);let ec=a.useCallback((e,t)=>{t?Q(new tA.Op(e)):Q(new tA.Op([]))},[]);a.useEffect(()=>{if((0,E.vA)(et.length>0,"the interactions panel should always have actions if rendered"),!z)return;let e=q.isConditional();if(e){if(e){oe(q,et,ec);return}}else{ot(q,et,ec);return}},[et,q,z,ec]);let{shouldShowAdvancedPrototypingPaywall:es,showAdvancedPrototypinglMultipleActionsModal:ed}=(0,G.zt)(),{showPanel:ep,transition:em}=(0,G.n6)(en,eo,Z),eu=(0,G.iC)(Z);var e_=[];$?et.forEach((e,t)=>{"CONDITIONAL"===e.connectionType&&e_.push(new tA.Op([t]))}):et.length<4&&et.forEach((e,t)=>{e_.push(new tA.Op([t]))});let[eE,eg]=a.useState(e_),ev=a.useRef(null),eI=n&&!H&&!W,eN=(0,y.jz)(on.prototypeInteractionModalWidth),eh=(0,y.jz)(on.prototypeInteractionModalExpandedWidth),eT=ol(ep).width,eA=t?eh:eN;$&&(eA=eT);let[eP,eO]=a.useState(g),ef=(0,w._X)({subscribeToUpdates_expensive:!g}),eb=a.useCallback(()=>{D||(f((0,K._P)({name:"prototype_interaction_details_modal_dragged"})),V(!0))},[f,D,V]),eC=a.useMemo(()=>{let e=new T.Mi(s,u);if(g)return $?new T.Mi(e.x-(eT-eN),e.y):t?new T.Mi(e.x-(eh-eN),e.y):e;{let t=(0,w.$g)(ef,e);return new T.Mi(t.x-eA/2,t.y+30)}},[eA,s,u,t,g,ef,$,eh,eN,eT]);a.useEffect(()=>{if(!n)return;let e=e=>{!e.shiftKey&&n&&N(!1)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[n,N]),a.useEffect(()=>{B(eI)},[B,eI]),a.useEffect(()=>{eO(g)},[g]),a.useEffect(()=>()=>{f((0,K._P)({name:"prototype_interaction_details_modal_closed"}))},[f]);let eS=a.useRef(null),[eD,ew]=a.useState(!1);a.useEffect(()=>{eD&&(ew(!1),eS.current?.scrollToBottom())},[eD,ew,eS]);let[ek,ex]=a.useState(new tA.Op([])),eK=(0,x.q5)(),eM=a.useCallback((e,t)=>{let n=e.event.clipboardData||window.clipboardData;switch(t){case M.zy.COPY:case M.zy.CUT:{let o=JSON.parse(JSON.stringify(Z)),a=(0,n8.l)(o),i=S.fG(eK?.key||null,{prototypeInteractions:a});if(S.C4(n,i,""),t===M.zy.CUT){let e=[];for(let t of Z){let{sourceNodeID:n,id:o}=t;n&&o&&e.push(I.d({nodeID:n,interactionID:o}))}p.l7.user("delete-prototype-interactions",()=>d.glU.deleteInteractions(e)),C.Y5.deselectProperty()}e.accept()}}},[eK?.key,Z]),eR=a.useRef(!1),[eU,eL]=a.useState(!1),{firstVariableSetMode:eV,firstVariableSetID:eB}=eJ(),eF=(0,k.p8)("currentPage"),eG=a.useCallback((e,t,n,o)=>{f((0,K._P)({name:"Prototype delete action",params:{action:e,source:"panel",connector_id:t,page_id:n,actionInConditionalAction:o}}))},[f]),eW=a.useCallback(e=>{if(ee&&Z){var t=!1,n=!1;if(es)ed();else{for(let i=0;i<Z?.length;i++){let r=Z[i],l=[];if(r&&r.actions){var o=0,a=[];for(let i=0;i<r.actions.length;i++){let c=r.actions[i];if(i!==e)void 0!==eE.find(e=>e.equals([i]))&&a.push(new tA.Op([o])),l.push(c),o++;else{let e=r.id?r.id:m.Hr;eG(c.connectionType?c.connectionType:"NONE",(0,m.dI)(e),eF),i===r.actions.length-1&&(t=!0),2===r.actions.length&&(n=!0)}eg(a)}Z[i].actions=l}}let i=ee.map(e=>Z.find(t=>t.id===e.id)??e);C.Y5.updateSelectionProperties({prototypeInteractions:i}),n&&z&&eg([new tA.Op([0])]),t&&$&&Q(new tA.Op([e-1]))}}},[ee,Z,es,ed,eE,eF,eG,$,z]),eY=a.useCallback(e=>{if(!ee||!Z||!e.path.length||void 0===e.path[0])return;let[t,n,o]=e.path,a=e.isConditional();if(es)ed();else if(a){let e=!1,a=!1,i=Z.map(i=>{let r=i.actions;if(!r)return i;let l=r.map((r,l)=>{if(l!==t||"CONDITIONAL"!==r.connectionType)return r;let c=r.conditionalActions;if(!c)return r;let s=c.map((t,r)=>{if(r!==n)return t;let l=t.actions;if(!l)return t;let c=l[o];c&&eG(c.connectionType?c.connectionType:"NONE",(0,m.dI)(i.id??m.Hr),eF,!0);let s=l.filter((e,t)=>t!==o);return e=o===l.length-1,a=0===s.length,{...t,actions:s}});return{...r,conditionalActions:s}});return{...i,actions:l}}),r=ee.map(e=>i.find(t=>t.id===e.id)??e);C.Y5.updateSelectionProperties({prototypeInteractions:r}),a?Q(new tA.Op([t])):!a&&e&&Q(new tA.Op([t,n,o-1]))}else eW(t);document.activeElement?.blur()},[ee,Z,es,ed,eW,eF,eG]),eH=a.createElement(A.P,{className:$?"prototype_interaction_edit_modal--ui3TwoColScrollContainer--IWuQ4":nQ,useBottomPinning:!$,ref:eS,allowScrollAndZoomOver:!0,"data-not-draggable":!0},a.createElement(n4,{shouldHideTitle:!0,recordingKey:$?h.Pt("leftCol",G.dJ):G.dJ,category:e,autoOpenVariablePicker:eR,newActionIndexPath:ek,resetNewActionIndexPath:()=>{ex(new tA.Op([]))},onNewActionAdded:e=>{ex(e)},selectedActionIndex:q,onSelect:ec,expandedRows:eE,setExpandedRows:eg,deleteButtonPressed:eW,autoOpenExpressionBuilder:eU,setAutoOpenExpressionBuilder:eL})),ez=1===Z.length,eX=Z[0],e$=eX.actions&&eX.actions.length<2,eq=eX.actions&&1===eX.actions.length&&eX.actions[0],eQ=!eq||"NONE"===eq.connectionType,eZ=ez&&e$&&eQ;var ej=m.Hr;let e0=a.createElement(tk,{skipPaywall:eZ,addButtonPressed:e=>{if(!Z)return;if(("CONDITIONAL"===e.connectionType||"SET_VARIABLE"===e.connectionType||"SET_VARIABLE_MODE"===e.connectionType)&&es){ed();return}"SET_VARIABLE_MODE"===e.connectionType&&(e.targetVariableSetID=eB,e.targetVariableModeID=eV),"SET_VARIABLE"===e.connectionType&&eR&&(eR.current=!0),z&&"CONDITIONAL"===e.connectionType&&eL(!0);let t=!1;var n=null,o=z&&!j&&!eZ&&Z[0].actions&&1===Z[0].actions.length;if(j||eZ)for(var a=0;a<Z.length;a++){let t=Z[a];t.actions=[e];let n=t.id,o=t.sourceNodeID;(0,G.uU)(t.stateManagementVersion)&&n&&o&&ni.zZ.recordInteractionUpgraded(n,o),t.stateManagementVersion=1}else for(var a=0;a<Z.length;a++){let o=Z[a];if(o.actions){if((0,G.uU)(o.stateManagementVersion)&&(o.id&&o.sourceNodeID&&ni.zZ.recordInteractionUpgraded(o.id,o.sourceNodeID),o.actions?.forEach(e=>{e.transitionResetScrollPosition=!e.transitionPreserveScroll})),$){if(q.isConditional()){let n=q.path[0],a=q.path[1],i=q.path[2],r=o.actions?.[n],l=r.conditionalActions?.[a].actions?.length??0;n===o.actions.length-1&&i===l-1&&(t=!0),r.conditionalActions?.[a].actions?.splice(i+1,0,e)}else{let n=q.path[0]+1;n===o.actions.length&&(t=!0),o.actions?.splice(n,0,e)}}else o.actions?.push(e);ej=o.id?o.id:m.Hr}else o.actions=[e],ej=o.id?o.id:m.Hr;if(o.stateManagementVersion=1,$){let e=[...q.path];e[e.length-1]+=1,n=new tA.Op([...e])}else n=new tA.Op([o.actions.length-1])}let i=ee.map(e=>Z.find(t=>t.id===e.id)??e);if(C.Y5.updateSelectionProperties({prototypeInteractions:i}),o||$){var r=[];i[0].actions?.forEach((e,t)=>{"CONDITIONAL"===e.connectionType&&r.push(new tA.Op([t]))}),eg(r)}ew&&(!$||t)&&ew(!0),ex&&ex(n),f((0,K._P)({name:"Prototype add action",params:{action:e.connectionType?e.connectionType:"NONE",source:"panel",connector_id:(0,m.dI)(ej),page_id:eF}}))},renderButton:!0,recordingKey:G.dJ,isNestedInConditional:$&&q.isConditional()}),e1=Z.some(e=>void 0!==e.actions&&e.actions?.length>1),e3=!q.isConditional()&&!e1,e2=a.createElement(r.K,{onClick:()=>eY(q),"aria-label":(0,O.t)("proto.prototype_panel.delete"),disabled:e3,recordingKey:h.Pt(G.dJ,"actionDeleteButton"),htmlAttributes:{"data-tooltip":(0,O.t)("proto.prototype_panel.delete"),"data-tooltip-type":R.Ib.TEXT}},a.createElement(P.U,{svg:nk.A},a.createElement(c.O,null))),e5=a.createElement("div",{className:"prototype_interaction_edit_modal--ui3FooterContainer--oYsXM"},e0," ",e2),e6=a.createElement(ey.c.Provider,{value:ey.P.LEFT},a.createElement("div",{className:$?"prototype_interaction_edit_modal--ui3InteractionsPanelContentLeftResizable--16pLu":"prototype_interaction_edit_modal--ui3InteractionsPanelContentLeft--UYWSG",ref:ev,style:$?{width:`${ol(ep).leftWidthPct}%`}:void 0},a.createElement(nq,{category:e,recordingKey:G.dJ,headerButtons:a.createElement(a.Fragment,null)}),a.createElement("div",{className:n0}),eH,a.createElement("div",{className:n0}),a.createElement(a.Fragment,null,e5))),e7=et.length>0?a.createElement(ey.c.Provider,{value:ey.P.RIGHT},a.createElement(A.P,{allowScrollAndZoomOver:!0,"data-not-draggable":!0,className:$?"prototype_interaction_edit_modal--ui3ScrollContainerRight--LJr-n":void 0},a.createElement(od,{selectedActionIndex:ei,handleExpandUI3:(e,t)=>{!t&&et.length>1?eg(eE.filter(t=>!t.equals(e))):eE.find(t=>t.equals(e))||eg([...eE,new tA.Op(e)])},autoOpenVariablePicker:eR,autoOpenExpressionBuilder:eU,setAutoOpenExpressionBuilder:eL}))):null,e4=a.useRef(oi),[,e8]=(0,l.i)({disabled:!$,onDragStart(){ev.current&&(e4.current=ev.current.getBoundingClientRect().width)},onDrag(e){if(ev.current&&e4.current){let t=ol(ep),n=e4.current+e.delta.x,a=n/t.width*100;n<oi?a=oi/t.width*100:a>or&&(a=or),ev.current.style.width=`${a}%`,o={...t,leftWidthPct:a}}}}),e9=$?a.createElement("div",{className:"prototype_interaction_edit_modal--ui3TwoColPanelContainer--e8MK8"},a.createElement("div",{className:"prototype_interaction_edit_modal--ui3TwoColInnerContainer--ZvJj2"},e6,a.createElement("div",{className:"prototype_interaction_edit_modal--dividerVertical--Noi1C"},a.createElement("div",{...e8({className:"prototype_interaction_edit_modal--verticalResizeHandle--xkc8V"})})),e7),ep&&a.createElement(n6,{transition:em,recordingKey:h.Pt(G.dJ,"stateManagementVersionPanel"),updateSelectionProperties:ea,stateManagementVersion:eu,selectedInteractions:Z})):eH;return a.createElement(L.ht.Provider,{value:a.useMemo(()=>({autoCloseOnScroll:!H}),[H])},a.createElement(U.vL,{name:"Prototype Draggable modal",className:"prototype_interaction_edit_modal--prototypeDraggableModal--njJ6A",handleClipboard:eM},a.createElement(t7.vx,{ref:F,dataTestId:"in-context-prototype-interaction-edit-modal",title:t=>a.createElement("div",{className:"prototype_interaction_edit_modal--onboardingRow--UlvE0"},a.createElement(op,{category:e,recordingKey:G.dJ,createActionTrigger:e0,closeButton:t})),containerClassName:_()({[nQ]:!$,[nZ]:$,[nj]:J,"prototype_interaction_edit_modal--abovePropertiesPanel--hFejC":eP,"prototype_interaction_edit_modal--belowPropertiesPanel--f1Jfl":!eP,"prototype_interaction_edit_modal--modalExpandedWidth--IDl6k":t&&!z,"prototype_interaction_edit_modal--modalWidth--cCH7B":!t&&!z,"prototype_interaction_edit_modal--hideModal--RSp-R":eI}),contentContainerClassName:_()({[nQ]:!$,[nZ]:$,[nj]:J}),headerClassName:"prototype_interaction_edit_modal--multilineInteractionDetailsHeader--OE8Wr",allowWheelPassthrough:!0,initialPosition:eC,headerSize:"small",onClose:oa,recordingKey:"interactionDetailsModal",arrowPosition:g?void 0:t7.F_.TOP,arrowRelativeX:g?void 0:eA/2,onDragStart:()=>{eO(!0),eb()},canRenderBelowViewport:!0,allowAutoExpanding:!0,dragHeaderOnly:!0,onFocus:()=>Y(!0),allowResizeHeight:$,allowResizeWidth:$,fullFrame:$,minWidth:$?440:void 0,minHeight:$?ep?369:320:void 0,maxWidth:$?800:void 0,maxHeight:$?800:void 0,initialHeight:$?ol(ep).height-t7.uF:void 0,initialWidth:$?ol(ep).width:void 0,onResize:$?e=>{o={...ol(ep),height:e.height,width:e.width}}:void 0},z?e9:eH)))});function od({selectedActionIndex:e,autoOpenVariablePicker:t,handleExpandUI3:n,autoOpenExpressionBuilder:o,setAutoOpenExpressionBuilder:i}){let r=(0,nC.HS)(),{selectedInteractions:l,mergedActions:c,makeUpdateSelectionPropertiesForActionIndex:s,makeUpdateMultipleDestinationNodesForActionIndex:d,detailPropsMultipleActions:p}=(0,nC.Ay)(r),m=e.path[0],u=d(m),_=s(m),E=(0,G.iC)(l),y=p.interactionEvent.interactionType??"NONE";if(e.isConditional()){let n=e.path[1],r=e.path[2],s=c[m],d=((0,D.hS)(s.conditionalActions)&&s.conditionalActions?s.conditionalActions:[])[n],p=d?.actions?.[r];return p?a.createElement("div",{className:n1},a.createElement(nK,{key:r,updateMultipleDestinationNodes:u.appendActionIndex(n).appendActionIndex(r),action:p,recordingKey:h.Pt(G.dJ,G.Qe,G.eG,m),updateSelectionProperties:_.appendActionIndex(n).appendActionIndex(r),onDeleteAction:N.lQ,interactionType:y,actionIndexPath:e.path,numActions:c.length,isNestedInConditional:!0,stateManagementVersion:E,selectedInteractions:l,onDrop:N.lQ,onSelect:N.lQ,onExpand:N.lQ,selectedActionIndex:e,expandedRows:[e],autoOpenVariablePicker:t,autoOpenExpressionBuilder:o,setAutoOpenExpressionBuilder:i,isNarrowPanel:!0})):null}return a.createElement("div",{className:n1},a.createElement(nK,{key:m,updateMultipleDestinationNodes:u,action:c[m],recordingKey:h.Pt(G.dJ,G.Qe,G.eG,m),updateSelectionProperties:_,onDeleteAction:N.lQ,interactionType:y,actionIndexPath:[m],numActions:c.length,isNestedInConditional:!1,stateManagementVersion:E,selectedInteractions:l,onDrop:N.lQ,onSelect:N.lQ,onExpand:n,selectedActionIndex:e,autoOpenVariablePicker:t,expandedRows:[e],autoOpenExpressionBuilder:o,setAutoOpenExpressionBuilder:i,isNarrowPanel:!0}))}function op({category:e,recordingKey:t,closeButton:n,createActionTrigger:o}){let l=(0,i.wA)(),{selectedInteractions:c}=(0,nC.Ay)(e),p=(0,G.YT)(),m=p===G.Oz.TWO_COL,u=p===G.Oz.SINGLE_COL,_=(()=>{if(1!==c.length)return 0;let e=c[0],t={nodeID:e.sourceNodeID,interactionID:e.id};return d.X3B.getMatchingInteractions(I.d(t)).length})(),E=(0,g.kc)().prototype_hide_matching_noodles&&1===c.length&&_>1&&a.createElement(r.K,{actionOnPointerDown:!0,onClick:()=>{if(1!==c.length)return;let e=c[0],t={nodeID:e.sourceNodeID,interactionID:e.id},n=d.X3B.getMatchingInteractions(I.d(t));d.glU.selectInteractionsAndSourceNodes(n);let o=(0,O.t)("proto.interaction_details.visual_bell.selected_n_matching_interactions",{total_num_interactions:n.length});C.Y5.showVisualBellWithUndo("selected-matching-noodles",o,!1),l((0,K._P)({name:"prototype_select_matching_interactions",params:{num_connectors:n.length}}))},"aria-label":(0,O.t)("proto.interaction_details.select_n_matching_interactions",{total_num_interactions:_}),htmlAttributes:{tabIndex:-1,onMouseEnter:()=>{if(1!==c.length)return;let e=c[0],t={nodeID:e.sourceNodeID,interactionID:e.id},n=d.X3B.getMatchingInteractions(I.d(t));d.glU.hoverInteractions(n)},onMouseLeave:()=>d.glU.hoverInteractions([]),"data-tooltip":(0,O.t)("proto.interaction_details.select_n_matching_interactions",{total_num_interactions:_}),"data-tooltip-type":R.Ib.TEXT}},a.createElement(P.U,{svg:oo.A},a.createElement(s.A,null))),y=a.createElement(nq,{category:e,recordingKey:t,headerButtons:a.createElement(a.Fragment,null,E,o,n)}),v=a.createElement("div",{className:"prototype_interaction_edit_modal--ui3ExpandedModalHeader--Ka7aM"},(0,O.tx)("proto.interaction_details.header"),a.createElement("div",{className:"prototype_interaction_edit_modal--ui3ExpandedModalHeaderButtons--UqykU"},E,n)),N=a.createElement(a.Fragment,null,(0,O.tx)("proto.interaction_details.header"),a.createElement("div",{className:"prototype_interaction_edit_modal--ui3CollapsedModalHeaderButtons--7yPuD"},E,o,n));return m?v:u?N:y}let om=e=>e.pickerShown?.id===f.o$?e.pickerShown:null}}]);

//# debugId=340f51b1-d40a-5df8-985a-f4320eebd321

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/4adfbc709fb88d4dceabb46800550de225fd66c1/5527-c0bda6c08f9813b1.min.js.map