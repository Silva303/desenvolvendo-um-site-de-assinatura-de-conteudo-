"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="679eb0e0-5cb2-5277-82d6-60b13ae27643")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[4678],{501891:(e,t,a)=>{a.d(t,{$C:()=>i,$s:()=>w,AQ:()=>k,Bt:()=>_,EA:()=>u,I0:()=>c,Kg:()=>T,Ki:()=>S,LO:()=>n,MC:()=>v,Mx:()=>L,N1:()=>f,Og:()=>x,Qp:()=>s,VM:()=>b,We:()=>o,Wf:()=>A,YF:()=>l,Z0:()=>r,cZ:()=>N,iB:()=>y,l_:()=>P,me:()=>m,ns:()=>I,qw:()=>g,sK:()=>p,t4:()=>h,u$:()=>C,vF:()=>E,vS:()=>d});let n="instance_panel--panelTitleRow--TN-S6",r="instance_panel--collapsibleTitleRow--YQUPk",s="instance_panel--instanceNameContainer--DjJ1a",l="instance_panel--isInComponentPlayground--jSk5E",i="instance_panel--instanceIcon--9Rb3Q",o="instance_panel--pickerButtonText--37jAr ellipsis--ellipsis--Tjyfa",c="instance_panel--propPillContainer--uUMdd",d="instance_panel--pickerButton--aETR-",p="instance_panel--selectedPickerButton--PqYr4",u="instance_panel--sublayerPanelWithHover--jgbud",m="instance_panel--sublayerPanelMixedState--h9Vb4",h="instance_panel--chevronIcon--0j2aS",g="instance_panel--viewOnlyPickerButton--70Wl5 instance_panel--pickerButton--aETR-",f="instance_panel--selectInstanceIcon--9lKUr",_="instance_panel--ui3InstanceNameContainer--2BVOa instance_panel--instanceNameContainer--DjJ1a",E="instance_panel--instanceNameTitle--khSFz ellipsis--ellipsis--Tjyfa",y="instance_panel--ui3InstanceNameTitle--RLDS5 ellipsis--ellipsis--Tjyfa",C="instance_panel--instanceNameTitleWide--InQRA instance_panel--instanceNameTitle--khSFz ellipsis--ellipsis--Tjyfa",v="instance_panel--titleButtons--8ha4T",b="instance_panel--dropdownOption--g0g2W",S="instance_panel--restoreComponentButtonRow--zPAzH",T="instance_panel--restoreComponentButton--kkxan",w="instance_panel--missingVariantErrorBox--Dvch2",k="instance_panel--missingVariantDescription--1OogA",I="instance_panel--missingVariantButtonContainer--T5wE1",N="instance_panel--missingVariantButton--WgVP5",P="instance_panel--updateIcon--4lm0w",x="instance_panel--propsContainer--CPc3n",A="instance_panel--bubbledInstancePropSection--9PzLJ",L="instance_panel--instancePanel--QoDrU"},918061:(e,t,a)=>{a.d(t,{Df:()=>c,I0:()=>s,RK:()=>l,TQ:()=>p,UZ:()=>d,ai:()=>o,dY:()=>i,jK:()=>n,ke:()=>r});let n="layer_panel--blendMode--ze-EB",r="layer_panel--opacity--8b7LU",s="layer_panel--propPillContainer--HA1XZ",l="layer_panel--visible--O8HLY",i="layer_panel--visibleHintIcon--40eBB",o="layer_panel--chevron--UUQ0D",c="layer_panel--blendModeInput--46kUO",d="layer_panel--variableSetModeInput--SQzwi",p="layer_panel--opacityVar--wSBBb"},261579:(e,t,a)=>{a.d(t,{$6:()=>r,G:()=>d,Ig:()=>i,Z7:()=>c,cF:()=>p,l_:()=>l,mq:()=>s,nM:()=>o,o3:()=>n});let n="variable_mode_entries--variableSetName--hmoV4",r="variable_mode_entries--ui3VariableSetName--eqW9C variable_mode_entries--variableSetName--hmoV4",s="variable_mode_entries--variableSetModeSelect--P6crF",l="variable_mode_entries--updateIcon--BNz-S",i="variable_mode_entries--dropdownDescription--OQef0",o="variable_mode_entries--row--8OoWO",c="variable_mode_entries--infoIconContainer--DmUPj",d="variable_mode_entries--infoIcon--JylKl",p="variable_mode_entries--infoOption--fKiWW"},103339:(e,t,a)=>{a.d(t,{DK:()=>k,MO:()=>A,d8:()=>N,oD:()=>L,q9:()=>I});var n=a(411855),r=a(188507),s=a(675678),l=a(587670),i=a(776250),o=a(38580),c=a(374626),d=a(776621),p=a(572206),u=a(877432),m=a(939863),h=a(154483),g=a(666930),f=a(696673),_=a(44892),E=a(15859),y=a(927657),C=a(931770),v=a(335682),b=a(933342),S=a(234945),T=a(173454),w=(e=>(e.GENERIC="GENERIC",e.OFFLINE="OFFLINE",e.THUMBNAIL_TIMEOUT="THUMBNAIL_TIMEOUT",e))(w||{});function k(e){switch(e){case"GENERIC":return(0,m.t)("design_systems.playground.unable_to_load");case"OFFLINE":return(0,m.t)("design_systems.playground.unable_to_load_while_offline");case"THUMBNAIL_TIMEOUT":return(0,m.t)("design_systems.playground.unable_to_load_thumbnail")}}function I(e){switch(e){case"GENERIC":return(0,m.t)("design_systems.playground.unable_to_load_help_text");case"OFFLINE":return(0,m.t)("design_systems.playground.unable_to_load_while_offline_help_text");case"THUMBNAIL_TIMEOUT":return(0,m.t)("design_systems.playground.unable_to_load_thumbnail_help_hext")}}let N=(0,o.eU)(!1);function P(e){let[t,a]=n.useState(),[r,s]=n.useState(),[i,o]=n.useState(!1),[d,u]=n.useState(!1),[m,h]=n.useState(!1),[g,f]=(0,c.fp)(N),_=n.useCallback(()=>{let t=l.glU.generatePlaygroundThumbnail(e??null),n=l.glU.getPlaygroundNodeData();t.pixels?.length>0?(a({src:(0,C.Pv)(t.pixels,new p.Mi(t.width,t.height)),width:t.width/t.scale,height:t.height/t.scale}),s(n),u(!1),f(!0)):u(!0)},[f,e]),E=n.useCallback(e=>{o(e),h(!0)},[h]),{onSetPercentImagesLoaded:v,onResetTracker:b}=function(e){let[t,a]=n.useState(0),[r,s]=n.useState(0),[l,i]=n.useState(null),o=n.useCallback(()=>{a(0),s(0),i(null)},[]);return n.useEffect(()=>{function a(a,n){if(t>a&&t<n&&r<=a){let a=Date.now();(null===l||a-l>1e3)&&(i(a),s(t),e())}}a(.25,.5),a(.5,.75),a(.75,1)},[r,l,e,t]),n.useEffect(()=>{1===t&&(e(),s(1))},[e,t]),n.useMemo(()=>({onSetPercentImagesLoaded:a,onResetTracker:o}),[a,o])}(_);return n.useEffect(()=>(0,y.k)(E),[E]),n.useEffect(()=>()=>l.glU.clearPlaygroundScene(),[]),n.useEffect(()=>{m&&setTimeout(()=>{_(),h(!1)},0)},[m,h,_]),n.useMemo(()=>({setPlaygroundNodeData:s,onSetPercentImagesLoaded:v,onResetTracker:b,thumbnailData:t,playgroundNodeData:r,hasChangesToReset:i,hasThumbnailErrors:d,setHasChangesToReset:o}),[s,v,b,t,r,i,d,o])}let x=(0,h.fv)();function A({canViewPlaygroundQueryResult:e,canvasAsset:t,onLoaded:a,onError:r,thumbnailOptions:o}){let[c,p]=n.useState(t),{setPlaygroundNodeData:m,onSetPercentImagesLoaded:h,onResetTracker:g,thumbnailData:y,playgroundNodeData:C,hasChangesToReset:S,hasThumbnailErrors:w,setHasChangesToReset:k}=P(o),I=(0,v.tS)(),N=c!==t||!C||"loading"===e.status,[A,L]=n.useState(null),O=n.useCallback(()=>{l.glU.clearPlaygroundScene(),m(void 0)},[m]),M=n.useCallback(async(e=!0)=>{let a;if(t.type!==T.PW.COMPONENT&&t.type!==T.PW.STATE_GROUP&&t.type!==T.PW.MODULE){O();return}let n=Date.now();if(L(null),t.isLocal)a=null;else try{let e=_.Eo.getCanvas({canvas_url:t.canvas_url});await Promise.race([e,(0,u.fm)(100)])||(p(t),m(void 0),k(!1)),a=await e}catch(e){0===e.status?L("OFFLINE"):L("GENERIC"),O(),p(t),(0,d.$D)(s.FigmaTeam.DESIGN_SYSTEMS_ECOSYSTEM,e,{tags:{openFileKey:I,fileKey:x(t),libraryKey:t.library_key,isCommunityLibrary:(0,f.wJ)(x(t)),type:t.type}});return}let r=t.type!==T.PW.STATE_GROUP||t.isLocal?null:t.default_state_key;if(a?l.glU.setPlaygroundSceneFromBuffer(t.node_id,a,e,r,x(t)):l.glU.setPlaygroundSceneFromLocalAsset(t.node_id)){k(!1),m(l.glU.getPlaygroundNodeData()),p(t),i.az.trackDefinedEvent("playground.set_scene",{duration:Date.now()-n,assetType:t.type,isLocal:t.isLocal??!1,assetKey:(0,b.u2)(t)}),g(),(0,E.Jr)().loadAllImagesUnder(["0:0"],l.MoD.NON_ANIMATED_ONLY,"playground.initialLoad",(e,t)=>{h((t-e)/t)},l.glU.getPlaygroundScene());return}if(e){p(t),m(void 0),k(!1),setTimeout(()=>{M(!1)},50);return}L("GENERIC"),O()},[I,O,g,h,t,m,k]);return n.useEffect(()=>{"loaded"===e.status&&(e.data?M():p(t))},[e,m,t,O,M]),n.useMemo(()=>{let e=w?"THUMBNAIL_TIMEOUT":A;return!e&&N?{state:"LOADING",previousAssetData:{thumbnailData:y,hasChangesToReset:S,refetchAndResetScene:M,nodeData:C,asset:c}}:(a(),e)?(r(),{state:"ERROR",errorType:e,previousAssetData:{thumbnailData:y,hasChangesToReset:S,refetchAndResetScene:M,nodeData:C,asset:c}}):{state:"LOADED",currentAssetData:{hasChangesToReset:S,refetchAndResetScene:M,nodeData:C,thumbnailData:y,asset:c}}},[N,a,w,A,C,y,r,S,M,c])}function L(){let e=(0,r.d4)(S.AF),t=e?.guid,a=(0,g.wS)(),s="loaded"===a.status?a.result:void 0,{setPlaygroundNodeData:i,thumbnailData:o,playgroundNodeData:c,hasChangesToReset:d}=P(),p=n.useCallback(()=>{let e=!1;s?e=l.glU.setPlaygroundSceneFromDetachedInfo(s.dataComponentId,"temp-scene"===s.dataLocation):t&&(e=l.glU.setPlaygroundSceneFromSelection()),e||(l.glU.clearPlaygroundScene(),i(void 0))},[t,s,i]);return n.useEffect(()=>{p()},[p]),n.useMemo(()=>c&&o?{hasChangesToReset:d,refetchAndResetScene:p,nodeData:c,thumbnailData:o}:null,[c,o,d,p])}},722261:(e,t,a)=>{a.d(t,{b:()=>u});var n=a(411855),r=a(730371),s=a(587670),l=a(153234),i=a(939863),o=a(617453),c=a(100197),d=a(962264),p=a(564092);function u({fill:e,modes:t,recordingKey:a}){let u=(0,c.J2)((0,o.UK)().showGuids),m=Object.entries(t).map(([e,t])=>({...t,setKey:e})).filter(e=>e.modeOptions.length>1).sort((e,t)=>e.collectionName.toLocaleLowerCase().localeCompare(t.collectionName.toLocaleLowerCase()));return 0===m.length?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"playground_modes_section--title--wPRzF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,i.tx)("design_systems.playground.variable_modes_title")),m.map(t=>n.createElement(d.yj,{fill:e,key:t.setKey,onChange:e=>{e!==p.Mo&&e!==p.Yn&&((0,r.deepEquals)(t.explicitMode||t.inheritMode,e)||(e===p.Ws||e===p.UE?s.glU.setVariableModeForPlayground(t.setKey,e):s.glU.setVariableModeForPlayground(t.setKey,e.guid)))},showExplicitOnly:!1,variableSetName:t.collectionName,variableSetKey:t.setKey,modeOptions:t.modeOptions,explicitModeID:t.explicitMode,inheritedModeID:t.inheritMode,isShowingGuids:u,showInheritedModeOption:!1,recordingKey:l.Pt(a,`mode-${t.setKey}`)})))}},220747:(e,t,a)=>{a.d(t,{x:()=>f});var n=a(411855),r=a(255376),s=a(449124),l=a(29680),i=a(273226),o=a(467302),c=a(286285),d=a(721478),p=a(371623),u=a(103339);let m="playground_props_section--divider--I23uK";var h=a(132208);function g({componentProps:e,bubbledComponentId:t,productComponentGUID:a,sceneGraph:s,instanceSwapPickerInitialHeight:u,instanceSwapPickerInitialPosition:m,recordingKey:h,containerWidth:g}){let f=(0,l.T3)(),{typedPropDefsExcludingHidden:_,variantPropDefs:E,assignmentValuesByDefId:y,allStateVariantProps:C,backingStateVariantProps:v,statePropertyValues:b}=(0,o.nj)(t,e,a,f);return _.length||E.length?n.createElement(r.S,{titleClassName:"playground_props_section--bubbledPropsTitle--8SBPC",isInitiallyOpen:_.length<c.qC,title:n.createElement(d.iN,{canCollapse:!0,shouldHideButtons:!0,isInComponentPlayground:!0,instanceAndSublayerGUIDs:[t],containerWide:g===i.O2.WIDE,recordingKey:h})},n.createElement(c.tO,{typedPropDefs:_,variantPropDefs:E,assignmentValues:y,allStateVariantProps:C,backingStateVariantProps:v,statePropertyValues:b,productComponentGUID:a,propDimension:i.OE.ASSIGNMENT,guids:[t],forBubbledProps:!0,splitVariantAndTypedProps:!1,instanceSwapPickerInitialHeight:u,instanceSwapPickerInitialPosition:m,sceneGraph:s,inPlayground:!0,recordingKey:h,containerWidth:g,hideIcon:!0,entrypointForInstanceSwapPicker:p.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND_BUBBLED})):null}function f({componentProps:e,moduleProps:t,moduleFrameData:a,label:r,playgroundGUID:d,productComponentGUID:f,sceneGraph:_,viewOnlyMode:E,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:C,recordingKey:v,containerWidth:b,errorData:S,shouldShowDividerAboveProps:T}){let w=(0,l.T3)(),k=d&&e,{typedPropDefsExcludingHidden:I,variantPropDefs:N,assignmentValuesByDefId:P,allStateVariantProps:x,backingStateVariantProps:A,statePropertyValues:L}=(0,o.nj)(d??"",e??{},f,w),O=n.useMemo(()=>{if(!k)return[];let n=e[d]?.bubbledNestedInstanceGUIDs;if(n)return n;let r=t?.[d]?.bubbledNestedInstanceGUIDs;if(r)return r;if(a?.selectedFrameGUID){let e=t?.[a.selectedFrameGUID]?.bubbledNestedInstanceGUIDs;if(e)return e}return[]},[e,k,a,t,d]);return S?S.shouldHideError?null:n.createElement(n.Fragment,null,n.createElement("div",{className:m}),n.createElement("div",{className:"playground_props_section--errorBannerContainer--d3nQO"},n.createElement(s.z,{orientation:"vertical",iconSrc:h.A,onClose:()=>S.setShouldHideError(!0),variant:"warning",title:(0,u.DK)(S.errorType)},(0,u.q9)(S.errorType)))):k&&(I.length||N.length||O.length)?n.createElement(n.Fragment,null,T&&n.createElement("div",{className:m}),r,n.createElement(c.tO,{typedPropDefs:I,variantPropDefs:N,assignmentValues:P,allStateVariantProps:x,backingStateVariantProps:A,statePropertyValues:L,productComponentGUID:f,propDimension:i.OE.ASSIGNMENT,guids:[d],viewOnlyMode:E,forBubbledProps:!1,splitVariantAndTypedProps:!!E,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:C,sceneGraph:_,inPlayground:!0,recordingKey:v,containerWidth:b,hideIcon:!0,entrypointForInstanceSwapPicker:p.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND}),O.map(t=>{let a=e[t]?.backingSymbol||"",r=e[a]?.containingStateGroupGUID||a;return r?n.createElement(g,{key:t,componentProps:e,bubbledComponentId:t,productComponentGUID:r,sceneGraph:_,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:C,recordingKey:v,containerWidth:b}):null})):null}},236478:(e,t,a)=>{a.d(t,{r:()=>c});var n=a(980820),r=a(293017),s=a(286954),l=a(411294),i=a(906899),o=a(169231);let c=(0,n.nF)(e=>{let t=e.getState();t.pickerShown&&e.dispatch(r.XE()),t.instanceSwapPickerShown&&e.dispatch((0,s.vq)()),t.stylePickerShown&&e.dispatch(r.Uv()),t.stylePreviewShown&&e.dispatch(i.sw()),t.variablePickerShown?.isShown&&e.dispatch((0,o.B)()),t.pickerInStyleCreationShown&&e.dispatch((0,l.w)())})},467302:(e,t,a)=>{a.d(t,{an:()=>m,nj:()=>h});var n=a(411855),r=a(188507),s=a(534611),l=a(44948),i=a(848661),o=a(234945),c=a(273226),d=a(510879),p=a(107244),u=a(958317);function m(e,t){let a=n.useMemo(u.vf,[]),d=(0,r.d4)(o.dK),m=(0,r.d4)(p.C1),h=(0,r.d4)(t=>a(t,e)),y=function(e,t){let a=(0,r.d4)(o.dK);if(t!==c.OE.DEFINITION)return(0,c.Yi)(e,a)||(0,c.k4)(e,a)||"";{let t=(0,c.wd)(e,a);return t&&!(0,i.gl)(t)?t.guid:""}}(e,t),C=(0,l.k9)(()=>m&&y?g(y,e,m):[],[m,e,y]),v=(0,l.k9)(()=>m?f(C,e.filter(e=>{let t=d.get(e);return t?.type==="INSTANCE"}),d,m):{},[e,d,m,C]),b=(0,l.k9)(()=>y&&m?_(y,m,d):[],[y,m,d]),S=(0,l.k9)(()=>{let t=e.reduce((e,t)=>{let a=d.get(t),n=a?.symbolId;return n&&n!==s.AD&&e.add(n),e},new Set);return b.filter(e=>t.has(e.guid))},[b,e,d]),T=(0,l.k9)(()=>y&&m?E(y,e,m):{},[y,e,m]);return n.useMemo(()=>({typedPropDefsExcludingHidden:C,variantPropDefs:h,assignmentValuesByDefId:v,allStateVariantProps:b,backingStateVariantProps:S,statePropertyValues:T,productComponentGUID:y}),[C,h,v,b,S,T,y])}function h(e,t,a,r){let s;let i=(0,l.k9)(()=>a?g(a,[e],t):[],[e,a,t]),o=(0,l.k9)(()=>a?(0,u.Jm)(a,t):[],[a,t]),c=(0,l.k9)(()=>f(i,[e],r,t),[e,t,r,i]),d=(0,l.k9)(()=>a&&r.get(a)?.isStateGroup?_(a,t,r):[],[a,t,r]),p=(0,l.k9)(()=>a?E(a,[e],t):{},[e,a,t]),m=r.get(e)?.symbolId;return m&&r.get(m)?.isState||(s=[]),s=d.filter(e=>m===e.guid),n.useMemo(()=>({typedPropDefsExcludingHidden:i,variantPropDefs:o,assignmentValuesByDefId:c,allStateVariantProps:d,backingStateVariantProps:s,statePropertyValues:p}),[i,o,c,d,s,p])}function g(e,t,a){let n=(0,c.ZH)(t,a);return(0,c.aO)(e,a).filter(e=>!n.has(e.explicitDefID))}function f(e,t,a,n){let r={};return e.forEach(e=>{let s=new Set,l=new Set;for(let a of t){let t=n[a]?.assignments?.[e.explicitDefID];if(t){if(t.isMixed){s.add(i.oV);continue}if(null!=t.value){let e=JSON.stringify(t.value);l.has(e)||s.add(t.value),l.add(e)}}}r[e.explicitDefID]=(0,c.m5)(e.type,s,a)}),r}function _(e,t,a){let n=a.get(e);return n?.isStateGroup?n.childrenNodes.reduce((e,a)=>{let n=t[a.guid]?.stateVariantProps;return n?e.push({...n,guid:a.guid}):e.push({propertyValues:a.statePropertyValues,guid:a.guid}),e},[]):[]}function E(e,t,a){let n=a[e]?.stateGroupVariantProps?.propertySortOrder??[];return(0,d.s)(a,t,n)}},286285:(e,t,a)=>{a.d(t,{qC:()=>tU,e6:()=>tB,tO:()=>tV,ME:()=>tG,R$:()=>tY,t8:()=>tz,BK:()=>tK});var n=a(411855),r=a(188507),s=a(463420),l=a(96796),i=a(201706),o=a(587670),c=a(629019),d=a.n(c),p=a(153234),u=a(522739),m=a(255376),h=a(939863),g=a(29680),f=a(721478),_=a(45148),E=a(690710),y=a(893606),C=a(939791),v=a(273226);let b=(0,n.createContext)({isDraggingSomePropDef:!1,setIsDraggingSomePropDef:e=>{}});function S({children:e}){let[t,a]=(0,n.useState)(!1);return n.createElement(b.Provider,{value:{isDraggingSomePropDef:t,setIsDraggingSomePropDef:a}},e)}let T=()=>n.useContext(b);var w=a(467302),k=a(602029),I=a(459401),N=a(634832),P=a(752795),x=a(974563),A=a(256296),L=a(215122),O=a(86625),M=a(354189),D=a(335601),R=a(966712),F=a(498750),U=a(667167),G=a(901536),K=a(244673),B=a(286954),V=a(632430),H=a(843495),z=a(848661),Y=a(869156),j=a(335682),W=a(100197),$=a(173454),X=a(498606),Z=a(219101),q=a(158950),J=a(412297),Q=a(911820),ee=a(773833),et=a(7959),ea=a(347495),en=a(56315),er=a(282263),es=a(564092),el=a(533573),ei=a(712685),eo=a(10921),ec=a(15270),ed=a(343887),ep=a(416580),eu=a(794272),em=a(555074),eh=a(494057),eg=a(107244),ef=a(345572),e_=a(520636);function eE({value:e,hasBinding:t,variableType:a,requestedTypes:r,onVariableSelected:s,onComponentPropSelected:l,onClearBinding:i,recordingKey:c}){let d=(0,em.kl)("isInstanceSublayerSelected"),u=(0,eu.R)(eg.UR),m=e.type===o.Z_n.ALIAS?e.value:void 0,g=e.type===o.Z_n.NODE_FIELD_ALIAS?(0,ee.aA)(e.value.stablePathToNode,e.value.indexOrKey):void 0,f=(0,Y.u)(m),_=(0,es.Px)(),E=n.useMemo(()=>o.CWU.getVariableSetKeyForPublish(f?.variableSetId??"")??"",[f?.variableSetId]),y=E in _?_[(0,L.yG)(E)]:void 0,C=n.useMemo(()=>y?{[(0,L.yG)(E)]:y}:void 0,[y,E]),v=(0,Y.BQ)(m??void 0,C)??g?.varValue;return t?n.createElement("span",{className:e_.c6},g&&d&&!f?n.createElement(eh.f,{containingInstanceGUID:u,propDefId:g?.explicitDefId}):n.createElement(ed.K,{onClick:()=>i(v),recordingKey:p.Pt(c,"detachButton"),"aria-label":(0,h.t)("design_systems.component_properties.detach_property")},n.createElement(ep.U,null))):((0,N.assertNotNullish)(a),n.createElement(er.hu,{boundVariableId:void 0,resolvedType:a,requestedTypes:r,onComponentPropSelected:l,onVariableSelected:s},n.createElement(er.V5,null),n.createElement(ef.K,{recordingKey:p.Pt(c,"assignAssignmentProp"),tooltip:(0,h.t)("proto.apply_assignment_property")})))}var ey=a(386976),eC=a(371686);function ev(e){let{index:t,guids:a,typedPropDef:s,value:l,containerWidth:i,forBubbledProps:c,hideIcon:p}=e,u=(0,W.J2)(o.Ez5.propertiesPanelState().shownPropertiesPanels)[o.ibQ.INSTANCE_ITEM],m=(0,r.wA)(),h=(0,r.d4)(e=>e.selectedComponentPropDefId),[g,f]=n.useState(!1),_=n.useRef(null),E=n.useRef(null),b=(0,y.R)();n.useEffect(()=>{h===s.explicitDefID&&u&&(m(K.n0({propDefId:null})),f(!0),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{f(!1)},1e3))},[m,h,s,u]);let[S,T]=n.useMemo(()=>s.type===o.J0O.BOOL?[o.rXF.BOOLEAN,[o.rXF.BOOLEAN]]:s.type===o.J0O.TEXT?[o.rXF.TEXT_DATA,[o.rXF.STRING]]:s.type===o.J0O.NUMBER?[o.rXF.FLOAT,[o.rXF.FLOAT]]:[void 0,void 0],[s.type]),w=!!((0,R.kc)().ds_variable_props_binding&&s.type!==o.J0O.INSTANCE_SWAP&&void 0!==S&&void 0!==T),k=l&&"object"==typeof l&&"type"in l&&l.type===o.Z_n.ALIAS,I=l&&"object"==typeof l&&"type"in l&&l.type===o.Z_n.NODE_FIELD_ALIAS,P=n.useMemo(()=>I?(0,ee.aA)(l.value.stablePathToNode,l.value.indexOrKey):null,[I,l]),x=I&&P;if(void 0===l)return null;let A=E.current,L=!!A&&A.offsetWidth<A.scrollWidth,M=n.createElement("div",{className:d()(e_.zJ,{[e_.qU]:i===v.O2.RESIZABLE_SIDEBAR,[e_.AN]:s.type===o.J0O.TEXT})},n.createElement("div",{ref:E,className:e_.BY,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":L?s.name:null},s.name)),D=n.createElement(Z.e,{condition:w,wrapper:e=>((0,N.assertNotNullish)(S),n.createElement(er.hu,{boundVariableId:void 0,resolvedType:S,requestedTypes:T,onComponentPropSelected:e=>{let t=(0,v.FF)(e);O.l7.user("component-prop-assignment",()=>o.glU.setComponentPropAssignmentVariableData(a,s.explicitDefID,t,c))},onVariableSelected:e=>{void 0!==e&&O.l7.user("component-prop-assignment",()=>o.glU.setComponentPropAssignmentVariableData(a,s.explicitDefID,(0,es.y$)(S,e.node_id),c))}},n.createElement(er.V5,null),e))},(()=>{if(k&&w)return n.createElement(ew,{...e});if(x&&w)return n.createElement(ek,{...e});let t=I&&!x?s.defaultValue:e.value;return s.type===o.J0O.BOOL?n.createElement(eT,{...e,value:t}):s.type===o.J0O.TEXT?n.createElement(eN,{...e,value:t}):s.type===o.J0O.NUMBER?n.createElement(eI,{...e,value:t}):s.type===o.J0O.INSTANCE_SWAP?n.createElement(eP,{...e,value:t}):n.createElement(n.Fragment,null)})());return s.type!==o.J0O.NUMBER||(0,R.kc)().ds_variable_props_number_type?b?p?n.createElement(en.g,{appendedClassName:e_.Mj,onMouseEnter:()=>H.dH({nodeIDs:a,defID:s.explicitDefID}),onMouseLeave:()=>H.dH({nodeIDs:[],defID:""}),leftLabel:null,leftInput:M,rightLabel:null,rightInput:D}):n.createElement(C.fn,{recordingKey:`componentPropertyRow.${t}`,appendedClassName:d()(e_.Mj,{[e_.FG]:w}),onMouseEnter:()=>H.dH({nodeIDs:a,defID:s.explicitDefID}),onMouseLeave:()=>H.dH({nodeIDs:[],defID:""}),leftLabel:null,leftInput:M,rightLabel:null,rightInput:D,icon:w?n.createElement(eE,{value:l,hasBinding:k||x,variableType:S,requestedTypes:T,onComponentPropSelected:e=>{let t=(0,v.FF)(e);O.l7.user("component-prop-assignment",()=>o.glU.setComponentPropAssignmentVariableData(a,s.explicitDefID,t,c))},onVariableSelected:async e=>{if((0,N.assertNotNullish)(S),void 0===e)return;let t=await m((0,V.Oe)(e));t&&O.l7.user("component-prop-assignment",()=>o.glU.setComponentPropAssignmentVariableData(a,s.explicitDefID,(0,es.y$)(S,t),c))},onClearBinding:e=>{O.l7.user("component-prop-assignment",()=>{o.glU.unbindComponentPropAssignment(a,s.explicitDefID,e,c)})},recordingKey:"typedComponentPropAssignmentRow"}):void 0}):n.createElement(et.fI,{className:d()(function(e){switch(e){case v.O2.REGULAR:case void 0:return e_.RZ;case v.O2.WIDE:return e_.oB;case v.O2.UNBOUNDED:return e_.PB;case v.O2.RESIZABLE_SIDEBAR:return e_.i1}}(i),{[e_.P]:g}),recordingKey:`componentPropertyRow.${t}`,onMouseEnter:()=>H.dH({nodeIDs:a,defID:s.explicitDefID}),onMouseLeave:()=>H.dH({nodeIDs:[],defID:""})},M,D):null}function eb(e){switch(e){case v.O2.REGULAR:case void 0:return e_.u8;case v.O2.WIDE:return e_.bq;case v.O2.UNBOUNDED:return e_.CS;case v.O2.RESIZABLE_SIDEBAR:return e_.PQ}}function eS(e){switch(e){case v.O2.REGULAR:case void 0:return e_.ty;case v.O2.WIDE:return e_.aF;case v.O2.UNBOUNDED:return e_.n4}}function eT({value:e,viewOnly:t,guids:a,typedPropDef:s,containerWidth:l,forBubbledProps:i}){let c=(0,r.wA)(),u=(0,y.R)(),m=(0,r.d4)(e=>e.instanceSwapPickerShown),h=n.useCallback(e=>{O.l7.user("toggle-bool-prop-assignment",()=>{(0,R.kc)().ds_variable_props_binding?o.glU.setComponentPropAssignmentVariableData(a,s.explicitDefID,(0,ec.WI)(o.rXF.BOOLEAN,e),i):o.glU.setBoolComponentPropAssignment(a,s.explicitDefID,e,i)}),m?.isShown&&c((0,B.vq)())},[m,a,s.explicitDefID,i,c]);return n.createElement("div",{className:eb(l)},n.createElement("div",{className:eS(l)},u?n.createElement(x.d,{checked:e,label:n.createElement(A.h,null,s.name),onChange:h,recordingKey:p.Pt("componentPropAssignmentToggle",a.join("-"),s.explicitDefID),disabled:t}):n.createElement(ea.l,{toggleClassName:function(e){switch(e){case v.O2.RESIZABLE_SIDEBAR:return d()(e_.PQ,e_.E3);case v.O2.REGULAR:case v.O2.UNBOUNDED:case v.O2.WIDE:case void 0:return e_.E3;default:(0,N.assertNever)(e)}}(l),on:e,disabled:t,onChange:h,recordingKey:p.Pt("componentPropAssignmentToggle",a.join("-"),s.explicitDefID),forwardEventsToFullscreen:!0})))}function ew({value:e}){let t=(0,y.R)(),a=(0,z.gl)(e),r=e.value,s=(0,Y.u)(r),l=(0,es.Px)(),i=n.useMemo(()=>o.CWU.getVariableSetKeyForPublish(s?.variableSetId??"")??"",[s?.variableSetId]),c=i in l?l[(0,L.yG)(i)]:void 0,d=n.useMemo(()=>c?{[(0,L.yG)(i)]:c}:void 0,[c,i]),p=(0,Y.BQ)(r??void 0,d);return s?n.createElement("div",{className:e_.K8},n.createElement(eo.P,{value:a?(0,h.t)("design_systems.component_properties.mixed"):s?.name,variableId:r&&!a?r:void 0,isStandalone:!0,thumbnailValue:"MIXED"!==p?p:void 0,isDeleted:(0,el.eF)(s),classNameOverride:t?G.cx.wFull.$:void 0,varaiablePillContainerClassName:t?e_.Ro:void 0,fullWidth:t})):n.createElement(n.Fragment,null)}function ek({value:e}){let t=(0,z.gl)(e),a=(0,y.R)(),r=(0,ee.aA)(e.value.stablePathToNode,e.value.indexOrKey);if(!r)return n.createElement(n.Fragment,null);let s=r?(0,ee.Xx)(r.varValue.resolvedType):void 0;return n.createElement("div",{className:e_.K8},n.createElement(eo.P,{value:t?(0,h.t)("design_systems.component_properties.mixed"):r.name,isStandalone:!0,thumbnailValue:s??void 0,classNameOverride:a?G.cx.wFull.$:void 0,varaiablePillContainerClassName:a?e_.Ro:void 0,fullWidth:a,colorTheme:ei.J.COMPONENT}))}function eI({value:e,typedPropDef:t,guids:a,forBubbledProps:r,containerWidth:s,viewOnly:l,index:i}){let{inputRef:c,inputProps:{onChange:u,onFocus:m,onMouseLeave:g,onMouseUp:f,onKeyUp:_}}=(0,D.X)({onFocus:()=>{(0,z.gl)(e)?y(""):y(S)},onChange:e=>y(e.currentTarget.value)}),[E,y]=n.useState(null),C=(0,z.gl)(e)?0:Number(e),b=n.useMemo(()=>{let t=!E||!(0,v.Rq)(E);return(0,z.gl)(e)||t?C:(0,v.T1)(E)},[E,e,C]),S=(0,z.gl)(e)?(0,h.t)("design_systems.component_properties.mixed"):(0,v.lg)(C),T=()=>{(0,P.isNotNullish)(E)&&O.l7.user("set-number-prop-assignment",()=>{(0,R.kc)().ds_variable_props_binding?o.glU.setComponentPropAssignmentVariableData(a,t.explicitDefID,(0,ec.WI)(o.rXF.FLOAT,b),r):o.glU.setNumberComponentPropAssignment(a,t.explicitDefID,b,r)}),c.current&&(c.current.scrollTop=0,c.current.blur()),y(null)};return n.createElement("div",{className:eb(s)},n.createElement("div",{className:eS(s)},n.createElement(q.v,{ref:e=>{e?.textarea&&(c.current=e.textarea)},className:d()({[e_.mD]:l,[e_.x1]:""===S&&!l,[e_.hF]:!l&&""!==S}),value:null===E?S:E,placeholder:(0,z.gl)(e)?S:void 0,onChange:u,onFocus:m,onMouseLeave:g,onMouseUp:f,onKeyDown:e=>{e.keyCode!==F.Uz.ENTER||e.shiftKey||(e.preventDefault(),T())},onKeyUp:_,onBlur:T,disableInput:l,recordingKey:p.Pt("componentPropAssignmentNumberInput",a.join("-"),i)})))}function eN({value:e,typedPropDef:t,guids:a,forBubbledProps:r,containerWidth:s,viewOnly:l,index:i}){let{inputRef:c,inputProps:{onChange:u,onFocus:m,onMouseLeave:g,onMouseUp:f,onKeyUp:_}}=(0,D.X)({onFocus:()=>{(0,z.gl)(e)?y(""):y(C)},onChange:e=>y(e.currentTarget.value)}),[E,y]=n.useState(null),C=t.type===o.J0O.TEXT?(0,z.gl)(e)?(0,h.t)("design_systems.component_properties.mixed"):e:null,v=()=>{(0,P.isNotNullish)(E)&&O.l7.user("set-text-prop-assignment",()=>{(0,R.kc)().ds_variable_props_binding?o.glU.setComponentPropAssignmentVariableData(a,t.explicitDefID,(0,ec.WI)(o.rXF.TEXT_DATA,{characters:E}),r):o.glU.setTextComponentPropAssignment(a,t.explicitDefID,E,r)}),c.current&&(c.current.scrollTop=0,c.current.blur()),y(null)};return n.createElement("div",{className:eb(s)},n.createElement("div",{className:eS(s)},n.createElement(q.v,{ref:e=>{e?.textarea&&(c.current=e.textarea)},className:d()({[e_.mD]:l,[e_.x1]:""===C&&!l,[e_.hF]:!l&&""!==C}),value:null===E?C:E,placeholder:(0,z.gl)(e)?C:null,onChange:u,onFocus:m,onMouseLeave:g,onMouseUp:f,onKeyDown:e=>{e.keyCode!==F.Uz.ENTER||e.shiftKey||(e.preventDefault(),v())},onKeyUp:_,onBlur:v,disableInput:l,recordingKey:p.Pt("componentPropAssignmentTextInput",a.join("-"),i)})))}function eP({value:e,viewOnly:t,guids:a,typedPropDef:s,containerWidth:l,forBubbledProps:i,inPlayground:c,sceneGraph:d,instanceSwapPickerInitialHeight:p,instanceSwapPickerInitialPosition:u,entrypointForInstanceSwapPicker:m}){let g=(0,r.wA)(),f=(0,r.d4)(j.sS),{preferredValues:_,preferredValuesFetchError:E,retryPreferredValuesFetch:y}=(0,ey.xP)(s),C=n.useMemo(()=>E?n.createElement(eC.u,{onRetry:y,recordingKey:"componentPropAssignment"}):void 0,[E,y]),b=n.useCallback(e=>{g((0,V.uP)({item:e,alwaysFetch:c,targetUpsertScene:c?o.ZiZ.PLAYGROUND_SCENE:o.ZiZ.ACTIVE_SCENE,callback:t=>{O.l7.user("set-instance-prop-assignment",()=>o.glU.setInstanceComponentPropAssignment(a,s.explicitDefID,t,e.type===$.PW.STATE_GROUP?(0,v.ui)(e,t,f):"",i,0===_.length?o.VQu.NOT_APPLICABLE:_.includes(e)?o.VQu.YES:o.VQu.NO))}})),H.dH({nodeIDs:[],defID:""})},[g,i,a,f,c,_,s]),S=(0,I.flatten)(a.map(e=>o.glU.getInstanceSublayersControlledByDirectPropAssignment(e,s.explicitDefID).map(e=>M.v.toGuid(e)))),{modalWidth:T}=(0,U.TQ)(U.Zl.INSTANCE_SWAP_PICKER);return n.createElement("div",{className:eb(l)},n.createElement("div",{className:eS(l)},n.createElement(Q.x,{fill:l===v.O2.UNBOUNDED,pickerID:`instance-swap-prop-assignment-picker-${a.join("-")}.${s.explicitDefID}`,pickerWidth:T,shouldPerformSwapOnClick:!1,instanceSwapNode:e,title:(0,h.t)("design_systems.component_properties.choose_instance"),disableToggle:t,preferredItems:_,preferredValuesErrorComponent:C,onSwapCallback:b,sceneGraph:d,instanceSwapPickerInitialHeight:p,initialPosition:u,entrypointForLogging:m})),n.createElement(J.h_,{instanceAndSublayerGUIDs:S,showAllInstanceOptions:!1}))}function ex({typedPropDefs:e,guids:t,assignmentValues:a,forBubbledProps:r,sceneGraph:s,inPlayground:l,containerWidth:i,viewOnly:o,hideIcon:c,instanceSwapPickerInitialHeight:d,instanceSwapPickerInitialPosition:p,recordingKey:u,entrypointForInstanceSwapPicker:m}){return n.createElement(k.q,{listItems:e,updateSelection:void 0,isDragDisabled:!0,renderListItem:(e,u)=>n.createElement(ev,{key:u,typedPropDef:e,guids:t,index:u,value:a[e.explicitDefID],containerWidth:i,viewOnly:o,hideIcon:c,forBubbledProps:r,sceneGraph:s,inPlayground:l,instanceSwapPickerInitialHeight:d,instanceSwapPickerInitialPosition:p,entrypointForInstanceSwapPicker:m}),recordingKey:u})}var eA=a(268537),eL=a(356390),eO=a(233890),eM=a(109388),eD=a(75395),eR=a(221768),eF=a(536825),eU=a(498481),eG=a(31524),eK=a(91408),eB=a(163023),eV=a(738269),eH=a(293017),ez=a(226055),eY=a(237929),ej=a(234945),eW=a(420186),e$=a(224690);function eX({children:e,inputRef:t,canEdit:a}){return a?n.createElement("div",{className:"false_input_containing_svg--falseInput--cKug0 raw_components--borderFocusWithin--BaipZ",onClick:()=>t.current?.focus(),role:"textbox",tabIndex:0},e):n.createElement("div",{className:G.cx.hFull.wFull.relative.$},e)}var eZ=a(731262),eq=a(189685),eJ=a(837746);let eQ="component_prop_def_row--input--Heq8r props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V",e1="component_prop_def_row--componentPropDefName--bUVTI ellipsis--ellipsis--Tjyfa sf_pro--uiFontWithSFProFallback--m-p9V",e0="component_prop_def_row--componentPropVariantValues--mTqSx",e2="component_prop_def_row--selectedRowIcon--3uhSg",e3="component_prop_def_row--rowAction--rAfBQ",e4="component_prop_def_row--selectedRowAction--P8TAv component_prop_def_row--rowAction--rAfBQ";var e8=a(531800),e5=a(999918),e7=a(87171),e6=a(349307);let e9="typed-prop-def-del-dropdown",te="variant-prop-def-del-dropdown",tt=e=>{e.stopPropagation()},ta=e=>{e.stopPropagation(),e.preventDefault()};function tn(e){let{index:t,guids:a,componentPropDef:s,isSelected:l,isDragging:c,singletonRow:d,onPropertyMouseDown:u,onPropertyMouseMove:m,onPropertyMouseUp:h,selectRow:g,onKeyDown:f,recordingKey:_}=e,y=(0,ez.GS)(),C=n.useMemo(e$.Pe,[]),{pickerShown:b,selectedComponentPropDefId:S,componentWithPropDefSelected:T,allStates:w,propertySortOrder:k}=(0,eu.R)(e=>{let t=(0,ej.qd)(e),a=1===t.length?C(e,t[0]):[];return{pickerShown:e.pickerShown,selectedComponentPropDefId:e.selectedComponentPropDefId,componentWithPropDefSelected:s.kind===i.u.TYPED&&a.some(e=>e.explicitDefID===s.explicitDefID),allStates:(0,E.ow)(e)??[],propertySortOrder:(0,E.OC)(e)??[]}}),I=(0,r.d4)(eg.Nw),N=(0,r.wA)(),P=n.useCallback(e=>Y(e.currentTarget.value),[]),{inputRef:x,inputProps:{onChange:A,onFocus:L,onMouseLeave:M,onMouseUp:U}}=(0,D.X)({onChange:P}),[G,V]=n.useState(!1),[z,Y]=n.useState(null),j=n.useRef(null),W=n.useRef(null),$=n.useRef(null),X=s.kind===i.u.TYPED?s.explicitDefID:void 0,Z=s.kind===i.u.TYPED?s.type:void 0,q=s.kind===i.u.VARIANT?s.values:void 0,J=S&&S===X,Q=null!==z,ee=n.useMemo(()=>b?.id===eq.aR&&(s.kind===i.u.TYPED?b.data.defID===X:b.data.name===s.name),[s,b,X]);n.useEffect(()=>{Q&&x.current?.select()},[Q,x]);let et=()=>{z?(Y(null),s.kind===i.u.TYPED?O.l7.user("edit-prop-def-name",()=>o.glU.editComponentPropDefName(s.explicitDefID,z)):s.kind===i.u.VARIANT&&O.l7.user("edit-variant-prop-name",()=>(0,eZ.q1)(s.name,z,w,k))):y&&Y(s.name)},ea=n.useCallback(()=>{N(K.n0({propDefId:null})),N((0,B.vq)());let e=eM.findDOMNode(y?W.current:j.current),t=e?(0,eW.cn)(e,v.wh):{};N(eH.u1({id:eq.aR,initialX:t?.x,initialY:t?.y,data:s.kind===i.u.TYPED?{defID:X}:{name:s.name}}))},[N,y,s,X]);n.useEffect(()=>{J&&T&&!ee&&ea()},[J,T,ee,ea]);let en=n.useCallback(e=>{b?.id!==eq.aR||ee||N(eH.XE()),h&&h(e)},[N,ee,b,h]),er=n.useCallback(()=>{ee?N(eH.XE()):(ea(),g())},[N,ee,g,ea]),es=n.useCallback(()=>{V(!0),X&&H.dH({nodeIDs:a,defID:X})},[a,X]),el=n.useCallback(()=>{V(!1),H.dH({nodeIDs:[],defID:""})},[]),ei=n.useCallback(e=>{if(s.kind===i.u.VARIANT&&d){N(eV.oB());return}b?.id===eq.aR&&N(eH.XE()),N(eV.j7({type:s.kind===i.u.TYPED?e9:te,data:{position:{top:e.clientY,left:Math.min(e.clientX,window.innerWidth-(0,eK.hG)(eJ.uj0)/2)}}}))},[N,s.kind,d,b]),eo=(0,p.rf)(_,"contextmenu",e=>{ei(e)}),ec=(0,p.rf)(_,"mouseenter",e=>{es()}),ed=(0,p.rf)(_,"mouseleave",e=>{el()}),ep=(0,p.rf)(_,"mouseup",e=>{en(e)}),em=(0,p.rf)(_,"mousedown",e=>{Q&&Y(null),ee&&N(eH.XE()),u&&u(e)}),eh=(0,p.rf)(_,"mousemove",e=>{m&&m(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),ef=p.rf(_,"dblclick",()=>{g(),Y(s.name)}),e_=p.rf(_,"click",()=>{g(),Y(s.name)}),eE=$.current,eC=!!eE&&eE.offsetWidth<eE.scrollWidth,{preferredValues:ev}=(0,ey.xP)(s),eb=(0,ey.wS)(ev).size>0,eS=!Q&&(s.error!==o.uXg.NONE||eb),eT=!Q&&(G||ee),ew=y?ts:tr;return(0,R.kc)().ds_variable_props_number_type||Z!==o.J0O.NUMBER?n.createElement(ew,{isSelected:l,singletonRow:d,isDragging:c,handlePropertyMouseDown:em,handlePropertyMouseMove:eh,handlePropertyMouseUp:ep,handlePropertyMouseEnter:ec,handlePropertyMouseLeave:ed,handleContextMenu:eo,onDoubleClick:y?void 0:ef,onClick:y?e_:void 0,onKeyDown:f,rowRef:j,ui3RowRef:W,typedPropType:Z,isEditingDefName:Q,defNameInputRef:x,componentPropDef:s,defNameInputOnMouseUp:U,defNameInputOnMouseLeave:M,defNameInputOnFocus:L,onInputKeyDown:e=>{e.stopPropagation(),(e.keyCode===F.Uz.ESCAPE||e.keyCode===F.Uz.ENTER)&&et()},defNameInputOnChange:A,submitDefName:et,defNameRef:$,index:t,isDefNameTruncated:eC,variantPropValues:q,shouldShowEditIcons:eT,editComponentPropPickerShown:ee,toggleEditPropPicker:er,onDeleteProp:()=>{s.kind===i.u.TYPED?O.l7.user("delete-prop-def",()=>o.glU.deleteComponentPropDefs([s.explicitDefID])):I&&O.l7.user("delete-variant-prop",()=>(0,eZ.bk)([s.name],w,k,I))},shouldShowErrorIcon:eS,preferredValuesUnpublishedError:eb}):n.createElement(n.Fragment,null)}function tr({isSelected:e,singletonRow:t,isDragging:a,handlePropertyMouseDown:r,handlePropertyMouseMove:s,handlePropertyMouseUp:l,handlePropertyMouseEnter:i,handlePropertyMouseLeave:c,handleContextMenu:d,onDoubleClick:m,onKeyDown:g,rowRef:f,typedPropType:_,isEditingDefName:E,defNameInputRef:y,componentPropDef:C,defNameInputOnMouseUp:b,defNameInputOnMouseLeave:S,defNameInputOnFocus:T,onInputKeyDown:w,defNameInputOnChange:I,submitDefName:N,defNameRef:P,index:x,isDefNameTruncated:A,variantPropValues:L,shouldShowEditIcons:O,editComponentPropPickerShown:M,toggleEditPropPicker:D,onDeleteProp:R,shouldShowErrorIcon:F,preferredValuesUnpublishedError:U}){return n.createElement(n.Fragment,null,n.createElement(k.e,{selected:e,singletonRow:t,dragging:a,hideGrabber:!1,onMouseDown:r,onMouseMove:s,onMouseUp:l,onMouseEnter:i,onMouseLeave:c,onContextMenu:d,onDoubleClick:m,onKeyDown:g,tabIndex:0,ref:f},n.createElement("div",{className:"component_prop_def_row--componentPropRow--qb8-e"},n.createElement(eB.B,{svg:_?(0,v.qe)(_):e8.A,className:e?"component_prop_def_row--componentPropIconSelected--uZsSM component_prop_def_row--componentPropIcon--OrfM-":"component_prop_def_row--componentPropIcon--OrfM-","data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,v.xb)(_??o.J0O.VARIANT)})}),E?n.createElement(u.u2,{forwardedRef:y,className:eQ,defaultValue:C.name,onMouseUp:b,onMouseLeave:S,onFocus:T,onMouseDown:e=>tt(e),onKeyDown:w,onChange:I,onBlur:N,onContextMenu:ta,recordingKey:"componentPropRowDefNameInput"}):n.createElement(n.Fragment,null,n.createElement(u.D8,{forwardedRef:P,className:_?e1:"component_prop_def_row--componentPropDefVariantName--vZEqv component_prop_def_row--componentPropDefName--bUVTI ellipsis--ellipsis--Tjyfa sf_pro--uiFontWithSFProFallback--m-p9V",recordingKey:p.Pt("componentPropDefName",x),"data-tooltip-type":X.Ib.TEXT,"data-tooltip":A?C.name:null},C.name),L&&n.createElement("div",{className:e0},"\u30FB",L.join((0,h.t)("design_systems.component_properties.variant_property_values_delimiter")))),O&&n.createElement(n.Fragment,null,n.createElement(et.YW,{svg:e5.A,recordingKey:"componentPropEditButton",className:e&&!M?e2:void 0,onClick:D,onDoubleClick:tt,onMouseDown:tt,onContextMenu:ta,selected:M,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.component_properties.edit_property")}),n.createElement(et.K0,{svg:e6.A,recordingKey:"componentPropDeleteButton",className:e?e2:void 0,onClick:R,onDoubleClick:tt,onMouseDown:tt,onContextMenu:ta,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.component_properties.delete_property",{numSelected:1})})),F&&n.createElement(eB.B,{svg:e7.A,className:"component_prop_def_row--componentPropIconError--BikGf","data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,v.iz)(C.error,U),"data-tooltip-offset-y":1,"data-tooltip-timeout-delay":50}))),M&&n.createElement(eq.pf,{componentPropDef:C}))}function ts({isSelected:e,singletonRow:t,isDragging:a,handlePropertyMouseDown:r,handlePropertyMouseMove:s,handlePropertyMouseUp:l,handlePropertyMouseEnter:c,handlePropertyMouseLeave:m,handleContextMenu:f,onClick:_,onKeyDown:E,ui3RowRef:y,typedPropType:b,isEditingDefName:S,defNameInputRef:w,componentPropDef:k,defNameInputOnMouseUp:I,defNameInputOnMouseLeave:N,defNameInputOnFocus:P,onInputKeyDown:x,defNameInputOnChange:A,submitDefName:L,defNameRef:O,index:M,isDefNameTruncated:D,variantPropValues:R,shouldShowEditIcons:F,editComponentPropPickerShown:U,toggleEditPropPicker:K,onDeleteProp:B,shouldShowErrorIcon:V,preferredValuesUnpublishedError:H}){let Y=(0,g.eY)(),j=[],W=S||U,$=e&&!W&&a,{isDraggingSomePropDef:Z}=T(),q=!$&&Z;(F&&!q||$)&&j.push(n.createElement(et.YW,{recordingKey:"componentPropEditButton",className:e&&!W?e4:e3,onClick:K,onDoubleClick:tt,onMouseDown:tt,onContextMenu:ta,selected:U,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.component_properties.edit_property")},n.createElement(eR.A,null)),n.createElement(et.K0,{recordingKey:"componentPropDeleteButton",className:e&&!W?e4:e3,onClick:B,onDoubleClick:tt,onMouseDown:tt,onContextMenu:ta,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.component_properties.delete_property",{numSelected:1})},n.createElement(eF.O,null))),V&&j.push(n.createElement("span",{"data-testid":`component-prop-error-icon-${M}`,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,v.iz)(k.error,H),"data-tooltip-offset-y":1,"data-tooltip-timeout-delay":50},n.createElement(eU.r,null))),j.length||j.push(n.createElement("div",{className:G.cx.w24.$}));let J=(0,n.useMemo)(()=>{if(k.kind===i.u.VARIANT){if(R)return R.join((0,h.t)("design_systems.component_properties.variant_property_values_delimiter"))}else{if(k.varValue.type===o.Z_n.BOOLEAN)return k.varValue.value?(0,h.t)("design_systems.component_properties.boolean_true"):(0,h.t)("design_systems.component_properties.boolean_false");if(k.varValue.type!==o.Z_n.SYMBOL_ID)return k.defaultValue;let e=(0,v.wd)([k.defaultValue],Y);if(e)return(0,z.gl)(e)?(0,h.t)("design_systems.instance_swap_picker.mixed"):(0,eY.kH)(e.name)}},[k,Y,R]),Q=J||b===o.J0O.NUMBER&&0===J;return n.createElement(n.Fragment,null,n.createElement(C.Y9,{selected:$,singletonRow:t,dragging:a,hideGrabber:!1,onMouseDown:r,onMouseMove:s,onMouseUp:l,onMouseEnter:c,onMouseLeave:m,onContextMenu:f,onKeyDown:E,tabIndex:0,ref:y,containerClassName:d()("component_prop_def_row--ui3ComponentPropRow--Sld-J",{"component_prop_def_row--isDraggingRow--p9Tzv":$,"component_prop_def_row--isDraggingOtherRow--WdU8i":q})},n.createElement(C.oO,{onMouseDown:tt,input:S?n.createElement(eX,{inputRef:w,canEdit:!0},b?(0,v.zn)(b):n.createElement(eG.y,null),n.createElement(u.u2,{forwardedRef:w,className:eQ,defaultValue:k.name,onMouseUp:I,onMouseLeave:N,onFocus:P,onMouseDown:e=>tt(e),onKeyDown:x,onChange:A,onBlur:L,onContextMenu:ta,recordingKey:"componentPropRowDefNameInput"})):n.createElement(eD.E,{onClick:_,className:d()("component_prop_def_row--ui3ComponentPropDefNameContainer--fBQXq component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",{"component_prop_def_row--ui3ComponentPropDefNameContainerDragging--VELue":$})},n.createElement("span",{"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,v.xb)(b??o.J0O.VARIANT)})},b?(0,v.zn)(b):n.createElement(eG.y,null)),n.createElement("div",{className:"component_prop_def_row--ui3ComponentPropDefNameAndValue--2w-8p"},n.createElement(u.D8,{forwardedRef:O,className:e1,recordingKey:p.Pt("componentPropDefName",M),"data-tooltip-type":X.Ib.TEXT,"data-tooltip":D?k.name:null},k.name),Q&&n.createElement("div",{className:e0},"\u30FB",J)))},...j)),U&&n.createElement(eq.pf,{componentPropDef:k}))}let tl=eA.ms,ti=eA.c$;function to({defs:e,guids:t,selectedIndices:a,onSelectIndices:s,recordingKey:l}){let i=(0,r.d4)(e=>e.dropdownShown),c=i?.type===e9,d=e=>(e?.key==="Backspace"||e?.key==="Delete")&&(g(),!0),u=p.v_(l,"keydown",e=>{d(e)}),m=p.fo(`${l}.fullscreen`,"keydown",e=>{d(e.event)&&e.accept()}),g=n.useCallback(()=>{if(!a.length)return;let t=a.map(t=>e[t].explicitDefID);O.l7.user("delete-prop-defs",()=>o.glU.deleteComponentPropDefs(t))},[e,a]),f=n.useCallback((e,t,a)=>{let n=t?t.explicitDefID:"",r=a?a.explicitDefID:"";O.l7.user("reorder-prop-defs",()=>e.forEach(e=>{o.glU.insertPropDefBetween(e.explicitDefID,n,r),n=e.explicitDefID})),eL.Y5.commit()},[]),_=(0,y.R)(),E=n.useRef(null);n.useEffect(()=>{a.length?E.current?.focus():E.current?.blur()},[a]);let{setIsDraggingSomePropDef:C}=T();return n.createElement(eO.vL,{handleKeyDown:m,ref:E,name:"typed-props-list",focusOnMount:!0},n.createElement(k.q,{listItems:e,selectedIndices:a,updateSelection:s,onInsertItemsBetweenValues:f,onDragStart:()=>C(!0),onDragEnd:()=>C(!1),renderListItem:(a,r,i,o,c,d,m)=>n.createElement(tn,{key:r,index:r,guids:t,componentPropDef:a,isSelected:i,isDragging:o,selectRow:()=>s([r]),singletonRow:1===e.length,onPropertyMouseDown:c,onPropertyMouseMove:d,onPropertyMouseUp:m,onKeyDown:u,recordingKey:p.Pt(l,"row",r)}),recordingKey:l}),c&&(!!a.length||_)&&n.createElement(tl,{style:i.data.position,positionFixed:!0},n.createElement(ti,{onClick:g,recordingKey:"deleteProp"},(0,h.tx)("design_systems.component_properties.delete_property",{numSelected:a.length}))))}var tc=a(44948),td=a(236478),tp=a(496470),tu=a(83695),tm=a(538697),th=a(830002),tg=a(776621),tf=a(761334),t_=a(510879),tE=a(759209),ty=a(424148);let tC={format:e=>e||eZ.xJ};function tv(e){let{guids:t,index:a,variantPropDef:s,stateGroupGUID:l,allStateVariantProps:i,backingStateVariantProps:c,statePropertyValues:d,forBubbledProps:u,containerWidth:m,viewOnly:g,hideIcon:f,selectedPropertyValueHistory:_,sceneGraph:E,updateHistory:b}=e,S=(0,r.wA)(),T=(0,r.d4)(e=>e.instanceSwapPickerShown),w=(0,W.J2)(o.Ez5.editorState().inPlaygroundMode),k=(0,th.D5)(s.name,s.values),I=(0,tc.k9)(()=>(0,t_.D)(t,E),[t,E]),N=n.useRef(null),x=n.useRef(null),A=(0,y.R)(),{isBound:M,setBinding:D,boundVariableId:F,onExpressionSubmitted:U,variableConsumptionMapValue:K}=function(e){let t=(0,r.wA)(),{variableConsumptionMap:a,setVariableConsumptionMap:s}=(0,es.R1)(),{consumedVariable:l,updateVariableConsumption:i,clearVariableConsumption:c}=(0,es.u3)(["VARIANT_PROPERTIES"]),d=(0,n.useCallback)(a=>{let n={},r=l&&(0,z.hS)(l)&&l.type===o.Z_n.EXPRESSION?l.value.expressionArguments[0]:{type:o.Z_n.MAP,resolvedType:o.rXF.MAP,value:{}};a?t((0,V.Yi)({item:a,callback:t=>{a.resolvedType===o.rXF.STRING?r.value[e]={type:o.Z_n.ALIAS,resolvedType:o.rXF.STRING,value:t}:(a.resolvedType===o.rXF.BOOLEAN||a.resolvedType===o.rXF.FLOAT)&&(r.value[e]={type:o.Z_n.EXPRESSION,resolvedType:o.rXF.STRING,value:{expressionFunction:o.JTp.STRINGIFY,expressionArguments:[(0,es.y$)(a.resolvedType,t)]}}),n.VARIANT_PROPERTIES={type:o.Z_n.EXPRESSION,resolvedType:o.rXF.SYMBOL_ID,value:{expressionArguments:[r],expressionFunction:o.JTp.RESOLVE_VARIANT}},s(n),(0,tf.ty)(t,a.resolvedType)}})):(delete r.value[e],0===Object.keys(r.value).length?n.VARIANT_PROPERTIES=null:n.VARIANT_PROPERTIES={type:o.Z_n.EXPRESSION,resolvedType:o.rXF.SYMBOL_ID,value:{expressionArguments:[r],expressionFunction:o.JTp.RESOLVE_VARIANT}},s(n))},[l,s,t,e]),p=(0,n.useCallback)(t=>{let n=a.VARIANT_PROPERTIES&&!a.VARIANT_PROPERTIES.isMixed&&a.VARIANT_PROPERTIES.type===o.Z_n.EXPRESSION&&a.VARIANT_PROPERTIES.value.expressionArguments[0].type===o.Z_n.MAP?a.VARIANT_PROPERTIES.value.expressionArguments[0]:{type:o.Z_n.MAP,resolvedType:o.rXF.MAP,value:{}};return t&&(0,z.hS)(t)?((t.resolvedType===o.rXF.STRING||t.resolvedType===o.rXF.BOOLEAN||t.resolvedType===o.rXF.FLOAT)&&(n.value[e]={type:o.Z_n.EXPRESSION,resolvedType:o.rXF.STRING,value:{expressionFunction:o.JTp.STRINGIFY,expressionArguments:[t.type===o.Z_n.ALIAS?(0,es.y$)(t.resolvedType,t.value):t]}}),a.VARIANT_PROPERTIES={type:o.Z_n.EXPRESSION,resolvedType:o.rXF.SYMBOL_ID,value:{expressionArguments:[n],expressionFunction:o.JTp.RESOLVE_VARIANT}},s(a),!0):(delete n.value[e],0===Object.keys(n.value).length?a.VARIANT_PROPERTIES=null:a.VARIANT_PROPERTIES={type:o.Z_n.EXPRESSION,resolvedType:o.rXF.SYMBOL_ID,value:{expressionArguments:[n],expressionFunction:o.JTp.RESOLVE_VARIANT}},s(a),!1)},[e,s,a]),u=(0,n.useMemo)(()=>{if(l&&(0,z.hS)(l))try{let t=l.value.expressionArguments[0].value[e];if(!t)return null;if(t.type===o.Z_n.EXPRESSION&&t.value.expressionFunction===o.JTp.STRINGIFY&&(t=t.value.expressionArguments[0]),t.type===o.Z_n.ALIAS)return t.value}catch(e){(0,tg.x1)("variables","error checking variant binding map",{message:e.message},{reportAsSentryError:!0})}return null},[l,e]);return{isBound:!!u,setBinding:d,clearBinding:c,boundVariableId:u,onExpressionSubmitted:(0,R.kc)().prototype_expressions_nodefields?p:void 0,variableConsumptionMapValue:a.VARIANT_PROPERTIES}}(e.variantPropDef.name),[H,j]=(0,er.JV)(["VARIANT_PROPERTIES"],U&&"TOGGLE"===k.type?o.rXF.BOOLEAN:o.rXF.STRING,D,{requestedTypes:"TOGGLE"===k.type?[o.rXF.BOOLEAN]:[o.rXF.STRING,o.rXF.FLOAT],metadata:e.variantPropDef.name},U);function $(e,t){let a=(0,th.Tj)(_,e,t);if(t===(0,h.t)("proto.assign_variant")){j(x.current);return}let n={};for(let r of c){let{propertyValues:s}=r,l={...s,[e]:t},o=(0,eZ.Jj)(l,a,i);null!==o&&(n[r.guid]=o)}let r={};for(let e of Object.keys(n)){let t=n[e].guid;r[t]=(r[t]||[]).concat(I[e])}if(w){o.glU.replaceSymbolBackingInstancesInPlayground(r),b(a),T?.isShown&&S((0,B.vq)());return}0!==Object.keys(r).length&&((0,eZ.zb)("Swapping A Variant",l??"",{source:u?"bubbled_sidebar":"sidebar"}),O.l7.user("change-variant-prop",()=>(0,tp.Aw)(r))),b(a)}let Z=d.hasOwnProperty(k.property)?d[k.property]:void 0,q=s.values;function J(){D(void 0)}let Q=(0,Y.u)(F??void 0),ee=(0,es.Px)(),ea=n.useMemo(()=>o.CWU.getVariableSetKeyForPublish(Q?.variableSetId??"")??"",[Q?.variableSetId]),ei=ea in ee?ee[(0,L.yG)(ea)]:void 0,ec=n.useMemo(()=>ei?{[(0,L.yG)(ea)]:ei}:void 0,[ei,ea]),eu=(0,Y.BQ)(F??void 0,ec),{assignmentValue:em,iconButton:eh}=(()=>{if(M&&Q&&(0,P.isNotNullish)(eu)||(0,R.kc)().prototype_expressions_nodefields&&U&&K){let t;return(0,P.isNotNullish)(eu)&&"MIXED"!==eu&&(q.some(e=>e.toLowerCase()===eu.value.toString().toLowerCase())?Z?.toString().toLowerCase()!==eu.value.toString().toLowerCase()&&(t=(0,h.t)("design_systems.component_properties.invalid_variant_binding_state")):t=(0,h.t)("design_systems.component_properties.invalid_variant_binding")),{assignmentValue:U&&K?n.createElement(tu.y3,{targetVariableData:K.isMixed?void 0:K,onClick:()=>{j(x.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:K.isMixed,variantProperty:e.variantPropDef.name}):Q&&n.createElement("div",{className:e_.K8},n.createElement(eo.P,{value:(0,z.gl)(Z)?(0,h.t)("design_systems.component_properties.mixed"):Q.name,variableId:(0,z.gl)(Z)?void 0:F??void 0,isStandalone:!0,invalid:void 0!==t,thumbnailValue:"MIXED"===eu||t?void 0:eu,tooltipOverride:t,isDeleted:(0,el.eF)(Q),classNameOverride:A?G.cx.wFull.$:void 0,varaiablePillContainerClassName:A?e_.Ro:void 0,fullWidth:A})),iconButton:A?n.createElement("span",{className:e_.c6},n.createElement(ed.K,{onClick:J,"aria-label":(0,h.t)("design_systems.component_properties.detach_property"),recordingKey:p.Pt(e.recordingKey,"detachVariantProp"),htmlAttributes:{"data-tooltip":(0,h.t)("design_systems.component_properties.detach_property"),"data-tooltip-type":X.Ib.TEXT}},n.createElement(ep.U,null))):n.createElement(et.K0,{className:e_.__,svg:ty.A,onClick:J,"data-tooltip":(0,h.t)("design_systems.component_properties.detach_property"),"data-tooltip-type":X.Ib.TEXT,recordingKey:p.Pt(e.recordingKey,"detachVariantProp")})}}{let a=Z?"TOGGLE"===k.type?n.createElement(tb,{entry:k,selectedOption:Z,viewOnly:g,recordingKey:e.recordingKey,onSelectProperty:$}):n.createElement(tS,{containerWidth:m,allPropertyOptions:q,entry:k,guids:t,onSelectProperty:$,recordingKey:e.recordingKey,selectedOption:Z,viewOnly:g}):null,r=n.createElement(ef.K,{isPickerShowing:H,onClick:()=>$(k.property,(0,h.t)("proto.assign_variant")),recordingKey:p.Pt(e.recordingKey,"assignVariantProp"),tooltip:(0,R.kc)().ds_variable_props_unified_ui?(0,h.t)("proto.apply_variant_unified"):(0,h.t)("proto.assign_variant")});return{assignmentValue:a,iconButton:w?void 0:r}}})(),eg=n.createElement("div",{className:e_.zJ},n.createElement("p",{ref:N,className:e_.BY,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":N.current&&N.current.offsetWidth<N.current.scrollWidth?k.property:null},k.label));return A?f?n.createElement(en.g,{key:`componentPropertyRow.${a}`,ref:x,leftLabel:null,leftInput:eg,rightLabel:null,rightInput:em}):n.createElement(C.fn,{appendedClassName:e_.FG,recordingKey:`componentPropertyRow.${a}`,key:`componentPropertyRow.${a}`,ref:x,leftLabel:null,leftInput:eg,rightLabel:null,rightInput:em,icon:eh}):n.createElement(et.fI,{className:m===v.O2.WIDE?e_.oB:m===v.O2.UNBOUNDED?e_.PB:e_.RZ,recordingKey:`componentPropertyRow.${a}`,key:`componentPropertyRow.${a}`,forwardedRef:x},eg,n.createElement("div",{className:e_.Zm},em,eh))}function tb({entry:e,selectedOption:t,onSelectProperty:a,viewOnly:r,recordingKey:s}){let l=(0,y.R)(),i=t=>{a(e.property,e.toggleTokenPair[t?0:1])};return l?n.createElement(x.d,{mixed:(0,z.gl)(t),checked:t===e.toggleTokenPair[0],label:n.createElement(A.h,null,e.label),onChange:i,disabled:r,recordingKey:p.Pt(s,`toggle-${e.property}`)}):n.createElement(ea.l,{toggleClassName:e_.E3,on:(0,z.hS)(t)?t===e.toggleTokenPair[0]:z.oV,onChange:i,disabled:r,recordingKey:p.Pt(s,`toggle-${e.property}`),forwardEventsToFullscreen:!0})}function tS({entry:e,selectedOption:t,onSelectProperty:a,viewOnly:s,recordingKey:l,containerWidth:i,allPropertyOptions:o,guids:c}){let u=(0,r.wA)(),m=(0,r.d4)(e=>e.dropdownShown),g=(0,y.R)();return n.createElement("div",{className:d()(e_.tP,{[e_.g1]:i===v.O2.WIDE,[e_.aO]:s})},s?n.createElement("p",{className:e_.Me},(0,z.gl)(t)?(0,h.t)("design_systems.component_properties.mixed"):t):n.createElement(tm.l6,{className:tE.ZE,fill:i===v.O2.UNBOUNDED,id:`states-property-select-${c.join("-")}-${e.property}`,inputClassName:g?e_.p3:void 0,property:t,formatter:tC,onChange:t=>{a(e.property,t)},dispatch:u,dropdownShown:m,dropdownWidth:200,dropdownAlignment:"right",onMouseDown:()=>u(td.r),recordingKey:p.Pt(l,`select-${e.property}`)},[...o].map(t=>n.createElement(tm.c$,{key:t,value:t,recordingKey:p.Pt(l,`select-${e.property}-option-${t}`)}))))}function tT({variantPropDefs:e,guids:t,allStateVariantProps:a,backingStateVariantProps:r,statePropertyValues:s,stateGroupGUID:l,forBubbledProps:i,containerWidth:o,viewOnly:c,hideIcon:d,sceneGraph:u,recordingKey:m}){let[h,g]=n.useState([]);return n.useEffect(()=>{g([])},[t]),n.createElement(k.q,{listItems:e,updateSelection:void 0,isDragDisabled:!0,renderListItem:(e,f)=>n.createElement(tv,{variantPropDef:e,guids:t,index:f,stateGroupGUID:l,allStateVariantProps:a,backingStateVariantProps:r,statePropertyValues:s,selectedPropertyValueHistory:h,updateHistory:g,containerWidth:o,viewOnly:c,hideIcon:d,forBubbledProps:i,sceneGraph:u,recordingKey:p.Pt(m,"row",t.join("-"),f)}),recordingKey:m})}var tw=a(326331),tk=a(46481),tI=a(952675);let tN={__addNewValue__:!0};class tP extends tI.a3{}class tx extends tm.c${}let tA=e=>{let t={};for(let a of e)if(a.stateInfo.propertyValues)for(let[e,n]of Object.entries(a.stateInfo.propertyValues))t[e]=t[e]||{},t[e][n]=(t[e][n]||0)+1;return t};function tL({OriginalComponent:e,...t}){return n.createElement(e,{...t,className:"variant_prop_authoring_row--ui3ComboBoxInput--WyPgd ellipsis--ellipsis--Tjyfa"})}function tO({variantPropDef:e,recordingKey:t}){var a;let{dropdownShown:s,allStates:l,propertySortOrder:i,propertyToFocusFullscreen:o,selectedStates:c,selectedStatesPropertyValues:d}=(0,eu.R)(e=>({dropdownShown:e.dropdownShown,allStates:(0,E.ow)(e),propertySortOrder:(0,E.OC)(e),propertyToFocusFullscreen:e.mirror.appModel.statePropertyToFocus,selectedStates:(0,E._f)(e),selectedStatesPropertyValues:(0,E.D1)(e)})),m=(0,r.wA)(),g=(0,y.R)(),f=n.useRef(null),v=n.useRef(null),[b,S]=n.useState(null),T=null!=b,w=()=>{b&&(S(null),O.l7.user("rename-variant-property",()=>(0,eZ.q1)(D,b,l??[],i??[])))},k=n.useRef({});Object.keys(d??{}).forEach(e=>{k.current[e]=k.current[e]||n.createRef()});let[I,N]=n.useState(""),P=o||I;function x(e,t){""!==(t=t.trim())&&c&&(O.l7.user("rename-variant-prop",()=>{for(let a of c){let n=a.stateInfo.propertyValues||{};H.i(a.symbol.node_id,(0,eZ.zh)({...n,[e]:t},i||[]))}}),eL.Y5.commit())}n.useEffect(()=>{!s&&P&&(k.current?.[P]?.current&&(k.current[P].current.select(),eL.Y5.updateAppModel({statePropertyToFocus:""})),N(""))},[P,s]),n.useEffect(()=>{T&&f.current&&(f.current.focus(),f.current.select())},[T,f]);let A=n.useMemo(()=>tA(l??[]),[l]),L=n.useMemo(()=>tA(c??[]),[c]),M=e.values;if(!d)return null;let D=e.name,R=!d[D],U=!!v.current&&v.current.offsetWidth<v.current.scrollWidth,G=()=>S(D),K=T?n.createElement(u.u2,{forwardedRef:f,className:"variant_prop_authoring_row--selectPropertyNameInput--T02iO variant_prop_authoring_row--selectPropertyName--g8Tfp raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",defaultValue:D,onKeyDown:e=>{e.stopPropagation(),(e.keyCode===F.Uz.ESCAPE||e.keyCode===F.Uz.ENTER)&&(w(),e.currentTarget.blur())},onChange:e=>S(e.currentTarget.value),onFocus:()=>{f.current&&(S(D),f.current.select())},onBlur:w,onContextMenu:e=>{e.stopPropagation(),e.preventDefault()},recordingKey:p.Pt(t,`componentPropRowDefNameInput-${D}`)}):n.createElement(u.D8,{forwardedRef:v,onDoubleClick:g?void 0:G,onClick:g?G:void 0,className:"variant_prop_authoring_row--selectPropertyName--g8Tfp","data-tooltip-type":X.Ib.TEXT,"data-tooltip":U?D:null,recordingKey:p.Pt(t,`componentPropRowDefName-${D}`)},g?n.createElement("div",{className:"variant_prop_authoring_row--ui3SelectPropertyNameInner--eJnxr ellipsis--ellipsis--Tjyfa"},D):D),B=n.createElement(tI.ow,{value:{inputComponent:g?tL:void 0}},n.createElement(tP,{id:`states-property-select-${D}`,className:R?"variant_prop_authoring_row--missingPropertyComboBox--9wy-0":"variant_prop_authoring_row--propertyComboBox--7f6TZ",dropdownClassName:g?void 0:"variant_prop_authoring_row--propertyComboBoxDropdown--WH-pM",formatter:(a=Object.keys(L[D]||{}).some(e=>L[D][e]===A[D][e]),{format:e=>e!==tN?e||eZ.xJ:a?(0,h.t)("design_systems.component_properties.rename_prompt"):(0,h.t)("design_systems.component_properties.add_new_prompt"),parse:e=>e,autocomplete:e=>{for(let t of M.sort((e,t)=>e.length-t.length))if(t&&t.startsWith(e))return t;return null}}),property:d[D]||"",icon:g?n.createElement(tw.r,null):void 0,onChange:e=>{O.l7.user("add-variant-property",()=>{e!==tN?x(D,e):(x(D,(0,h.t)("design_systems.component_properties.new_value")),N(D))})},dispatch:m,dropdownShown:s,recordingKey:p.Pt(t,`propertyComboBox-${D}`),forwardedRef:k.current[D]},M.map(e=>n.createElement(tx,{key:e,value:e,recordingKey:p.Pt(t,`value-${e}`)})),n.createElement(tm.sK,null),n.createElement(tx,{key:"add-new-value",value:tN,recordingKey:p.Pt(t,"value-AddNewValue")}))),V=R?n.createElement("span",{className:"variant_prop_authoring_row--missingPropertyNoticeIcon--t7xa0","data-tooltip":(0,h.t)("design_systems.component_properties.missing_property"),"data-tooltip-type":X.Ib.TEXT,"data-tooltip-show-left":!0},n.createElement(tk.U,{svg:_.EP},n.createElement(eU.r,null))):null;return g?n.createElement(C.fn,{key:D,appendedClassName:"variant_prop_authoring_row--ui3PropertyRow--Ouo2e",leftLabel:null,leftInput:K,rightLabel:null,rightInput:B,icon:V}):n.createElement(et.fI,{key:D},n.createElement("div",{className:"variant_prop_authoring_row--selectPropertyRow--t4JAp raw_components--_row--rHucX"},K,B,V))}let tM=eA.ms,tD=eA.c$;function tR({defs:e,guids:t,selectedIndices:a,onSelectIndices:s,isInStateAuthoringView:l,recordingKey:i}){let o=(0,r.d4)(e=>(0,E.ow)(e)??[]),c=(0,r.d4)(eg.Nw),d=(0,r.d4)(e=>(0,E.OC)(e)??[]),u=(0,r.d4)(e=>e.dropdownShown),m=u?.type===te,g=a.length===e.length,f=e=>!g&&(e?.key==="Backspace"||e?.key==="Delete")&&(C(),!0),_=p.v_(i,"keydown",e=>{f(e)}),y=p.fo(`${i}.fullscreen`,"keydown",e=>{f(e.event)&&e.accept()}),C=n.useCallback(()=>{if(!a.length||!c)return;let t=a.map(t=>e[t].name);O.l7.user("delete-variant-props",()=>(0,eZ.bk)(t,o,d,c))},[o,c,e,d,a]),v=n.useCallback(e=>{let t=e.map(e=>e.name);O.l7.user("reorder-variant-props",()=>{o.forEach(e=>{let a=e.stateInfo.propertyValues;a&&H.i(e.symbol.node_id,(0,eZ.zh)(a,t))})}),eL.Y5.commit()},[o]),b=n.useRef(null);n.useEffect(()=>{a.length?b.current?.focus():b.current?.blur()},[a]);let{setIsDraggingSomePropDef:S}=T();return n.createElement(eO.vL,{handleKeyDown:y,ref:b,name:"variant-props-list",focusOnMount:!0},n.createElement(k.q,{listItems:e,selectedIndices:a,updateSelection:s,onChange:v,onDragStart:()=>S(!0),onDragEnd:()=>S(!1),renderListItem:(a,r,o,c,d,u,m)=>l?n.createElement(tO,{variantPropDef:a,recordingKey:p.Pt(i,"row",r)}):n.createElement(tn,{index:r,guids:t,componentPropDef:a,isSelected:o,isDragging:c,selectRow:()=>s([r]),singletonRow:1===e.length,onPropertyMouseDown:d,onPropertyMouseMove:u,onPropertyMouseUp:m,onKeyDown:_,recordingKey:p.Pt(i,"row",r)}),recordingKey:i}),m&&!!a.length&&!g&&n.createElement(tM,{style:u.data.position,positionFixed:!0},n.createElement(tD,{onClick:C,recordingKey:"deleteProp"},(0,h.tx)("design_systems.component_properties.delete_property",{numSelected:a.length}))))}var tF=a(501891);let tU=20;function tG({guids:e,propDimension:t,containerWidth:a,shouldHideInstanceTitleButtons:r,viewOnlyMode:s,hideIcon:l,highlightNodesOnHover:i,hideErrors:o,resettableInstanceOverrides:c,instanceNameDisplayOverride:d,forBubbledProps:u,recordingKey:h,errorBoxFlushWithContainer:_,entrypointForInstanceSwapPicker:E}){let{typedPropDefsExcludingHidden:C,variantPropDefs:b,assignmentValuesByDefId:S,allStateVariantProps:T,backingStateVariantProps:k,statePropertyValues:I,productComponentGUID:N}=(0,w.an)(e,t),P=(0,g.eY)(),x=(0,y.R)();if(!C.length&&!b.length)return null;let A=n.createElement(f.iN,{containerWide:a===v.O2.WIDE,canCollapse:u,resettableInstanceOverrides:c,instanceAndSublayerGUIDs:e,instanceNameDisplayOverride:d,shouldHideButtons:r,highlightNodesOnHover:i,recordingKey:h}),L=n.createElement(tV,{typedPropDefs:C,variantPropDefs:b,guids:e,assignmentValues:S,allStateVariantProps:T,backingStateVariantProps:k,statePropertyValues:I,productComponentGUID:N,propDimension:t,hideErrors:o,containerWidth:a,viewOnlyMode:s,hideIcon:l,forBubbledProps:!!u,recordingKey:h,errorBoxFlushWithContainer:_,sceneGraph:P,entrypointForInstanceSwapPicker:E});return u?x?n.createElement(tY,{row:A,isChevronAlwaysVisible:!0,recordingKey:p.Pt(h,"instancePanelTitleCollapsibleRow",e.join("-"))},n.createElement("div",{className:tF.Og},L)):n.createElement(m.S,{isInitiallyOpen:C.length<tU,title:A},n.createElement("div",{className:tF.Og},L)):n.createElement("div",null,A,n.createElement("div",{className:tF.Og},L))}var tK=(e=>(e[e.ALL_PROPS=0]="ALL_PROPS",e[e.VARIANT_PROPS=1]="VARIANT_PROPS",e[e.TYPED_PROPS=2]="TYPED_PROPS",e))(tK||{});function tB({propDimension:e,guids:t,containerWidth:a,viewOnlyMode:r,hideIcon:s,hideErrors:l,forBubbledProps:i,recordingKey:o,errorBoxFlushWithContainer:c,splitVariantAndTypedProps:d,enableHidingOverflowRowsInUI3:p,entrypointForInstanceSwapPicker:u}){let{typedPropDefsExcludingHidden:m,variantPropDefs:h,assignmentValuesByDefId:f,allStateVariantProps:_,backingStateVariantProps:E,statePropertyValues:y,productComponentGUID:C}=(0,w.an)(t,e),v=(0,g.eY)();return n.createElement(tV,{typedPropDefs:m,variantPropDefs:h,guids:t,propDimension:e,assignmentValues:f,allStateVariantProps:_,backingStateVariantProps:E,statePropertyValues:y,productComponentGUID:C,hideErrors:l,containerWidth:a,viewOnlyMode:r,hideIcon:s,forBubbledProps:!!i,recordingKey:o,errorBoxFlushWithContainer:c,splitVariantAndTypedProps:d,sceneGraph:v,enableHidingOverflowRowsInUI3:p,entrypointForInstanceSwapPicker:u})}function tV({typedPropDefs:e,variantPropDefs:t,propDimension:a,enableHidingOverflowRowsInUI3:s,...l}){let[i,c]=n.useState(void 0),[d,p]=n.useState([]),[u,m]=n.useState(!1),g=(0,y.R)(),f=(0,r.d4)(E.i$)===o.iCO.STATE&&a===v.OE.DEFINITION;n.useEffect(()=>{c(void 0),p([])},[t,e]);let _=!!t.length,C=!!e.length&&!f,b={shouldShowVariantProps:_,shouldShowTypedProps:C,selectedSection:i,selectedPropIndices:d,onSelectProps:(e,t)=>{c(e),p(t)},isInStateAuthoringView:f};if(g&&s){let{numHiddenRows:r,variantPropDefsToShow:s,typedPropDefsToShow:i}=function(e,t,a,n,r){let s=(t?n.length:0)+(a?r.length:0);if(e||s<=5)return{numHiddenRows:0,variantPropDefsToShow:t?n:[],typedPropDefsToShow:a?r:[]};let l=4,i=n;return t?l-=(i=n.slice(0,4)).length:i=[],{numHiddenRows:s-4,variantPropDefsToShow:i,typedPropDefsToShow:a?r.slice(0,l):[]}}(u,_,C,t,e);return n.createElement(n.Fragment,null,n.createElement(tH,{variantPropDefs:s,typedPropDefs:i,propDimension:a,...b,...l}),r>0&&!u&&n.createElement(tz,{label:(0,h.t)("design_systems.component_properties.show_more_property_rows",{count:r}),onClick:()=>m(!0)}))}return n.createElement(tH,{variantPropDefs:t,typedPropDefs:e,propDimension:a,...b,...l})}function tH({shouldShowVariantProps:e,shouldShowTypedProps:t,selectedSection:a,selectedPropIndices:r,onSelectProps:s,isInStateAuthoringView:l,propDimension:o,variantPropDefs:c,typedPropDefs:d,guids:u,assignmentValues:m,allStateVariantProps:h,backingStateVariantProps:g,statePropertyValues:f,productComponentGUID:E,forBubbledProps:y,hideErrors:C,containerWidth:b,viewOnlyMode:T,hideIcon:w,recordingKey:k,errorBoxFlushWithContainer:I,splitVariantAndTypedProps:N,sceneGraph:P,inPlayground:x,instanceSwapPickerInitialHeight:A,instanceSwapPickerInitialPosition:L,entrypointForInstanceSwapPicker:O}){return n.createElement(S,null,n.createElement(n.Fragment,null,e&&o===v.OE.DEFINITION&&n.createElement(tR,{defs:c,guids:u,selectedIndices:a===i.u.VARIANT?r:[],onSelectIndices:e=>s(i.u.VARIANT,e),isInStateAuthoringView:l,recordingKey:p.Pt(k,"propDefs",i.u.VARIANT)}),e&&E&&o===v.OE.ASSIGNMENT&&n.createElement(tT,{variantPropDefs:c,guids:u,allStateVariantProps:h,backingStateVariantProps:g,stateGroupGUID:E,statePropertyValues:f,forBubbledProps:y,containerWidth:b,sceneGraph:P,viewOnly:0===T||1===T,hideIcon:w,recordingKey:p.Pt(k,"propDefs",i.u.VARIANT)}),e&&t&&N&&n.createElement("div",{className:"props_section--divider--5xEyL"}),t&&o===v.OE.DEFINITION&&n.createElement(to,{defs:d,guids:u,selectedIndices:a===i.u.TYPED?r:[],onSelectIndices:e=>s(i.u.TYPED,e),recordingKey:p.Pt(k,"propDefs",i.u.TYPED)}),t&&o===v.OE.ASSIGNMENT&&n.createElement(ex,{typedPropDefs:d,guids:u,assignmentValues:m,forBubbledProps:y,containerWidth:b,viewOnly:0===T||2===T,hideIcon:w,sceneGraph:P,inPlayground:x,instanceSwapPickerInitialHeight:A,instanceSwapPickerInitialPosition:L,recordingKey:p.Pt(k,"propDefs",i.u.TYPED),entrypointForInstanceSwapPicker:O}),!C&&n.createElement(_.aq,{flushWithContainer:I})))}function tz({label:e,onClick:t}){return n.createElement("button",{onClick:t,"aria-label":e},n.createElement(C.Ad,{label:null,input:n.createElement("div",{className:"props_section--ui3ShowMoreText--9ZaYD"},e)}))}function tY({row:e,isCollapsedByDefault:t,isChevronAlwaysVisible:a,children:r,recordingKey:i}){let[o,c]=n.useState(t??!1),p=n.createElement(u.GG,{className:"props_section--ui3CollapsibleRowWrapper--0eG4n",onMouseDown:()=>c(!o),recordingKey:i},n.createElement("div",{className:d()("props_section--ui3CollapsibleRowIcon--AMo-v",{"props_section--ui3CollapsibleRowIconAlwaysVisible--BPU5Y":a})},o?n.createElement(s.k,null):n.createElement(l.O,null)),e);return o?p:n.createElement(n.Fragment,null,p,r)}},332721:(e,t,a)=>{a.d(t,{_:()=>m});var n=a(411855),r=a(343887),s=a(782683),l=a(243742),i=a(163023),o=a(939863),c=a(498606),d=a(227795),p=a(960896),u=a(130715);function m({onClick:e}){return"ui3"===(0,l.DP)().version?n.createElement(r.K,{onClick:e,recordingKey:"canvas_search.search_icon_button","aria-label":(0,o.t)("fullscreen_actions.find"),htmlAttributes:{"data-onboarding-key":"canvas-search","data-tooltip":"canvas-search","data-tooltip-type":c.Ib.LOOKUP}},n.createElement(s.h,null)):n.createElement(d.K0,{"data-onboarding-key":"canvas-search","data-tooltip-type":c.Ib.LOOKUP,"data-tooltip":"canvas-search",onClick:e,recordingKey:"canvas_search.search_icon_button",isBackgroundTransparent:!0,className:p.gV},n.createElement(i.B,{svg:u.A,className:p.v9}))}},137345:(e,t,a)=>{a.d(t,{Y:()=>eE,f:()=>ey});var n=a(411855),r=a(188507),s=a(729064),l=a(782683),i=a(243742),o=a(587670),c=a(534611),d=a(629019),p=a.n(d),u=a(939683),m=a(622422),h=a(966712),g=a(38580),f=a(374626),_=a(646240),E=a(498750),y=a(860601),C=a(316082),v=a(563706),b=a(153234),S=a(522739),T=a(735536),w=a(96328),k=a(456363),I=a(268537),N=a(376406),P=a(452441),x=a(493323),A=a(355819),L=a(163023),O=a(46481),M=a(271779),D=a(939863),R=a(392592),F=a(772167),U=a(356390),G=a(478556),K=a(541524),B=a(283942),V=a(862442),H=a(843495),z=a(318812),Y=a(29680),j=a(479118),W=a(967409),$=a(498606),X=a(371591),Z=a(298543),q=a(227795),J=a(144119),Q=a(100303),ee=a(332721),et=a(796825),ea=a(424622),en=a(81804),er=a(960896),es=a(949207),el=a(432023),ei=a(247245),eo=a(370903),ec=a(995382),ed=a(761070),ep=a(593701),eu=a(289298),em=a(130715),eh=a(630834),eg=(e=>(e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULTI=2]="MULTI",e))(eg||{}),ef=(e=>(e[e.NONE=0]="NONE",e[e.TOP=1]="TOP",e[e.MIDDLE=2]="MIDDLE",e[e.BOTTOM=3]="BOTTOM",e[e.ALL=4]="ALL",e))(ef||{});let e_=(0,g.eU)(!1),eE=n.memo(function(e){let{onFocus:t}=e;return n.createElement("div",{className:er.i$},n.createElement("div",{className:er.PP},n.createElement("div",{className:er.JA},n.createElement(ee._,{onClick:e.onFocus}),n.createElement(P.L,{className:er.Rt,onFocus:t,placeholder:(0,D.t)("canvas_search.search_placeholder")}))))}),ey=n.memo(function({showFilter:e}){let{query:t,resultsOnOtherPages:a,next:r,exit:s,setNavigateNearestOnce:d,search:u,showSearch:m,mode:h,isLoading:g,allInstancesExpanded:_,missingResultsOnSomePages:y}=(0,Q.SQ)(),[C,v]=(0,n.useState)(""),{focusedByButtons:b,inputRef:S}=(0,Q.CT)(),T=(0,n.useRef)(null),I=(0,V.Z)("canvas_search_navigate"),N=(0,f.md)(k.Wy),P=(0,f.md)(k.ml),A=(0,n.useContext)(Q.EA),L=(0,f.md)(e_),[R,F]=(0,n.useState)(null),[G,B]=(0,n.useState)(0),[H,z]=(0,n.useState)(!1);(0,n.useLayoutEffect)(()=>{if(A){if(P.size>1||N.size>1){z(!0);return}for(let e of N.values())e.size>1&&z(!0)}},[N,A,P]);let Y=(e,t)=>{z(!1),r(e,t)},j=function(e,t,a){if(!a)return!1;if(t.size>1||e.size>1)return!0;for(let t of e.values())return t.size>1;return!1}(N,P,A),X=function(e,t,a,r,s){let l=eN(e,a,e=>{let a=(e.keyCode===E.Uz.D||e.keyCode===E.Uz.F)&&(0,E.Fo)(e)&&e.shiftKey;ex(e)&&!a&&t.current?.focus()},s);return(0,n.useCallback)(e=>{let n=eA(e);switch(e.keyCode){case E.Uz.RIGHT_ARROW:case E.Uz.LEFT_ARROW:(0,E.Te)(e)||l(e);break;case E.Uz.C:case E.Uz.X:(0,E.Te)(e)&&window.getSelection&&!window.getSelection().toString()&&(U.Y5.triggerAction(e.keyCode===E.Uz.C?"copy":"cut"),e.preventDefault(),e.stopPropagation(),e.keyCode===E.Uz.X&&t.current?.focus());break;case E.Uz.V:case E.Uz.Z:break;default:l(e)}a||n===c.AD||r(o.YEY.setActiveResultAndGetViewportSettings(n,0),{delay:300})},[a,l,t,r])}(Y,T,j,I,B),Z=eP(B);(0,Q.A5)(S,r,b);let J="ui3"===(0,i.DP)().version;if(!m)return null;let ee=n.createElement(n.Fragment,null,n.createElement("div",{className:p()(er.v9,{[er.ei]:J&&""===t})},n.createElement(O.U,{svg:em.A},n.createElement(l.h,null))),n.createElement(Q.ih,{onChange:e=>{z(!1),u(e)},query:t,focusedByButtons:b,onKeyDown:X,onKeyUp:Z,innerRef:S,onPasteCapture:e=>{(0,K.gk)(e)&&(U.Y5.triggerActionInUserEditScope("paste"),e.preventDefault(),T.current?.focus())},editorType:W._Y.DESIGN}));return n.createElement(M.i,null,n.createElement("div",{className:er.G$,onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(o.YEY.setOverlayVisible(!1),d(),B(0))}},n.createElement("div",{className:er.PP},n.createElement("div",{className:er.Wv},J?n.createElement("div",{className:er.Z9},ee):ee,e&&n.createElement(ea.g,{lean:"right",recordingKey:"figma_design_search"}),n.createElement(q.K0,{svg:eh.default,onClick:s,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.close"),tooltipForScreenReadersOnly:!0,recordingKey:"figma_design_search.close"})),n.createElement(ea.F,{mode:h,short:h===o.EW4.REPLACE,recordingKey:"figma_design_search.filterPills"}),h===o.EW4.REPLACE&&n.createElement(et.a,{query:t,value:C,onChange:v,onFocus:(e,a)=>{!t&&a&&S.current?.focus()},hasMultipleSelections:j,recordingKey:"figma_design_search"})),g||L?n.createElement("div",{className:p()(er.S,er.dz)},n.createElement(x.dW,{size:"medium",testId:"canvas-search-loading-spinner"})):t&&!(0,w.jN)(t)&&n.createElement(eC,{onNext:Y,navigate:I,replacement:h===o.EW4.REPLACE?C:void 0,resultsOnOtherPages:a,allInstancesExpanded:_,resultInputHandlerRef:T,hoveredResult:R,hasMultipleSelections:j,isInMultiselectMode:H,hoverSelectMode:G,missingResultsOnSomePages:y,setIsInMultiselectMode:z,setHoverSelectMode:B,setHoveredResult:F})))});function eC({onNext:e,navigate:t,replacement:a,resultsOnOtherPages:l,resultInputHandlerRef:i,hoveredResult:d,hasMultipleSelections:h,isInMultiselectMode:g,missingResultsOnSomePages:_,hoverSelectMode:C,setIsInMultiselectMode:v,setHoverSelectMode:b,setHoveredResult:T,allInstancesExpanded:w}){let I=(0,r.wA)(),N=(0,Q.WB)(),P=(0,Q.II)(),L=(0,Y.p8)("currentPage"),O=(0,n.useRef)(null),M=(0,r.d4)(e=>e.canvasSearch.scope),R=o.YEY.hasDirtyPrimaryInstances(),G=(0,f.md)(k.Fk),K=(0,f.md)(k.Ch),B=(0,f.md)(k.Wy),H=(0,f.md)(k.ml),z=(0,f.md)(k.hw),j=(0,n.useContext)(Q.EA),W=!g,X=null==a,Z=(0,Q.L4)(),J=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),s=(0,r.d4)(e=>e.canvasSearch.scope),l=(0,u.am)(),i=(0,n.useContext)(Q.EA),c=(0,n.useCallback)((n,r,i)=>{let{nav:c,numNewNodes:d,numNewTextMatches:p}=o.YEY.addActiveResultAndGetViewportSettings(n,r,i);e&&l("canvas_search_enter_multi_select",{numberOfNodes:d,numberOfTextMatches:p,source:"cmd/ctrl+click",mode:t?"find":"replace"}),a(c,{additionalTrackEventParams:{searchScope:o.Lov[s]}})},[t,a,s,l,e]);return i?c:y.lQ}(W,X),ee=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),s=(0,r.d4)(e=>e.canvasSearch.scope),l=(0,u.am)(),i=(0,n.useContext)(Q.EA),c=(0,n.useCallback)(n=>{let{nav:r,numNewNodes:i,numNewTextMatches:c}=o.YEY.addActiveResultsAndGetViewportSettings(n);e&&l("canvas_search_enter_multi_select",{numberOfNodes:i,numberOfTextMatches:c,source:"shift+click",mode:t?"find":"replace"}),a(r,{additionalTrackEventParams:{searchScope:o.Lov[s]}})},[t,a,s,l,e]);return i?c:y.lQ}(W,X),et=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,n.useContext)(Q.EA),s=(0,n.useCallback)((a,n,r)=>{e(o.YEY.removeActiveResultAndGetViewportSettings(a,n,r),{additionalTrackEventParams:{searchScope:o.Lov[t]}})},[e,t]);return a?s:y.lQ}(),[ea,es]=function(...e){let[t,a]=(0,n.useState)(()=>e.reduce((e,t)=>(e[t]=!0,e),{}));return[t,(0,n.useCallback)((e,t=!0)=>{a(a=>a[e]!==t?{...a,[e]:t}:a)},[])]}(c.Xy,L),el=(0,n.useRef)({}),ei=(0,n.useMemo)(()=>{let e=[],t=N.find(e=>e.pageId===c.Xy),a=M===o.Lov.ALL_PAGES||!!t,n=N.find(e=>e.pageId===L),r=N;M===o.Lov.ACTIVE_PAGE&&(r=[],t&&r.push(t),n&&r.push(n));let s=0;for(let{pageId:t,results:n}of(el.current={},r)){if(0===n.length)continue;let r=!!ea[t];if(a&&(e.push({type:"header",data:{pageId:t,open:r,numResults:n.reduce((e,t)=>e+=t.textMatches.length,0)}}),++s),a&&!r)continue;el.current[t]=s;let l=0;for(let a of n){let{textMatches:n,...r}=a;n.forEach((a,n)=>{e.push({type:"result",data:{...r,matchIndex:n,textMatch:a,index:l,pageId:t}}),++l,++s})}}return e},[L,ea,M,N]);(0,n.useEffect)(()=>{null!=K&&es(K.pageId)},[K,es]);let ed=(0,s.z)({size:ei.length,parentRef:O,overscan:10}),ep=e=>{if(null==K||null==K.index)return[];let t=el.current[K.pageId];if(null==t)return[];let a=t+K.index;if(a===e)return[];let n=[],r=Math.min(a,e),s=Math.max(a,e);if("header"===ei[e].type)return n;for(let e=r;e<=s;e++)"result"===ei[e].type&&n.push(ei[e].data);return n},eu=(0,n.useCallback)(e=>!!j&&"header"!==e.type&&(!!g||0!==C)&&(e.data.textMatch.matchType===o.Ifi.TEXT_MATCH&&H.has(e.data.resultGuid)&&!B.has(e.data.resultGuid)||z.has(e.data.resultGuid)),[B,j,H,C,z,g]),em=(0,n.useCallback)(e=>"header"!==e.type&&(j?e.data.textMatch.matchType===o.Ifi.PAGE_MATCH?e.data.index===K?.index&&e.data.pageId===K?.pageId:e.data.textMatch.matchType===o.Ifi.LAYER_MATCH?H.has(e.data.resultGuid)&&!B.get(e.data.resultGuid):B.get(e.data.resultGuid)?.has(e.data.matchIndex)??!1:e.data.index===K?.index&&e.data.pageId===K?.pageId),[K?.index,K?.pageId,B,j,H]),eh=(0,n.useCallback)((e,t,a)=>{let n=e+a,r=t+a,s=e=>"result"===e.type&&(em(e)||eu(e));for(;n>0&&n<=ei.length&&s(ei[n-1]);)n-=1;for(;r<ei.length&&s(ei[r]);)r+=1;return[n-a,r-a]},[eu,em,ei]),eg=(0,n.useCallback)((e,t)=>{if(e+t>=ei.length)return!1;let a=ei[e+t];return!em(a)&&!eu(a)},[eu,em,ei]),ef=(0,n.useCallback)((e,t,a)=>{let n=!1;for(let r=e;r<=t&&!(r+a>=ei.length);r+=1){let e=ei[r+a];if(!em(e)&&!eu(e)){n=!0;break}}return n},[eu,em,ei]),[e_,eE]=(0,n.useMemo)(()=>{let e=d?.nodeGuid??c.AD,t=K?.pageId!=null?el.current[K.pageId]:null;if(j&&0!==C&&d&&e!==c.AD&&d.pageId===K?.pageId&&null!=t){let a=d.index,n=d.matchIndex;if((1===C||K?.index==null)&&eg(a,t))return[a,o.YEY.getSingleHoveredSelectionEndIndex(e,n)];if(2===C&&K?.index!=null&&K.index!==d.index){let r=a>K.index?K.index:a;return ef(r,a>K.index?a:K.index,t)?eh(r,o.YEY.getMultiHoveredSelectionEndIndex(e,n),t):[null,null]}}return[null,null]},[K?.index,K?.pageId,j,eh,C,d,ef,eg]),ey=(0,n.useCallback)(e=>!j||null==e_||null==eE||e<e_||e>=eE?0:e===e_&&e===eE-1?4:e===e_?1:e===eE-1?3:2,[j,e_,eE]),eC=(0,m.$)(K);(0,n.useEffect)(()=>{if(g||0!==C||null==K||null==K.index||0===ei.length||!eC)return;let e=el.current[K.pageId];if(null==e)return;let t=e+K.index,a=t>=ed.virtualItems[0].index&&t<=ed.virtualItems[ed.virtualItems.length-1].index,n=!1;if(a){let e=ed.virtualItems.find(e=>e.index===t);if(e){let{start:t,size:a}=e;n=function(e,t){if(!t)return!0;let a=t.scrollTop,n=a+t.clientHeight;return e.top>=a&&e.bottom<=n}({top:t,bottom:t+a},O.current)}}n||R||ed.scrollToIndex(t,{align:"center"})},[K,eC,i,g,ei,R,ed,C]);let ev=(e,t,a,n)=>{let r=()=>{n?et(t.resultGuid,t.matchIndex,t.textMatch.matchType):J(t.resultGuid,t.matchIndex,t.textMatch.matchType)};t.pageId===c.Xy?(P(t.guid),es(t.guid),v(!1)):j&&t.pageId===K?.pageId?e.shiftKey&&K?.index==null?(n||r(),v(!0)):e.shiftKey?((()=>{let e=ep(a),t=[];e.forEach(e=>{let a=t.length?t[t.length-1]:void 0;a?.nodeId===e.resultGuid&&a?.searchResultType===o.Ifi.TEXT_MATCH?a.matchIndices.push(e.matchIndex):t.push({nodeId:e.resultGuid,matchIndices:[e.matchIndex],searchResultType:e.textMatch.matchType})}),ee(t)})(),v(!0)):(0,E.Fo)(e)&&t.textMatch.matchType!==o.Ifi.PAGE_MATCH?(r(),v(!0)):(Z(t.resultGuid,t.matchIndex),v(!1)):(Z(t.resultGuid,t.matchIndex),v(!1))},ew=function(e,t,a,s,l,i,d){let p=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),s=(0,r.d4)(e=>e.canvasSearch.scope),l=(0,u.am)(),i=(0,n.useContext)(Q.EA),c=(0,n.useCallback)(()=>{let{nav:n,numNewNodes:r,numNewTextMatches:i}=o.YEY.setAllResultsAsActiveAndGetViewportSettings();e&&l("canvas_search_enter_multi_select",{numberOfNodes:r,numberOfTextMatches:i,source:"cmd/ctrl+A",mode:t?"find":"replace"}),a(n,{additionalTrackEventParams:{searchScope:o.Lov[s]}})},[t,a,s,l,e]);return i?c:y.lQ}(a,s),m=(0,n.useContext)(Q.EA),h=eN(e,l,ex,i);return(0,n.useCallback)(e=>{let a=eA(e);switch(e.keyCode){case E.Uz.UP_ARROW:case E.Uz.DOWN_ARROW:case E.Uz.RIGHT_ARROW:case E.Uz.LEFT_ARROW:l?(function(){let e=document.getElementById("fullscreen-root")?.getElementsByClassName("focus-target");if(null!=e&&0!==e.length){for(let t of e)if(t.hasAttribute("readonly")&&"application"===t.getAttribute("role")){t?.focus();break}}}(),ex(e,!0)):h(e);break;case E.Uz.A:if(m&&(0,E.Te)(e)){p(),d(!0),e.stopPropagation(),e.preventDefault();break}ex(e);break;case E.Uz.C:(0,E.Te)(e)?(U.Y5.triggerActionInUserEditScope("copy"),e.stopPropagation()):ex(e);break;case E.Uz.V:(0,E.Te)(e)?(U.Y5.triggerActionInUserEditScope("paste"),e.stopPropagation()):ex(e);break;case E.Uz.X:(0,E.Te)(e)?(U.Y5.triggerActionInUserEditScope("cut"),e.stopPropagation()):ex(e);break;case E.Uz.DELETE:case E.Uz.BACKSPACE:ex(e,!0);break;default:h(e)}l||a===c.AD||t(o.YEY.setActiveResultAndGetViewportSettings(a,0),{delay:300})},[l,m,h,p,d,t])}(e,t,W,X,h,b,v),ek=eP(b);return n.createElement("div",{className:er.sb},n.createElement("div",{className:er.Jo},n.createElement(eb,{totalOnActivePage:G.total,resultsOnOtherPages:l,allInstancesExpanded:w}),0!==ei.length&&n.createElement(n.Fragment,null,n.createElement(q.K0,{svg:ec.A,onClick:t=>{e(en.OP.PREV,"button")},"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev",recordingKey:"figma_design_search.previous",disabled:G.total<=1}),n.createElement(q.K0,{svg:eo.A,onClick:t=>{e(en.OP.NEXT,"button")},"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next",recordingKey:"figma_design_search.next",disabled:G.total<=1}))),n.createElement(A.P,{className:er.bB,scrollContainerRef:O},n.createElement(S.D8,{style:{height:ed.totalSize,position:"relative"},tabIndex:0,role:"listbox",recordingKey:"figma_design_search.results_list",onKeyDown:ew,onKeyUp:ek,forwardedRef:i},ed.virtualItems.map(e=>{let t=ei[e.index];if(!t)return null;let r=em(t),s="result"===t.type&&t.data.pageId===K?.pageId?ey(t.data.index):0;return n.createElement("div",{key:"header"===t.type?t.data.pageId:`${t.data.pageId}#${t.data.index}`,ref:e.measureRef,className:p()({[er.T]:1===s,[er.fz]:2===s,[er.Nf]:3===s,[er.HR]:(1===C||K?.index==null)&&d?.isPurple}),style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${e.start}px)`}},"header"===t.type?n.createElement(eS,{...t.data,setOpen:e=>es(t.data.pageId,e)}):n.createElement(eT,{activePageId:K?.pageId,onSelect:a=>ev(a,t.data,e.index,r),onDoubleClick:()=>{o.YEY.exitSearchMode(o.dNx.SELECT_ACTIVE)},resultInputHandlerRef:i,result:t.data,replacement:a,selected:r,indirectlySelected:eu(t),singletonHoverSelected:4===s,isInMultiselectMode:g,isInHoveredSelectMode:0!==C&&!!d,hasMultipleSelections:h,setHoveredResult:T}))})),R&&n.createElement("div",{className:er.S},n.createElement(x.dW,{size:"medium"})),l&&M===o.Lov.ACTIVE_PAGE&&n.createElement(S.GG,{recordingKey:"figma_design_search.other_pages_button",className:p()(er.fp,er.AX),onClick:()=>{I(F.V2(o.Lov.ALL_PAGES))}},(0,D.tx)("canvas_search.results_other_pages")),_&&M===o.Lov.ALL_PAGES&&n.createElement("div",{className:er.du},(0,D.tx)("canvas_search.results_unavailable_offline"))))}let ev={[o.Lov.ACTIVE_PAGE]:()=>(0,D.tx)("canvas_search.this_page"),[o.Lov.ALL_PAGES]:()=>(0,D.tx)("canvas_search.all_pages")};function eb({totalOnActivePage:e,resultsOnOtherPages:t,allInstancesExpanded:a}){let s=(0,r.wA)(),l=(0,J.sO)(),i=(0,z.BK)("CANVAS_SEARCH_PAGE_SCOPE_DROPDOWN"),c=(0,n.useRef)(null),d=(0,r.d4)(e=>e.canvasSearch.scope),p=(0,r.d4)(e=>e.mirror.appModel.pagesList),u=(0,_.Xr)(e_),m="";m=0===e?(0,j.lH)(p)||!a?l?(0,D.t)("canvas_search.no_results_in_this_deck"):(0,D.t)("canvas_search.no_results_on_page"):t?(0,D.t)("canvas_search.no_results"):(0,D.t)("canvas_search.no_results_in_file"):(0,D.t)("canvas_search.results_count",{total:e});let g=(!l||(0,h.kc)().interop_pages)&&(e>0||t||(0,j.lH)(p)||!a);return n.createElement("div",{className:er._M},n.createElement("span",{"data-testid":"canvas-search-info",className:er.qp},m),g&&n.createElement(n.Fragment,null,n.createElement("span",{className:er.hY},"\xb7"),n.createElement("div",{role:"none",onClick:e=>e.stopPropagation()},n.createElement(S.GG,{forwardedRef:c,recordingKey:"figma_design_search_page_scope_dropdown",className:er.Vz,"data-testid":"figma-design-search-scope-dropdown",onClick:e=>i.showing&&e.stopPropagation(),onMouseDown:()=>i.toggle(),onKeyDown:e=>{(e.keyCode===E.Uz.ENTER||e.keyCode===E.Uz.SPACE)&&(e.preventDefault(),i.toggle())}},n.createElement(n.Fragment,null,ev[d](),n.createElement(L.B,{svg:eu.A}))),c.current&&i.showing&&n.createElement(Z.Jz,{showPoint:!1,maxWidth:160,minWidth:160,className:er.NB,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,lean:"right",leanPadding:0,targetRect:c.current.getBoundingClientRect(),hideDropdown:i.hide,recordingKey:"figma_design_search_page_scope",propagateCloseClick:!0,options:[o.Lov.ACTIVE_PAGE,o.Lov.ALL_PAGES].map(e=>n.createElement(I.MM,{recordingKey:`figma_design_search_page_scope.${e}`,key:e,checked:e===d,onClick:()=>{i.hide(),e===o.Lov.ALL_PAGES&&((0,j.lH)(p)||!a)?(u(!0),requestAnimationFrame(()=>{s(F.V2(e)),u(!1)})):s(F.V2(e))}},n.createElement("div",{className:er.VM},ev[e]())))}))))}function eS({pageId:e,open:t,setOpen:a,numResults:r}){let s=(0,Y.eY)().get(e),l=e===c.Xy?(0,D.t)("fullscreen.canvas_search.pages"):s.name;return n.createElement(S.GG,{className:er.kQ,onClick:()=>a(!t)},n.createElement(L.B,{className:er.eO,svg:t?es.A:el.A}),n.createElement("span",{className:er.rB},l),n.createElement("span",{className:er.hs},r))}function eT({result:e,replacement:t,activePageId:a,resultInputHandlerRef:s,selected:l,indirectlySelected:i,singletonHoverSelected:d,onSelect:u,onDoubleClick:m,isInMultiselectMode:h,isInHoveredSelectMode:g,hasMultipleSelections:f,setHoveredResult:_}){let E=(0,Y.eY)(),T=(0,Y.p8)("currentPage"),w=e.textMatch.matchType===o.Ifi.TEXT_MATCH,k=null!=t&&w&&(E.get(e.guid)?.hasMissingFont||!1),I=!(0,C.y)(),N=(0,r.d4)(e=>e.mirror.appModel.pagesList),P=I&&e.textMatch.matchType===o.Ifi.PAGE_MATCH&&o.h3O.isIncrementalSession()&&(0,j.Fy)(N,e.resultGuid)!==o.xal.LOADED,x=(0,r.wA)(),A=p()(er.V3,{[er.HR]:e.isPurple,[er.wH]:l,[er.r9]:P}),O=n.createElement(X.Bf,{className:A,guid:e.guid});return k?O=n.createElement("div",{className:er.v9+" "+A},n.createElement(L.B,{svg:ep.A})):e.guid===T&&(O=n.createElement("div",{className:er.v9+" "+A},n.createElement(L.B,{svg:ei.A}))),n.createElement(S.GG,{className:p()({[er.AX]:!0,[er.wH]:l,[er.Xt]:!l&&i,[er.rX]:d,[er.Dw]:g,[er.HR]:e.isPurple,[er.r9]:P}),onMouseDown:e=>{e.preventDefault()},onClick:t=>{P?x(R.F.enqueue({type:"offline-page-switch",message:(0,D.t)("fullscreen.pages_panel.unavailable_offline")})):(s.current?.focus(),h||!l||(v.Ay.mac?t.metaKey:t.ctrlKey)||e.textMatch.matchType===o.Ifi.PAGE_MATCH?u(t):f||o.YEY.setOverlayVisible(!0)),t.preventDefault(),t.stopPropagation()},onDoubleClick:h||P?y.lQ:m,onMouseEnter:()=>{e.pageId===c.Xy||e.pageId!==a?_(null):_({nodeGuid:e.resultGuid,pageId:e.pageId,index:e.index,matchIndex:e.matchIndex,isPurple:e.isPurple}),w?o.YEY.setHoveredResult(e.resultGuid,e.matchIndex):e.textMatch.matchType===o.Ifi.LAYER_MATCH&&(0,H.Uc)(e.resultGuid)},onMouseLeave:()=>{(0,H.Uc)(""),_(null),o.YEY.setHoveredResult(c.AD,-1)},recordingKey:b.Pt("figma_design_search","result",e.pageId,e.index)},n.createElement("div",{className:er._P},O),n.createElement("div",{className:p()(er.D6,{[er.c1]:w})},e.textContent&&w?n.createElement(ek,{text:e.textContent,match:e.textMatch,replacement:k?void 0:t,multiline:!0}):n.createElement(ew,{result:e})),P&&n.createElement("div",{className:er.QF,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"},n.createElement(L.B,{className:er.VQ,svg:ed.A})))}function ew({result:e}){let{query:t}=(0,r.d4)(e=>e.canvasSearch),a=e.name&&e.stateGroupName?(0,T.w)(e.name):e.name;if(!a)return null;let s=e.stateGroupName||e.containerName,l=-1;e.textContent&&(a=e.textContent,l=e.name?.toLowerCase().indexOf(t)??-1,s=e.name);let i=a.toLowerCase().indexOf(t)??-1;return n.createElement("div",null,a&&i>-1?n.createElement(ek,{text:a,match:{start:i,end:i+t.length,matchType:o.Ifi.LAYER_MATCH},multiline:!0}):n.createElement(N.ph,{text:a}),s&&n.createElement("div",{className:er.Gu},l>-1?n.createElement(ek,{text:s,match:{start:l,end:l+t.length,matchType:o.Ifi.LAYER_MATCH}}):n.createElement(N.ph,{text:s})))}function ek({text:e,match:t,replacement:a,multiline:r}){let[s,l]=(0,n.useState)(e),[i,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l(e)},[e]),(0,n.useEffect)(()=>{if(!i||s!==e)return;let a=t.start,n=0;for(let t=a-1;t>=0;--t)if(/\s/.test(e[t])&&n++,3===n){a=t;break}n<3&&(a=0),l(e.slice(a))},[i,s,e,t.start]);let c=(0,n.useMemo)(()=>n.createElement(eI,{text:s,replacement:a,fullString:e,match:t}),[s,t,a,e]);return n.createElement(N.ph,{className:r?er.c1:"",text:c,multiline:r,onTruncationChange:o})}function eI({text:e,replacement:t,fullString:a,match:r}){let s=0;a&&e!==a&&(s=a.length-e.length);let l=r.start-s,i=r.end-s,o=e.substring(0,l),c=e.substring(l,i),d=e.substring(i);if(t&&c.toLocaleLowerCase()!==t.toLocaleLowerCase()){let e=G.r.detectTextTransform(c);t=G.r.applyTextTransform(t,e)}return n.createElement(n.Fragment,null,s?"\u2026":"",o,t?n.createElement(n.Fragment,null,n.createElement("span",{className:er.of},c),n.createElement("b",null,t)):n.createElement("b",null,c),d)}function eN(e,t,a,s){let l=(0,Q.II)(),i=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,u.am)(),s=(0,n.useContext)(Q.EA),l=(0,n.useCallback)(()=>{a("canvas_search_multi_hierarchy",{order:"down"}),e(o.YEY.moveActiveResultsDownOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:o.Lov[t]}})},[e,t,a]);return s?l:y.lQ}(),c=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,u.am)(),s=(0,n.useContext)(Q.EA),l=(0,n.useCallback)(()=>{a("canvas_search_multi_hierarchy",{order:"up"}),e(o.YEY.moveActiveResultsUpOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:o.Lov[t]}})},[e,t,a]);return s?l:y.lQ}(),d=(0,n.useContext)(Q.EA);return(0,n.useCallback)(n=>{switch(d?(0,E.Fo)(n)&&!n.shiftKey?s(1):n.shiftKey?s(2):s(0):s(0),n.keyCode){case E.Uz.P:case E.Uz.UP_ARROW:(n.keyCode!==E.Uz.P||v.Ay.mac&&(0,E.vN)(n,E.xH.CONTROL))&&(e(en.OP.PREV,"keyboard"),n.stopPropagation(),n.preventDefault());break;case E.Uz.N:case E.Uz.DOWN_ARROW:(n.keyCode!==E.Uz.N||v.Ay.mac&&(0,E.vN)(n,E.xH.CONTROL))&&(e(en.OP.NEXT,"keyboard"),n.stopPropagation(),n.preventDefault());break;case E.Uz.ENTER:if((0,E.Fo)(n)){o.YEY.exitSearchMode(o.dNx.SELECT_ACTIVE);break}if(l())break;n.shiftKey?t?c():e(en.OP.PREV,"keyboard"):t?i():e(en.OP.NEXT,"keyboard"),n.stopPropagation(),n.preventDefault();break;case E.Uz.ESCAPE:o.YEY.exitSearchMode(o.dNx.NONE),n.preventDefault(),n.stopPropagation();break;default:a(n)}},[d,s,l,a,e,t,c,i])}function eP(e){return(0,n.useCallback)(t=>{if(t.keyCode===E.Uz.SHIFT){(!v.Ay.mac||t.metaKey)&&(v.Ay.mac||t.ctrlKey)||e(0);return}let a=v.Ay.mac&&"Meta"===t.key,n=!v.Ay.mac&&t.keyCode===E.Uz.CTRL;(a||n)&&!t.shiftKey&&e(0)},[e])}function ex(e,t=!1){if(t||(0,B.U5)(e,B.W0.YES)){let t=(0,B.f7)(e);return t&&e.stopPropagation(),t}return!1}function eA(e){switch(e.keyCode){case E.Uz.DELETE:case E.Uz.BACKSPACE:return o.YEY.getNextResultForActiveResultRemoval();case E.Uz.X:if((0,E.Te)(e))return o.YEY.getNextResultForActiveResultRemoval();break;case E.Uz.H:case E.Uz.R:if((0,E.Fo)(e)&&e.shiftKey)return o.YEY.getNextResultForActiveResultRemoval()}return c.AD}},358097:(e,t,a)=>{a.d(t,{_:()=>u});var n=a(411855),r=a(188507),s=a(520411),l=a(629019),i=a.n(l),o=a(259927),c=a(316081),d=a(187882),p=a(865636);function u({isCollapsed:e,isInsetEditor:t,children:a,minWidth:l=d.Yh,maxWidth:u=d.g_}){let m=n.useRef(null),h=function({isShowing:e,isCollapsed:t,ref:a,minWidth:s,maxWidth:l}){let i=(0,r.d4)(e=>e.isRenaming),o=(0,d.GQ)(s,l),c=(0,p.E)(a,t&&!i&&e);return(0,n.useMemo)(()=>t?i&&"number"==typeof c?{width:Math.max(s,c)}:{maxWidth:l}:{width:o},[t,i,o,c,s,l])}({isCollapsed:e,isShowing:!0,ref:m,minWidth:l,maxWidth:u}),g=(0,s.U1)(),f=(0,n.useCallback)(t=>{(0,c.cZ)(m,t),g(e?t:null)},[g,e]);return n.createElement("div",{className:i()(o.Dm,"left_panel_island_container--islandContainer--uM5h6",{"left_panel_island_container--collapsed--OEOq4":e,"left_panel_island_container--withInsetEditor--XKTTi":t&&!e}),style:h,ref:f},a)}},237701:(e,t,a)=>{a.d(t,{n:()=>r});var n=a(411855);function r(){return n.createElement("div",{className:"left_panel_island_spacer--islandSpacer--5ynLJ"})}},986679:(e,t,a)=>{a.d(t,{X:()=>tC});var n=a(411855),r=a(109388),s=a(188507),l=a(634832),i=a(675678),o=a(587670),c=a(86625),d=a(612028),p=a(707458),u=a(629019),m=a.n(u),h=a(841563),g=a.n(h),f=a(126049),_=a(776250),E=a(737433),y=a(966712),C=a(374626),v=a(498750),b=a(668876),S=a(951158),T=a(563706),w=a(153234),k=a(776621),I=a(554322),N=a(572206),P=a(448169),x=a(355819),A=a(256975),L=a(738269),O=a(259927),M=a(13379),D=a(226055),R=a(83909),F=a(356390),U=a(617453),G=a(634480),K=a(843495),B=a(698993),V=a(860178),H=a(69961),z=a(100197),Y=a(939562),j=a(601607);class W{constructor(e,t,a,n,r={}){this.component=e,this.onMouseDown=t,this.onMouseMove=a,this.onMouseUp=n,this.options=r,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=e=>{if(e.stopPropagation(),null===this.draggingID&&e.touches.length>0&&this.shouldAdaptTouch(e.touches[0])){let t=e.touches[0];if(this.draggingID=t.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.delayInMS){let a=!1;if(this.deferredDragStart=n=>{if(a)return!1;let r=n.clientX-t.clientX,s=n.clientY-t.clientY;return!(10>Math.sqrt(r*r+s*s))&&(a=!0,!this.options.delayInMS&&(this.onMouseDown(this.mouseEvent("mousedown",e,t)),!0))},this.options.delayInMS){let n=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==n||a||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t))}},this.onTouchMove=e=>{if(e.stopPropagation(),null!==this.draggingID){for(let t of e.touches)if(t.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(t))break;this.deferredDragStart=null}e.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",e,t));break}}},this.onTouchEndOrCancel=e=>{e.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",e,this.oldTouch)))}}mouseEvent(e,t,a){this.oldTouch=a;let n=new MouseEvent(e,{altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});return Object.defineProperty(n,"target",{value:t.target}),Object.defineProperty(n,"currentTarget",{value:t.currentTarget}),n}shouldAdaptTouch(e){if(!this.options.observeInsideOverflowScroll){let t=r.findDOMNode(this.component);for(let a=e.target;a;a=a.parentElement){let n=getComputedStyle(a).overflowY;if("scroll"===n||"auto"===n){let t=a.getBoundingClientRect();if(e.clientX>=t.left&&e.clientX<t.right&&e.clientY>=t.top&&e.clientY<t.bottom)return!1}if(a===t)break}}return!0}}var $=a(378762),X=a(273226),Z=a(402609),q=a(638889),J=a(939863),Q=a(101505),ee=a(251960),et=a(456104),ea=a(752353),en=a(126911),er=a(397065),es=a(340514),el=a(91408),ei=a(163023),eo=a(901536),ec=a(501114),ed=a(283942),ep=a(862442),eu=a(869156),em=a(457630),eh=a(678340),eg=a(301462),ef=a(498606),e_=a(219101),eE=a(36127),ey=a(739212);let eC=(0,n.createContext)(null);function ev({children:e}){let t=(0,n.useRef)(0),a=(0,n.useRef)({}).current,r=(0,n.useRef)(new Set).current,s=(0,n.useCallback)(()=>t.current,[]),l=(0,n.useCallback)(()=>{for(let e of r)e(t.current)},[r]),i=(0,n.useCallback)(()=>{let e=Math.max(...Object.values(a),0);e!==t.current&&(t.current=e,l())},[a,l]),o=(0,n.useCallback)((e,t)=>{a[e]=t,i()},[a,i]),c=(0,n.useCallback)(e=>{delete a[e],i()},[a,i]),d=(0,n.useCallback)(e=>{r.add(e)},[r]),p=(0,n.useCallback)(e=>{r.delete(e)},[r]),u=(0,n.useMemo)(()=>({getWidth:s,registerWidth:o,unregisterWidth:c,subscribe:d,unsubscribe:p}),[s,o,c,d,p]);return n.createElement(eC.Provider,{value:u},e)}let eb=()=>{let e=(0,n.useContext)(eC);if(!e)throw Error("useRowWidthsContext must be used within a RowWidthsProvider");return e};var eS=a(7959),eT=a(96328),ew=a(921100),ek=a(484248);function eI({modeNames:e}){let t=(0,D.GS)();if(0===e.length)return null;let a=1===e.length?e[0]:e[0]+" + "+(e.length-1);return n.createElement("div",{className:ew.Io,"data-testid":"variable-mode-pill","data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,J.t)("variables.mode_pill.tooltip",{listOfModes:(0,eT.Yx)(e)})},!t&&n.createElement(ei.B,{className:ew.nW,svg:ek.A}),n.createElement("div",{className:ew.XW},a))}var eN=a(872429),eP=a(96796),ex=a(463420),eA=a(375597),eL=a(522739),eO=a(46481),eM=a(949207),eD=a(432023),eR=a(971068),eF=a(849295),eU=a(939967),eG=a(253099),eK=a(917925),eB=a(853993);function eV(){return n.createElement("div",{className:eo.cx.flex.itemsCenter.justifyCenter.$},n.createElement("div",{className:ew.xE}))}class eH extends n.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let t=0;t<this.props.level+1;t++){let a=`[${t}]`,r=-1!==this.props.isLastMaskedAtLevels.indexOf(a),s=-1!==this.props.isMaskedAtLevels.indexOf(a),l=t===this.props.level&&this.props.mask,i=t===this.props.level&&this.props.hasChildren,o=m()(ew.dK,{[ew.TY]:this.props.displayOrder===eA.k.DOM,[ew.co]:this.props.horizontalScrollEnabled}),c=l||s||r;(this.props.horizontalScrollEnabled||!c)&&e.push(n.createElement("span",{key:t,className:ew.pZ})),r?e.push(n.createElement(ei.B,{key:`${t}-mask`,svg:i?eK.A:eB.A,className:o})):s?e.push(n.createElement(ei.B,{key:`${t}-mask`,svg:i?eG.A:eU.A,className:o})):l&&e.push(n.createElement(ei.B,{key:`${t}-mask`,svg:i?eF.A:eR.A,className:o})),this.props.hasBullet&&t===this.props.level?e.push(n.createElement(eL.D8,{"data-testid":"new-frame-bullet",key:"expand-caret",recordingKey:w.Pt(this.props,"expandCaret"),className:ew.OI,onMouseDown:this.expandMouseDown,role:"presentation"},n.createElement(eV,null))):i&&e.push(n.createElement(eL.D8,{key:"expand-caret",recordingKey:w.Pt(this.props,"expandCaret"),className:m()(ew.GE,{[ew.Fq]:this.props.horizontalScrollEnabled}),onMouseDown:this.expandMouseDown,role:"presentation"},n.createElement(eO.U,{svg:this.props.isExpanded?eM.A:eD.A},this.props.isExpanded?n.createElement(eP.O,null):n.createElement(ex.k,null))))}return e}render(){return n.createElement("span",{className:ew.Wm},this.renderNodeIndents())}}eH.displayName="Indents";var ez=a(371591),eY=a(201140),ej=a(130735),eW=a(533228),e$=a(238472),eX=a(787337),eZ=a(282046),eq=a(953696);class eJ extends w.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=w.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t,a;return this.props.locked?(e=eX.A,t=eZ.A,a=n.createElement(eY.s,null)):this.props.isAncestorLocked?(e=e$.A,a=eW.v):(e=eq.A,a=n.createElement(ej.r,null)),n.createElement("div",{className:ew.hz,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation,role:"presentation"},n.createElement(eO.U,{svg:e,fallbackSvg:t},a))}}eJ.displayName="LockIcon";var eQ=a(741944),e1=a(861726),e0=a(203910),e2=a(900607),e3=a(144919);class e4 extends w.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=w.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t;return this.props.isAncestorHidden&&this.props.visible?(e=e$.A,t=eW.v):(e=this.props.visible?e3.A:e2.A,t=this.props.visible?n.createElement(e1.l,null):n.createElement(e0.f,null)),n.createElement("div",{className:ew.yk,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation,role:"presentation"},n.createElement(eO.U,{svg:e},t))}}e4.displayName="VisibleIcon";var e8=a(930269),e5=a(211254);let e7="layer-panel-onboarding-key";function e6(e){let t=(0,eN.cJ)(),a=(e.abbreviatedStateName||e.name).replace(/\n/," ");if(t&&e.isResponsiveSet&&e.isDefaultResponsiveSet&&(a=(0,J.t)("sites.panel.home")),e.shouldShowGuids){let t=o.Egt.getOverridePathForNode(e.guid);return`${a} (${e.guid}): [${t}]`}return a}function e9(e){let t=p.q.instance.get(e.guid),a=!!t&&t.isPrimaryResponsiveNode;return n.createElement("div",{className:eo.cx.flex.$},a&&n.createElement("span",{className:eo.cx.colorTextBrand.pr8.$},(0,J.t)("sites.panel.main")))}function te(e){let[t,a]=(0,n.useState)(null),[s,l]=(0,n.useState)(!1),i=(0,eN.cJ)(),o=(0,C.md)(eE.bu)[e.guid];(0,n.useEffect)(()=>{a(e.isRenaming?e.name:null)},[e.name,e.isRenaming]);let c=e6({abbreviatedStateName:e.abbreviatedStateName,guid:e.guid,shouldShowGuids:e.shouldShowGuids,name:e.name,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),d=w.rf(e.recordingKey,e.focusOnSingleClick?"click":"dblclick",()=>{eg.F.trackFromFullscreen("action_rename_selection",{source:"click"}),e.startRenaming(e.guid)}),p=(0,n.useRef)(null),u=(0,n.useCallback)(e=>{e&&(p.current=r.findDOMNode(e),p.current?.select())},[]),h=w.AF(e.recordingKey,"change",e=>{a(e.currentTarget?.value)}),g=w.v_(e.recordingKey,"keydown",t=>{if(!s){if(t.keyCode===v.Uz.ESCAPE)e.stopRenaming(!1);else if(t.keyCode===v.Uz.ENTER)e.stopRenaming(!0,p.current?.value,c);else{if(t.keyCode!==v.Uz.TAB)return(0,ed.jr)(t,ed.W0.NO),w.aH;t.preventDefault(),e.stopRenaming(!0,p.current?.value,c),t.shiftKey?e.prevNodeGuid&&e.startRenaming(e.prevNodeGuid):e.nextNodeGuid&&e.startRenaming(e.nextNodeGuid)}}}),f=w.iQ(e.recordingKey,"blur",()=>{e.stopRenaming(!0,p.current?.value,c)}),_=(0,H.o3)(H.nt.ui3LayersVisualTreatment),E=e.horizontalScrollEnabled&&_;return n.createElement(n.Fragment,null,!e.hideSvg&&n.createElement(ez.Bf,{guid:e.guid,navigateAndPanTo:e.navigateAndPanTo,isDefaultResponsiveSet:e.isDefaultResponsiveSet,disabled:e.disabled,locked:e.locked,hovered:e.hovered,outOfView:e.outOfView,scrollLeft:e.scrollLeft,horizontalScrollEnabled:e.horizontalScrollEnabled,useUI3Icon:e.useUI3Icons}),(e.isThumbnail||e.isFavicon||e.isSocialImage)&&n.createElement(ei.B,{"data-tooltip":e.isFavicon?(0,J.t)("fullscreen.object_row.favicon"):e.isSocialImage?(0,J.t)("fullscreen.object_row.social_image"):(0,J.t)("fullscreen.object_row.file_thumbnail"),"data-tooltip-show-above":!0,"data-tooltip-type":ef.Ib.TEXT,className:ew.V3,svg:e5.A}),e.isRenaming&&n.createElement(eS.ks,{className:m()(ew.hF,e.inputTextOverridesClassName),ref:u,value:null!==t?t:e.name,onChange:h,onKeyDown:g,onBlur:f,onCompositionStart:()=>l(!0),onCompositionEnd:()=>l(!1),spellCheck:!1,autoCorrect:"off",autoCapitalize:"off"}),!e.isRenaming&&n.createElement("span",{className:m()(ew.qg,e.staticTextOverridesClassName,{[eo.cx.justifyBetween.$]:i,[eo.cx.eventsAuto.$]:e.shouldExplicitlyReceivePointerEvents}),onDoubleClick:e.focusOnSingleClick?void 0:d,onClick:e.focusOnSingleClick?d:void 0,dir:"auto"},e.horizontalScrollEnabled&&n.createElement("div",{className:ew.Xv,ref:e.layerNamePlaceholderRef},c),n.createElement("div",{className:m()(ew._k,{[ew.r]:!E||e.isHovered}),ref:e.layerNameRef},o&&o.name,!o&&c),e.explicitVariableModeNames&&e.explicitVariableModeNames.length>0&&n.createElement("div",{className:ew.pS},n.createElement(eI,{modeNames:e.explicitVariableModeNames})),!e.isHovered&&i&&n.createElement(e9,{guid:e.guid})))}function tt(e){var t;let a=(0,n.useRef)(null),r=(0,n.useRef)(null),s=(0,n.useRef)(null),l=(0,C.md)(ea.eC),i=(t=e.guid,(0,C.md)(ea.Fj).has(t)),o=(0,D.GS)(),c=o&&(0,y.kc)().ui3_layers_panel,[p,u]=(0,n.useState)(!1),h=e6({abbreviatedStateName:e.abbreviatedStateName,name:e.name,shouldShowGuids:e.shouldShowGuids,guid:e.guid,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),g=(0,n.useCallback)(()=>{let e=a.current;return!!e&&e.scrollWidth>e.offsetWidth},[]),f=(0,n.useCallback)(()=>{u(g())},[u,g]);(0,n.useEffect)(()=>{f()},[f]);let{onContextMenu:_}=e,E=(0,w.rf)(e.recordingKey,"contextmenu",(0,n.useCallback)(t=>{_&&_(e.guid,t)},[_,e.guid])),{onMouseEnter:v}=e,b=(0,n.useCallback)(t=>{f(),v&&v(e.guid,t)},[v,e.guid,f]),{lockMouseDown:S}=e,T=(0,n.useCallback)(t=>{S&&S(e.guid,t)},[S,e.guid]),{visibleMouseDown:k}=e,I=(0,n.useCallback)(t=>{k&&k(e.guid,t)},[k,e.guid]),{onDragStartCallback:N}=e,P=(0,n.useCallback)(t=>{t.dataTransfer.effectAllowed="none",null!=N&&N(e.guid,t)},[N,e.guid]),{onDragOverCallback:x}=e,A=(0,n.useCallback)(t=>{null!=x&&x(e.guid,t)},[x,e.guid]),{onDragDropCallback:L}=e,O=(0,n.useCallback)(t=>{null!=L&&L(e.guid,t)},[L,e.guid]),{onDragEnterCallback:M}=e,R=(0,n.useCallback)(t=>{null!=M&&M(e.guid,t)},[M,e.guid]),{onDragLeaveCallback:F}=e,U=(0,n.useCallback)(t=>{null!=F&&F(e.guid,t)},[F,e.guid]),G=(0,n.useCallback)(()=>(0,eh.pr)(e.nodeMemoryUsage,e.rootMemoryUsage,!0),[e.nodeMemoryUsage,e.rootMemoryUsage]),K=!e.visible||e.isAncestorHidden,B=e.locked||e.isAncestorLocked,V=(e.level+3)*(0,el.jz)(e8.indentWidthWithMargin)+((0,el.jz)(e8.scrollBarYWidth)+(0,el.jz)(e8.trackPadding))>e.panelWidth+e.scrollLeft,H={transform:`translate3d(0px, ${e.top}px, 0)`,height:eQ.FL},z=e.fixed&&0!==e.panelWidth,Y="FRAME"===e.nodeType,j=m()({[ew.nM]:!0,[ew.M4]:0===e.level,[ew.Gt]:Y&&!(0,eW.R)(e)&&!e.resizeToFit&&!e.isStateGroup,[ew.Os]:Y&&!(0,eW.R)(e)&&e.resizeToFit,[ew.t$]:Y&&(0,eW.R)(e),[ew.DT]:e.isStateGroup,[ew.a6]:(0,d.MT)(e.nodeType),[ew.uW]:"SECTION"===e.nodeType,[ew.HR]:"SYMBOL"===e.nodeType,[ew.rS]:"CODE_COMPONENT"===e.nodeType,[ew.xG]:"MODULE"===e.nodeType,[ew.KJ]:"INSTANCE"===e.nodeType,[ew.iE]:e.isStamp,[ew.Zt]:"HIGHLIGHT"===e.nodeType,[ew.HL]:"WIDGET"===e.nodeType||e.isWidgetSublayer,[ew.j3]:e.isDescendantOfSymbol,[ew.cb]:e.isDescendantOfInstance,[ew.vp]:e.isDescendantOfModule,[ew.dK]:e.mask,[ew.i9]:(0,ey.qW)(e.panelType),[ew.Zu]:!!z,[ew.lh]:!!e.layerAbove,[ew.yo]:e.isHovered,[ew.wH]:e.isSelected,[ew.ct]:e.isAncestorSelected,[ew.r9]:K,[ew.xt]:B,[ew.sz]:e.hasChildren&&e.isExpanded}),W=e.versionHistory?.activeId&&"current_version"===e.versionHistory.activeId,$=e.showMemoryUsage&&e.showInFileMemoryPercentage&&!e.isRenaming&&W,X=!e.hideRowActions&&!e.isRenaming&&!e.isReadOnly&&!e.isDragging&&!V,{registerWidth:Z,unregisterWidth:q}=eb(),J=c&&r.current&&s.current?r.current.getBoundingClientRect().right-s.current.getBoundingClientRect().left+(0,el.jz)(e8.rowActionsWidth):void 0;(0,n.useEffect)(()=>{if(J)return Z(e.guid,J),()=>q(e.guid)},[Z,q,J,e.guid]);let Q=n.createElement(n.Fragment,null,n.createElement(eJ,{recordingKey:w.Pt(e,"lockIcon"),locked:e.locked,isAncestorLocked:e.isAncestorLocked,onMouseDown:T}),n.createElement(e4,{recordingKey:w.Pt(e,"visibleIcon"),visible:e.visible,isAncestorHidden:e.isAncestorHidden,onMouseDown:I})),ee=!!c&&!!z,et=n.createElement("div",{className:ew.u4,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":p?h:null,"data-tooltip-max-lines":4,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,style:{width:ee?`${e.panelWidth}px`:`${e.panelWidth+e.scrollLeft}px`}},n.createElement(eH,{guid:e.guid,mask:e.mask,level:e.level,hasChildren:e.hasChildren,isExpanded:e.isExpanded,displayOrder:e.displayOrder,isMaskedAtLevels:e.isMaskedAtLevels,isLastMaskedAtLevels:e.isLastMaskedAtLevels,dispatch:e.dispatch,expandMouseDown:e.expandMouseDown,currentPage:e.currentPage,recordingKey:w.Pt(e,"indents"),hasBullet:i,disabled:K,locked:B,hovered:e.isHovered,outOfView:V,scrollLeft:e.scrollLeft,horizontalScrollEnabled:c}),n.createElement(te,{...e,layerNameRef:a,layerNamePlaceholderRef:r,disabled:K,locked:B,hovered:e.isHovered,outOfView:V,scrollLeft:e.scrollLeft,horizontalScrollEnabled:c,shouldExplicitlyReceivePointerEvents:ee,useUI3Icons:o}),$&&n.createElement("span",{className:ew.HY,dir:"auto"},G()),X&&n.createElement("div",{className:ew.cm},c?null:Q));return n.createElement("div",{ref:s,className:j,style:H,onContextMenu:E,onMouseEnter:b,draggable:!1,onDragOver:A,onDrop:O,onDragStart:P,onDragEnter:R,onDragLeave:U,"data-testid":e.hasChildren?"layer-row-with-children":"layer-row","data-onboarding-key":e.guid===l&&e.isSelected&&(!e.isRowInView||e.isRowInView(s))?e7:void 0},X&&c&&n.createElement("div",{className:ew.cm,style:ec.sx.absolute.wFull.eventsNone.$},n.createElement("div",{className:eo.cx.wFull.$}),n.createElement("div",{className:ew.V0},n.createElement("div",{className:ew.Hz},Q))),n.createElement(e_.e,{condition:ee,wrapper:e=>n.createElement("div",{style:ec.sx.absolute.wFull.eventsNone.$},n.createElement("div",{className:ew.n4},n.createElement("div",null,e)))},et))}function ta(e){let t=(0,ep.Z)("prototype_sections_zoom"),a=n.useCallback(e=>{t((0,em.QZ)({nodeId:e,alwaysPan:!0}))},[t]),r=(0,eu.o3)(e.guid);return n.createElement(tt,{...e,explicitVariableModeNames:r,navigateAndPanTo:a})}tt.displayName="ObjectRow";var tn=a(746806),tr=a(463546);function ts(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,et.e)({overlay:tr.xtb,priority:er.N.SECONDARY_MODAL}),s=en.y.isApple(),l=n.useMemo(()=>n.createElement(q.S,{shortcut:s?"\u2303\u21E7A":"Ctrl+Alt+Shift+A"}),[s]);return(0,ee.E)(r,ea.in,()=>{e({canShow:()=>!!(0,y.kc)().ce_al_show_msal_onboarding})}),n.createElement(es.rq,{isShowing:t,targetKey:e7,arrowPosition:tn.F_.LEFT_TITLE,trackingContextName:"MSAL Onboarding Overlay",title:n.createElement("p",{"data-testid":"msal-onboarding-title"},(0,J.tx)("fullscreen.msal_onboarding.header_with_shortcut",{msalShortcut:l})),description:(0,J.tx)("fullscreen.msal_onboarding.body"),primaryCta:{label:(0,J.tx)("general.got_it"),type:"button",onClick:a,variantOverride:"primary",ctaTrackingDescriptor:Q.c.GOT_IT},secondaryCta:{label:(0,J.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/5731482952599#suggest",ctaTrackingDescriptor:Q.c.LEARN_MORE},onClose:a,onTargetLost:a,emphasized:!0,disableHighlight:!0})}var tl=a(507956),ti=a(187882),to=a(38580);let tc=(0,a(940596).Wh)(()=>(0,to.eU)(0));var td=a(668092);function tp(e){let{top:t,width:a,guid:r,level:s,onMouseEnter:l,recordingKey:i}=e,o=w.rf(i,"click",e=>{K.bd([r])}),c={transform:`translate3d(0px, ${t}px, 0)`,width:a,height:eQ.FL},d={width:ey.iy*s*2,marginRight:1===s?ey.iy/2:0};return n.createElement("div",{className:"layer_expansion_row--layerExpansionRow--G8Twa object_row--row--HIYa5",style:c,onMouseDown:e=>e.stopPropagation(),onClick:o,onMouseEnter:l,role:"button",tabIndex:0},n.createElement("span",{className:"layer_expansion_row--layerExpansionIndent--Bg5Df object_row--indent--uZlad",style:d}),n.createElement("span",{className:"layer_expansion_row--iconWrapper--J3NJb object_row--iconWrapper--ivRSW"},n.createElement(ei.B,{svg:td.A})),n.createElement("span",{className:"layer_expansion_row--rowText--yhMnt object_row--rowText--3qo7Q ellipsis--ellipsis--Tjyfa"},(0,J.tx)("design_systems.component_properties.see_all_layers")))}class tu extends w.o6{renderPlainIndents(e){let t=[];for(let a=0;a<e+1;a++)t.push(n.createElement("span",{key:a,className:ew.pZ}));return n.createElement("span",{className:ew.Wm},t)}render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:eQ.nI},t=`${ew.nM} ${ew.bV}`;return this.props.isParentSelected&&(t+=" "+ew.ct),this.props.isDescendantOfSymbol&&(t+=" "+ew.j3),this.props.isDescendantOfInstance&&(t+=" "+ew.cb),n.createElement("div",{className:t,style:e},this.renderPlainIndents(this.props.level),this.props.sectionType===o.KjJ.FIXED?(0,J.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,J.t)("fullscreen.properties_panel.scrolls"))}}tu.displayName="SectionRow";var tm=a(357864),th=a(699670);let tg="objects_panel--dropTargetBox--4SX8i",tf=new b.V;function t_(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}class tE extends w.o6{constructor(e){super(e),this.state={scrollTop:0,scrollLeft:0,mouseDown:null,dropTarget:null,needsScrollLine:!1},this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.leftByGuid=Object.create(null),this.totalHeight=0,this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||p.q.instance,this.initializeRows=e=>{let t=this.getScene(),a=e.customRowBuilder?e.customRowBuilder():(0,tm.Sk)(t,e.topNodeFields,e.showImmutableFrameSublayers,e.temporarilyExpandedInstanceLayers,e.includeTopNode);this.topByGuid=a.topByGuid,this.leftByGuid=a.leftByGuid,this.sectionById=a.sectionById,this.totalHeight=a.totalHeight,this.cachedAllRowData=a.rowData},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let a=this.topByGuid[e];if(null==a){let t=this.getScene().get(e);t&&t.parentGuid&&K.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}this.isVerticallyVisible(a,a+eQ.FL)||this.scrollNodeIntoView(e,{forStackInsertion:t}),H.nt.ui3LayersAutoScroll.getValue()&&this.props.horizontalScrollEnabled&&this.shouldHorizontallyAutoscroll(e)&&this.scrollNodeIntoView(e,{forStackInsertion:t})},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequestY&&(this.frameRequestY=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),C.zl.set(eE.uK,{autoScroll:!1})},this.onScrollLeftChanged=(e,t)=>{this.props.horizontalScrollEnabled&&(t||this.props.stopRenaming(!1),this.nextScrollLeft=e,null==this.frameRequestX&&(this.frameRequestX=requestAnimationFrame(this.setScrollLeftState)))},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.computeScrollDelta=e=>{let t=e/eQ.FL;return eQ.FL*t*t},this.frameRequestY=null,this.frameRequestX=null,this.nextScrollTop=0,this.nextScrollLeft=0,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequestY=null},this.setScrollLeftState=()=>{this.setState({scrollLeft:this.nextScrollLeft}),this.frameRequestX=null},this.isNodeSticky=e=>((0,k.xO)(i.FigmaTeam.FIGJAM,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),a=e.parentGuid?t.get(e.parentGuid):null;for(;a&&a.guid!==this.props.currentPage;){if(this.isNodeSticky(a))return!0;a=a.parentGuid?t.get(a.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let a=this.state.scrollTop,n=(e,t,a)=>{if("object"!==e.rowType)return!1;let n=this.findStickyHeader(e,t,a);if(n){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=n:this.renderedVisibleRowProps.push(n)}return!!n},r=null;for(let s=0;s<e.length;s++)if(0===(t=e[s]).level){if(r&&n(r,r.top,t.top)||t.top>a)return;r=t}(0,l.assertDev)(!!r,"has at least one top level section"),n(r,r.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let a=t&&t.fromAIRename||!1,n=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||!this.scrollContainerEl||!this.scrollContainer)return;let r=this.topByGuid[e],s=this.state.scrollTop,l=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){n&&this.scrollContainer.scrollTo(r-1);return}let i=this.getScene().get(e);if(!i)return;a||C.zl.set(eE.uK,{autoScroll:!1});let o=this.isAncestorSticky(i);o&&r<s+eQ.FL?this.scrollContainer.scrollTo(r-eQ.FL):!o&&r<s?this.scrollContainer.scrollTo(r):r+eQ.FL>s+l&&this.scrollContainer.scrollTo(r-l/2);let c=this.leftByGuid[e];if(H.nt.ui3LayersAutoScroll.getValue()&&this.props.horizontalScrollEnabled&&this.shouldHorizontallyAutoscroll(e)&&void 0!==c){let e=Math.max(0,c-16);this.scrollContainer.scrollToLeft(e)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let a=this.getScene().get(e);if(!a)return;(0,$.sp)(this.getScene(),this.props.sceneGraphSelection,a.guid)||this.updateSelection(a.guid);let{clientX:n,clientY:r}=t;this.props.dispatch(L.j7({type:O.Rb,data:{clientX:n,clientY:r}}))},this.rowContainerMouseDown=w.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t)return;if(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),(this.props.allowToggleSelection??!0)&&(0,v.Fo)(e)){this.toggleSelected(t);return}(0,y.kc)().version_diffing&&this.props.editModeType===o.m1T.COMPARE_CHANGES&&o.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let a=(0,S.IL)(this.props.sceneGraphSelection),n=null;if(a?n=a:this.rangeSelectAnchorNodeId&&(0,$.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(n=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&n){K.GL(n,t),F.Y5.commit();return}(0,$.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,M.i)(e)||this.setState({mouseDown:new N.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,l.assertDev)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,ey.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=this.topByGuid[(0,ey.g2)(e.path,this.getScene(),this.props.currentPage)]+eQ.FL/2;return{clientY:this.clientY(t),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.scrollContainer&&this.scrollContainerEl&&this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),a=this.state.scrollTop,n=this.scrollContainerHeight();if(n>0){if(t<a){this.scrollContainer.scrollTo(a-this.computeScrollDelta(a-t));return}if(t>a+n){this.scrollContainer.scrollTo(a+this.computeScrollDelta(t-a-n));return}}let r=(0,ey.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ey.g$.Object,this.props.topNodeFields);this.state.dropTarget&&r&&this.state.dropTarget.index!==r.index&&E.H.trigger(o.JA.SNAP),(this.hasCrossedDragThreshold||!r)&&(this.expandDropTargetIfNeeded(r,t),this.setState({dropTarget:r}))}},this.onMouseUp=w.cZ(this,"mouseup",e=>{let t=this.getScene(),a=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(a=!0,3>=this.state.mouseDown.distanceTo(new N.Mi(e.clientX,e.clientY))){if(!(0,M.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):a=!1}}else if(!this.props.isReadOnly){let a=(0,ey.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ey.g$.Object,this.props.topNodeFields);if(!a)return;let{parentGuid:n,index:r,section:s}=a,l=t.get(n);if(!l||void 0===r)return;let i=e.altKey,d=(0,ey.Lc)(l,r);i?c.l7.user("duplicate-selection",()=>K.kH(l.guid,d,s)):c.l7.user("reparent-selection",()=>K.Yu(l.guid,d,s)),K.hq(l.guid),o.Egt.clearTemporarilyExpanded(),F.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(a=!0,this.isDraggingToToggle=null,F.Y5.commit()),!a)return w.aH},{recordMetadata:e=>{let t=this.getScene(),a=this.guidAtMousePosition(e.clientY),n=this.relativeY(e.clientY);(0,l.assertDev)(!!a,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let r=this.topByGuid[a];return{path:(0,ey.eT)(a,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new N.Mi(e.clientX,e.clientY))),belowAll:n>r+eQ.FL,clientX:e.clientX}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=this.topByGuid[(0,ey.g2)(e.path,this.getScene(),this.props.currentPage)]+eQ.FL/2;return e.belowAll&&(t+=eQ.FL),{clientY:this.clientY(t),clientX:e.clientX}}}}),this.onScrollContainerMouseDown=()=>{K.wr(),F.Y5.commit()},this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=r.findDOMNode(e)},this.containerMouseLeave=e=>{K.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a)return;t.stopPropagation(),(0,_.sx)("objects_panel_expand",{nonInteraction:0});let n=!a.isExpanded;t.altKey?K.sK(a.guid,n):(0,v.Fo)(t)&&!(0,S.Im)(this.props.sceneGraphSelection)?K.yF(a.guid,n):K.sq(a.guid,n),this.justToggledExpandedGuid=a.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a||this.props.isReadOnly)return;t.stopPropagation();let n=!a.locked;this.isDraggingToToggle={locked:n},c.l7.user("set-locked",()=>{K.tU(a.guid,n,t.altKey)})},this.visibleMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a||this.props.isReadOnly)return;t.stopPropagation();let n=!a.visible;this.isDraggingToToggle={visible:n},c.l7.user("set-visible",()=>{K.pr(a.guid,n,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let a=this.getScene().get(e);if(!a)return;let n=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&c.l7.user("set-locked",()=>(function(e,t,a){if(!e)return;let n=!1;tv(e,a,e=>{n=n||e.locked!==t,e.locked=t}),n&&R.wt.reportAnyPropertyChange(["locked"])})(a,e,!1)),null!=t&&c.l7.user("set-visible",()=>(function(e,t,a){if(!e)return;let n=!1;tv(e,a,e=>{n=n||e.visible!==t,e.visible=t}),n&&R.wt.reportAnyPropertyChange(["visible"])})(a,t,!1))}this.state.mouseDown||K.Uc(a.guid)};T.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=n:n()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new W(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500,observeInsideOverflowScroll:!0}),this.recalculateLayout(),this.initializeRows(this.props)}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),F.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode);let e=o.glU&&o.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e})}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),F.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode)}updateSelection(e){(0,B.S)("panel"),K.tJ([e]),F.Y5.commit(),this.props.onSelectionUpdated&&this.props.onSelectionUpdated(e)}UNSAFE_componentWillUpdate(e,t){e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid&&(this.scrollToNodeIdAfterUpdate=e.renamingGuid);let a=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,n=this.props.customRowBuilder!==e.customRowBuilder;if((a||n||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!g()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!g()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,a){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&this.scrollContainer&&(0,ey.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,a=null;for(let n of this.renderedVisibleRowProps)"object"===n.rowType&&this.scrollContainer&&(0,ey.U$)(n,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[n.guid])&&(null===t||t>n.top)&&(t=n.top,this.anchorNodeId=n.guid),(null===a||a>n.top)&&(a=n.top,this.topNodeDelta=this.topByGuid[n.guid]-n.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),this.scrollContainer){if(this.scrollToNodeIdAfterUpdate)this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate),void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate]&&(this.scrollToNodeIdAfterUpdate=null);else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let a of this.renderedVisibleRowProps)if("object"===a.rowType&&a.guid===this.anchorNodeId){t=(0,ey.U$)(a,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}}}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),a=1/0;for(let n of t){let t=this.topByGuid[n];t<a&&(a=t,e=n)}return e}findStickyHeader(e,t,a){let n=this.state.scrollTop,r=this.getScene().get(e.guid);if(!r)return null;if(this.isNodeSticky(r)&&e.hasChildren&&(e.isExpanded||e.isTemporarilyExpanded)){if(t<=n&&a>n+eQ.FL)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0};if(a>n&&a<=n+eQ.FL)return{...e,top:a-eQ.FL,layerAbove:!0};if(this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}}return null}expandDropTargetIfNeeded(e,t){let a=null;if(e&&"sticky"!==e.parentTop){let n=this.getScene().get(e.parentGuid);(0,l.assertDev)(!!n,"parentGuid should point to a valid node");let r=t>e.parentTop+eQ.FL/3&&t<e.parentTop+2*eQ.FL/3;n.uiOrderedChildren.length&&r&&(a=n.guid)}this.lastExpansionTarget!==a&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),a&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&K.Ir(a,!0)},1e3)),this.lastExpansionTarget=a)}toggleSelected(e){this.props.sceneGraphSelection[e]?K.D$([e]):(K.Dh([e]),this.rangeSelectAnchorNodeId=e),F.Y5.commit()}relativeY(e){let t=(0,I.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,I.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVerticallyVisible(e,t){if(!this.scrollContainerEl)return!0;let a=this.state.scrollTop,n=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return a<e&&t<n}shouldHorizontallyAutoscroll(e){let t=this.leftByGuid[e],a=this.props.renamingGuid===e;return void 0!==t&&!a&&t<this.state.scrollLeft-50}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,ey.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return this.scrollContainerEl&&e-this.scrollContainerEl.getBoundingClientRect().top<eQ.FL?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,a,n){return"sticky"===e?Math.min(t-a,n):Math.min(t-e,n-(e-a))}scrollContainerHeight(){return this.scrollContainerEl?this.scrollContainerEl.clientHeight:0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let a=this.scrollContainerHeight(),r=e.bottomForCanvasStackReparenting,s=eQ.FL,l="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;r&&a&&(s=this.computeStackOutlineHeight(l?"sticky":e.parentTop,r,this.state.scrollTop,a)),t=l?n.createElement("div",{key:"drop-target-box",className:tg,style:{position:"sticky",width:this.props.width,height:s,zIndex:th.Wb}}):n.createElement("div",{key:"drop-target-box",className:tg,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:s}})}let a=null;return null!=e.lineTop&&(a=n.createElement("div",{key:"drop-target-line",className:"objects_panel--dropTargetLine--vmN9u",style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}})),[t,a]}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){if(!this.props.hoveredPropDef||!this.props.hoveredPropDef.nodeIDs?.length||!this.props.hoveredPropDef.defID)return!1;let t=e.containingSymbolId;if(!t||!this.props.hoveredPropDef.nodeIDs.includes(t))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t,a){let r=t.getNode(e.guid);if(!r||!r.parentGuid)return null;let s=t.getAncestorInfo(r.parentGuid),l=t.getMaskInfo(e.guid),i=(0,$.K3)(this.props.sceneGraphSelection,e.guid);if(!s||!l)return null;let o=(s.isAncestorSelected||i)&&!s.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(r);return n.createElement(ta,{key:tf.getKeyForId(e.guid),isReadOnly:this.props.isReadOnly,...e,renderResourceUse:this.props.renderResourceUse,showMemoryUsage:this.props.showMemoryUsage,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,nodeMemoryUsage:r.nodeMemoryUsage,rootMemoryUsage:r.rootMemoryUsage,isAncestorHidden:s.isAncestorHidden,isAncestorLocked:s.isAncestorLocked,isAncestorSelected:s.isAncestorSelected,displayOrder:s.childrenDisplayOrder,isMaskedAtLevels:l.isMaskedAtLevels,isLastMaskedAtLevels:l.isLastMaskedAtLevels,panelWidth:this.props.width,scrollLeft:this.state.scrollLeft,name:r.name,abbreviatedStateName:r.isState?r.stateAbbreviatedName:null,nodeType:r.type,isStamp:(0,d.GI)(r),visible:r.visible,mask:r.mask,locked:r.locked,resizeToFit:r.resizeToFit,stackMode:r.stackMode,isStateGroup:r.isStateGroup,isState:r.isState,scrollDirection:r.scrollDirection,booleanOperation:r.booleanOperation,isStaticImage:r.hasEnabledStaticImagePaint,isGIF:r.hasEnabledAnimatedPaint,cornerRadius:r.cornerRadius,objectsPanelThumbnailId:r.objectsPanelThumbnailId,isWidgetSublayer:!!r.isInWidget,hasChildren:r.isExpandable||e.hasChildren||(0,X.vo)(r,this.getScene()),isExpanded:e.isExpanded||e.isTemporarilyExpanded,isHovered:this.props.hoveredNode===e.guid||this.props.temporarilyHoveredNodes.includes(e.guid)||o,isSelected:i,isRenaming:this.props.renamingGuid===e.guid,isDragging:!!this.state.dropTarget,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,onContextMenu:this.rowContextMenu,expandMouseDown:this.expandMouseDown,lockMouseDown:this.lockMouseDown,visibleMouseDown:this.visibleMouseDown,onMouseEnter:this.rowMouseEnter,dispatch:this.props.dispatch,shouldShowGuids:this.props.shouldShowGuids,currentPage:this.props.currentPage,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,isFavicon:this.props.faviconGuid===e.guid,isSocialImage:this.props.socialImageGuids?.split(",").includes(e.guid),isThumbnail:this.props.thumbnailGuid===e.guid,layerChangeStatus:r.nodeChangeStatus,versionHistory:this.props.versionHistory,userId:this.props.userId,hideRowActions:this.props.hideRowActions,isDefaultResponsiveSet:this.props.topNodeFields?.defaultResponsiveSetId===e.guid,isResponsiveSet:r.isResponsiveSet,panelType:this.props.panelType??ey.g$.Object,isRowInView:t=>{if(!a)return!0;let n=a.getClipContainer().getBoundingClientRect(),r=t.current;if(!r)return!0;let s=r.getBoundingClientRect();return e.fixed&&0!==this.props.width||s.top>=n.top&&s.bottom<=n.bottom}})}renderLayerExpansionRow(e){let t=tf.getKeyForId(t_(e)),a=this.props.width+(this.props.horizontalScrollEnabled?this.state.scrollLeft:0);return n.createElement(tp,{key:t,top:e.top,width:a,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>K.Uc(""),dispatch:this.props.dispatch,recordingKey:w.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)})}renderSectionHeader(e){let t=this.sectionById[e.sectionId]&&(0,$.sp)(this.getScene(),this.props.sceneGraphSelection,this.sectionById[e.sectionId].parentGuid);return n.createElement(tu,{key:tf.getKeyForId(e.sectionId),...e,width:this.props.width,isParentSelected:t,dispatch:this.props.dispatch})}render(){let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let a of(this.renderedVisibleRowProps=(0,ey.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,ey.Mq)(a,this.windowInnerHeight,this.state.scrollTop)||tf.freeKeyForId(t_(a));this.renderedVisibleRowProps.sort((e,t)=>tf.getKeyForId(t_(e))-tf.getKeyForId(t_(t)));let a=new tm.nV(this.getScene(),this.props.sceneGraphSelection),r=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?r.push(this.renderObjectRow(e,a,this.scrollContainer)):"layer-expansion"===e.rowType?r.push(this.renderLayerExpansionRow(e)):r.push(this.renderSectionHeader(e));if(this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,a=this.props.sceneGraph.get(t);a&&r.push(...this.renderDropTarget((0,ey.Gs)(a,this.topByGuid,this.props.sceneGraph,this.totalHeight,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&r.push(...this.renderDropTarget(this.state.dropTarget));let s=this.stickyHeaderGuid||!this.state.needsScrollLine?"objects_panel--scrollContainer--h6khG":"objects_panel--scrollContainerWithBorder--SR2sm objects_panel--scrollContainer--h6khG";return n.createElement(n.Fragment,null,n.createElement(ey.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return a.getNode(e)??null}}),n.createElement(x.P,{enableOverscroll:!0,recordingKey:w.Pt(this.props,"scrollContainer"),className:m()(s,{"objects_panel--hasPending--0IO3j":this.props.hasPending}),width:this.props.width,onScroll:this.onScroll,onScrollLeftChanged:this.onScrollLeftChanged,initialScrollTop:this.props.initialScrollTop,onMouseDown:this.onScrollContainerMouseDown,onContextMenu:this.onContextMenu,ref:this.scrollContainerRef,horizontalScrollBarEnabled:this.props.horizontalScrollEnabled,minContentWidth:this.props.horizontalScrollEnabled?this.props.width:void 0},n.createElement(ti.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),n.createElement(P.V,null,n.createElement("div",{className:m()("objects_panel--rowContainer--03VQD",{"objects_panel--horizontalScrollBarPadding--JfnK4":this.props.horizontalScrollEnabled}),style:{width:Math.max(this.props.scrollWidth??0,this.props.width),height:this.totalHeight},onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel"},r))))}}function ty(e){let t=(0,s.wA)(),a=(0,z.J2)((0,U.UK)().showImmutableFrameSublayers),r=(0,z.ut)(o.Ez5?.uiState().reparentIntoStackInfo,null),l=(0,z.J2)(o.Ez5.uiState().renderResourceUse),i=(0,z.J2)(o.Ez5.uiState().showMemoryUsage),c=(0,z.J2)(o.Ez5.uiState().hoveredComponentPropDef),d=(0,z.J2)(o.Ez5.uiState().showInFileMemoryPercentage),p=(0,z.J2)(o.Ez5.canvasViewState().temporarilyHoveredNodes),u=(0,V.TA)(),m=(0,s.d4)(e=>e.mirror.sceneGraphSelection),h=(0,s.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),g=(0,s.d4)(e=>e.mirror.appModel.hoveredNode),_=(0,s.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),E=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),y=(0,tl.ks)(),v=(0,A._I)(),b=(0,G.E)(),S=(0,Y.H_)(),T=(0,j.Fk)((e,t)=>{let a=e.get(t);return a?{guid:a.guid,children:a.uiOrderedChildren,defaultResponsiveSetId:a.defaultResponsiveSetId}:null},e.currentPage),w=function(){let[e,t]=(0,n.useState)(0),{subscribe:a,unsubscribe:r}=eb();return(0,n.useEffect)(()=>{let e=e=>{t(e)};return a(e),()=>{r(e)}},[a,r]),e}(),[k,I]=(0,C.fp)(tc),N=(0,f.A)(I,200);if(y&&!v)return null;let P=void 0===e.topNodeFields?T:e.topNodeFields;return n.createElement(n.Fragment,null,n.createElement(tE,{...e,currentPage:e.currentPage,sceneGraphSelection:m,objectsPanelRowRebuildCounter:h,hoveredNode:g,temporarilyExpandedInstanceLayers:_,editModeType:E,sceneGraph:S,topNodeFields:P,recordingKey:"objectsPanel",showViewChangesNotification:b,hoveredPropDef:c,showImmutableFrameSublayers:a,reparentIntoStackInfo:r,temporarilyHoveredNodes:p,dispatch:t,renderResourceUse:l,showMemoryUsage:i,showInFileMemoryPercentage:d,userId:u??void 0,horizontalScrollEnabled:e.horizontalScrollEnabled,scrollWidth:e.horizontalScrollEnabled?w:void 0,initialScrollTop:k,onScroll:N}),n.createElement(Z.p,{featureFlag:"auto_auto_layout"},n.createElement(ts,null)))}function tC(e){let t=(0,D.GS)()&&(0,y.kc)().ui3_layers_panel;return n.createElement(ev,null,n.createElement(ty,{...e,horizontalScrollEnabled:t}))}function tv(e,t,a){if(a(e),t)for(let t of e.uiOrderedChildren)tv(p.q.instance.get(t),!0,a)}tE.displayName="ObjectsPanelView"},739212:(e,t,a)=>{a.d(t,{GN:()=>C,Gs:()=>w,Lc:()=>P,M3:()=>A,Mq:()=>g,OL:()=>N,U$:()=>h,Uw:()=>f,eT:()=>E,g$:()=>m,g2:()=>y,iy:()=>v,qW:()=>x});var n=a(411855),r=a(634832),s=a(375597),l=a(587670),i=a(612028),o=a(374626),c=a(886653),d=a(752353),p=a(378762),u=a(741944),m=(e=>(e.Object="OBJECT",e.Webpage="WEBPAGE",e))(m||{});function h(e,t,a,n){return e.top+u.FL>n-t&&e.top<n+a+t||!!e.fixed}function g(e,t,a){return h(e,t/2,t,a)}function f(e,t,a){if(!e.length)return[];let n=t=>{let a,n;let s=e.length,l=0,i=s-1;if(t<=0)return 0;if(t>=e[s-1].top+u.FL)return s-1;for((0,r.assertDev)(l<=i,"binary search min <= max predicate failed");l<=i;)if((n=e[a=(l+i)/2|0]).top+u.FL<t)l=a+1;else if(n.top>t)i=a-1;else break;return a},s=t/2,l=n(a-s),i=n(a+t+s);return e.slice(l,i+1)}function _(e,t){let a=e.get(t);if((0,r.assertDev)(null!=a,"node not found in scenegraph"),!(a.isExpanded||a.isTemporarilyExpanded)||0===a.uiOrderedChildren.length)return u.FL;let n=u.FL;for(let t of(a.fixedChildrenCount>0&&(n+=2*u.nI),a.uiOrderedChildren))n+=_(e,t);return n}function E(e,t){let a=[],n=t.get(e);for((0,r.assertDev)(null!=n,"node not found in scenegraph");n&&"CANVAS"!==n.type;){let e=n.guid;n=n.parentNode,(0,r.assertDev)(null!=n,"parent node not found in scenegraph");let t=n.uiOrderedChildren.indexOf(e);a.push(t)}return a.reverse(),a}function y(e,t,a){let n=e.reduce((e,a)=>t.get(e.uiOrderedChildren[a]),t.get(a));return(0,r.assertDev)(null!=n,"node from path is not found in scenegraph"),n.guid}function C(e,t,a,n,r=!1){let s=null,l=null,i=null;for(let e in a){let t=a[e],r=t+u.FL;if(n>=t&&n<=r){s=e;break}(!l||a[e]<a[l])&&(l=e),(!i||a[e]>a[i])&&(i=e)}if(!s&&(l&&n<a[l]?s=l:i&&n>a[i]+u.FL&&(s=i)),s&&r){let a=(0,p.cX)(e,t,s);if(a)return a.guid}return s}let v=16,b=(0,c.xx)((e,t)=>{let a=1/0;return(0,p.YI)(e,t,t=>{t&&(a=Math.min(a,(0,i.F0)(e,t.guid)))}),a===1/0&&(a=0),a});function S(e,t,a,n,r){return t<a.uiOrderedChildren.length?n[a.uiOrderedChildren[t]]+("before"===r?0:u.FL):n[a.guid]+_(e,a.guid)-u.$E}function T(e,t){return e<t.fixedChildrenCount?l.KjJ.FIXED:l.KjJ.SCROLLS}function w(e,t,a,n,r){let s;let o=e.guid,c=t[o];if(e.childrenNodes.length){let a=e.childrenNodes[e.childrenNodes.length-1];a.childrenGuids.length||(s=t[a.guid]+u.FL)}else s=c+u.FL;if(!s){let r;let l=e;for(;!r&&l.parentNode&&"CANVAS"!==l.type;){let e=l.parentNode.uiOrderedChildren.map(e=>a.get(e)),t=e.findIndex(e=>e.guid===l.guid);t<e.length-1&&(r=e[t+1]),l=l.parentNode}s=r?t[r.guid]:n}return{parentGuid:o,index:r,section:void 0!==r?T(r,e):l.KjJ.SCROLLS,parentTop:c,lineTop:void 0!==r?S(a,r,e,t,"before"):void 0,lineIndent:((0,i.F0)(a,o)+1)*v,isCanvasStackReparenting:!0,bottomForCanvasStackReparenting:s}}function k(e,t,a,n,s,o,c,d){let p=n>0?Math.floor(n/v):Math.ceil(n/v),u=b(e,t)+p,m=S(e,o,s,a,c),h=o<s.fixedChildrenCount?l.KjJ.FIXED:l.KjJ.SCROLLS,g=s,f=d&&!(0,i.rV)(e,d.guid,g.guid);if(f){let t=e.get(d.guid);t&&(g=t,o=t.childrenGuids.length)}let _={parent:g,index:o+("before"===c?0:1),section:h},E=d?(0,i.F0)(e,d.guid):0,y=(0,i.F0)(e,g.guid)+1-E;for(;!f&&y>u;){let t=function(e,t){if("CANVAS"===t.parent.type||"DOCUMENT"===t.parent.type||t.index!==t.parent.uiOrderedChildren.length||t.section===l.KjJ.FIXED)return t;let a=(0,i.PA)(e,t.parent.guid);(0,r.assertDev)(null!=a,"parent node not in scenegraph");let n=a.uiOrderedChildren.indexOf(t.parent.guid);return{parent:a,index:n+1,section:T(n,a)}}(e,_);if(t!==_)_=t,y--;else break}for(;y<u;){let t=function(e,t){if(0===t.index)return t;let a=e.get(t.parent.uiOrderedChildren[t.index-1]);return((0,r.assertDev)(null!=a,"node not in scenegraph"),(0,i.nO)(a.type)&&t.index!==t.parent.fixedChildrenCount&&(a.isExpanded||a.isTemporarilyExpanded||!(a.uiOrderedChildren.length>0)))?{parent:a,index:a.uiOrderedChildren.length,section:l.KjJ.SCROLLS}:t}(e,_);if(t!==_)_=t,y++;else break}let C=_.parent.guid;return{parentGuid:C,index:_.index,section:_.section,parentTop:a[C],lineTop:m,lineIndent:y*v}}function I(e,t,a,n,s,o,c,d){let m=e.get(n);if(!m)return null;let h=a[n],g=(0,i.PA)(e,n);(0,r.assertDev)(null!=g,"parent not found");let f=g.uiOrderedChildren.indexOf(n),E=(0,i.nO)(m.type)&&!x(c),y=(n,r,l)=>k(e,t,a,s,n,r,l,d);if(E&&(0,p.K3)(t,n))return y(g,f,o>h+_(e,n)/2?"after":"before");if(E){if(o<h+u.FL/3)return y(g,f,"before");if(!(o<h+2*u.FL/3))return m.isExpanded||m.isTemporarilyExpanded?y(m,0,"before"):y(g,f,"after");{let t=e.get(n);return t?{parentGuid:n,index:t.fixedChildrenCount,section:l.KjJ.SCROLLS,parentTop:h}:null}}if(!(o>h+u.FL))return y(g,f,o>h+u.FL/2||x(c)&&0===h?"after":"before");{let t=m;for(;"CANVAS"!==t.type;){let a=null!=t.parentGuid?e.get(t.parentGuid):null;(0,r.assertDev)(null!=a,"node not in scenegraph"),t=a}return y(t,t.uiOrderedChildren.length,"before")}}function N(e,t,a,n,s,i,o,c,d){if(o){let t=e.get(o);return t?{parentGuid:o,index:t.fixedChildrenCount,section:l.KjJ.SCROLLS,parentTop:"sticky"}:null}{let o=function(e,t){let a=null;for(let n in e){let r=e[n];t>=r.top&&t<r.top+r.height&&(!a||r.top>a.top)&&(a=r)}return a}(n,i),u=C(e,t,a,i,!0),m=null;return!u&&o?m=function(e,t,a,n,s,i,o,c){let d=(0,p.cX)(e,t,n.parentGuid);if(d)return I(e,t,a,d.guid,s,i,o,c);{var u;let i=e.get(n.parentGuid);return(0,r.assertDev)(null!=i,"parent node not in scenegraph"),u=n.type===l.KjJ.FIXED?0:i.fixedChildrenCount,k(e,t,a,s,i,u,"before",c)}}(e,t,a,o,s,i,c,d):u&&(m=I(e,t,a,u,s,i,c,d)),m&&o&&o.parentGuid===m.parentGuid&&(m.section=o.type),m}}function P(e,t){return e.childrenDisplayOrder===s.k.DESIGN?e.uiOrderedChildren.length-t:t}function x(e){return"WEBPAGE"===e}function A({getNode:e,selection:t}){let[a,r]=(0,o.fp)(d.Fj),[s,l]=(0,o.fp)(d.GY),i=(0,n.useCallback)(()=>{r(new Set),l(new Set)},[r,l]);return(0,n.useEffect)(()=>{if(!s.size)return;if(!function(e,t,a){let n=Object.keys(e);return!!n.length&&n.every(e=>{let n=a(e);for(;n&&"CANVAS"!==n.type;){if(t.has(n.guid))return!0;n=n.parentNode}return!1})}(t,s,e)){i();return}let n=Object.keys(t).filter(e=>a.has(e));if(!n.length)return;if(n.length===a.size){i();return}let l=new Set(a);n.forEach(e=>l.delete(e)),r(l)},[e,a,s,i,r,t]),null}},717714:(e,t,a)=>{a.d(t,{yD:()=>iK});var n=a(411855),r=a(109388),s=a(188507),l=a(587670),i=a(86625),o=a(707458),c=a(629019),d=a.n(c),p=a(776250),u=a(91408),m=a(297666),h=a(38329),g=a(374626),f=a(153234),_=a(286640),E=a(554322),y=a(448169),C=a(192437),v=a(355819),b=a(206316),S=a(939863),T=a(392592),w=a(384252),k=a(331972),I=a(265911),N=a(798099),P=a(226055),x=a(83909),A=a(988022),L=a(356390),O=a(617453),M=a(843495),D=a(177505),R=a(318812),F=a(479118),U=a(335682),G=a(611978),K=a(860178),B=a(100197),V=a(601607),H=a(507956),z=a(283978),Y=a(662275),j=a(678340),W=a(21622),$=a(265746),X=a(696808),Z=a(634480),q=a(862442),J=a(457630),Q=a(498606),ee=a(227795),et=a(286723),ea=a(370903),en=a(995382);function er(){let e=(0,s.wA)(),t=(0,s.d4)(e=>!!e.modalShown),a=(0,s.d4)(e=>e.versionHistory.compareId),r=l.AWq.getChunkChangeCount(),i=(0,q.Z)("chunk_change_navigator_navigate"),o=(0,Z.E)(),c=n.useCallback(e=>{l.Egt.setSelectedNodeAndCanvas(e,!0),i((0,J.QZ)({nodeId:e,...et.ob}),et.kh),o(e)},[i,o]),d=n.useCallback(e=>{t||0===r||("ArrowUp"===e.key||"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key?c(l.glU.navigateToNextChange(-1)):("ArrowDown"===e.key||"ArrowRight"===e.key||"Tab"===e.key)&&c(l.glU.navigateToNextChange(1)))},[t,r,c]);return(n.useEffect(()=>{e(X.Q.dequeue({type:$._.SEE_WHATS_CHANGED}))},[e]),n.useEffect(()=>{a&&0!==r&&c(l.glU.navigateToFirstVisibleOrClosestChange())},[r,a,c]),n.useLayoutEffect(()=>{if(0!==r)return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[r,d]),0===r)?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"chunk_change_navigator--chunkChangeCount--ZFnfP"},(0,S.tx)("collaboration.feedback.change_count",{changeCount:r})),n.createElement("div",{className:"chunk_change_navigator--chunkChangeNavigator--82303"},n.createElement(ee.K0,{svg:en.A,onClick:e=>{e.stopPropagation(),c(l.glU.navigateToNextChange(-1))},"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":(0,S.t)("collaboration.feedback.previous_change"),recordingKey:"change_stepper.previous",disabled:0===r}),n.createElement(ee.K0,{svg:ea.A,onClick:e=>{e.stopPropagation(),c(l.glU.navigateToNextChange(1))},"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":(0,S.t)("collaboration.feedback.next_change"),recordingKey:"change_stepper.next",disabled:0===r})))}var es=a(415702),el=a(126049),ei=a(320063),eo=a(690260),ec=a(723325),ed=a(493323),ep=a(395281),eu=a(140908),em=a(358145),eh=a(632430),eg=a(999881),ef=a(279453),e_=a(790202),eE=a(298527);function ey(){let e=(0,s.wA)(),t=n.useRef(!1),a=(0,s.d4)(e=>e.loadingState),r=(0,s.d4)(e=>e.fileVersion),l=(0,eE.n1)(),i=(0,em.qd)(l),o=(0,g.md)((0,ef.fy7)({group:(0,eg.M)()})),c=(0,e_.je)();n.useEffect(()=>{if(!t.current&&!0===l&&!1===i&&"loaded"===o.status){t.current=!0;let n=new Set(c?.data?.map(e=>e.fileKey)??[]);for(let t of o?.data?.libraryPresetSubscriptionsV2??[])n.has(t.hubFileId)&&eh.Fz(t.hubFileId,a,r,e)}},[e,l,r,i,a,o,c])}var eC=a(813648),ev=a(594901),eb=a(933342),eS=a(833629),eT=a(243987),ew=a(428467),ek=a(435011),eI=a(284321),eN=a(234945),eP=a(693223),ex=a(378762),eA=a(998109),eL=a(756159),eO=a(426046),eM=a(715762),eD=a(498750),eR=a(563706),eF=a(26328),eU=a(140796),eG=a(48515);function eK({searchOptions:e,keyboardNavigationPath:t,keyboardNavigationColumn:a}){let r=(0,s.wA)(),i=(0,s.d4)(eF.UQ),{activeTab:o,shouldFocusSearchBar:c}=(0,s.d4)(e=>e.leftPanel),p=o===l.xae.ASSETS,u=n.useRef(null),m=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),h=(0,eU.vb)({isVisible:p,autofocus:!0,selectOnFocus:!0,ref:u});n.useEffect(()=>{let e=e=>{(eR.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===eD.Uz.KEY_2:e.altKey&&e.keyCode===eD.Uz.KEY_2)&&m!==l.m1T.TEXT&&(h(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[m,h]);let g=n.useCallback(t=>{let a;e&&((0,eF.eu)(e.type)?a=e.type:(a={type:eG.I.ALL},e.onSetAssetType(a))),r(ep.ku({query:t,searchOptions:a,entryPoint:"asset_panel"}))},[r,e]),f=d()("component_sidebar_search--searchWithViewModeToggle--nKJ2-","component_sidebar_search--negMargin--QTfpB");return null!=t?n.createElement(eU.E1,{query:i.query,onChange:g,isVisible:p,className:f,recordingKey:"componentsLibrarySearch",placeholder:(0,S.t)("design_systems.assets_panel.search"),autofocus:c,selectOnFocus:!0,hideSearchIcon:!0,entryPointForTracking:"editor:assets_panel",path:t,column:a,forwardedRef:u}):n.createElement(eU.aU,{query:i.query,onChange:g,isVisible:p,className:f,recordingKey:"componentsLibrarySearch",placeholder:(0,S.t)("design_systems.assets_panel.search"),autofocus:c,selectOnFocus:!0,hideSearchIcon:!0,forwardedRef:u,entryPointForTracking:"editor:assets_panel"})}var eB=a(196367),eV=a(183686),eH=a(243742),ez=a(672517),eY=a(663767),ej=a(57392),eW=a(173454),e$=a(397065),eX=a(142232),eZ=a(951864),eq=a(337987);function eJ({entrypoint:e,onSetKeyboardNavigationElement:t,hideIfNoUpdates:a,recordingKey:r}){let l="ui3"===(0,eH.DP)().version,i=(0,g.md)(ej.Lc),o=(0,s.d4)(eI.ao),{isLibraryModalShown:c,onToggleLibraryModal:d}=(0,eY.u)({entrypoint:e,modalType:"editor",initialTab:l&&i?eW.Wv.UPDATES:eW.Wv.LIBRARIES}),p=n.useMemo(()=>i?(0,S.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):o?(0,S.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,S.t)("fullscreen.libraries_button.tooltip.no_updates"),[i,o]),u=i||o;return((0,eX.Pf)({showBadge:u,hasChangesToPull:i,disabled:!l}),!a||i||o)?n.createElement("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library"},l?n.createElement(eQ,{"aria-label":p,toggled:c,ref:t,recordingKey:f.Pt(r,"teamLibrary"),onClick:d,htmlAttributes:{"data-onboarding-key":e$.D}},n.createElement(eV.l,null),u&&n.createElement("div",{className:"library_modal_button--badgeContainer--ebOHQ"},n.createElement("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," ")):n.createElement(ee.o5,{ref:t,recordingKey:f.Pt(r,"teamLibrary"),selected:c,"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":(0,S.t)("fullscreen.libraries_button.tooltip.no_updates"),"data-onboarding-key":e$.D,svg:eZ.A,fallbackSvg:eq.A,onClick:d,innerText:"Team Library"})):null}let eQ=(0,ez.tf)(eB.d);var e1=a(35645),e0=a.n(e1),e2=a(966712),e3=a(708389),e4=a(696673),e8=a(788744),e5=a(756317),e7=a(680681),e6=a(957987),e9=a(715173),te=a(776018),tt=a(538697);function ta(e){let{assetType:t,libraryNameByFileKey:a,onSetAssetType:r,onSetKeyboardNavigationElement:l,validAssetTypeOptions:i}=e,o=(0,s.wA)(),c=(0,s.d4)(e=>e.modalShown),d=(0,s.d4)(e=>e.dropdownShown),u=(0,s.d4)(U.tB),m=t.type===eG.I.FILE?t.fileKey:void 0,h=(0,e8.Fl)(),g=n.useCallback(()=>{c?.type===te.V&&o(Y.AS()),p.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:u?.key,assetsPanelVersion:2})},[o,c,u?.key]),f=n.useMemo(()=>{if((0,e7.NX)(h)){let e=Object.entries(a??{}).map(([e,t])=>({key:e,name:t}));return(0,e7.k9)({libraries:e,approvedLibraryKeysByResourceType:h}),e.map(({key:e})=>e)}return Object.keys(a??{}).sort((e,t)=>e3.f.LEXICOGRAPHICALLY(a[e],a[t]))},[a,h]),_=(0,eE.Ck)(),[E,y]=e0()(f,e=>!(0,e4.wJ)(e)),C=y.length>0&&_(),v=n.useMemo(()=>({format:e=>{switch(e.type){case eG.I.RECENT:return(0,S.t)("design_systems.assets_panel.dropdown_type_recents");case eG.I.ALL:return(0,S.t)("design_systems.assets_panel.dropdown_type_all_libraries");case eG.I.LOCAL:return(0,e2.kc)().dse_editor_templates_v1?(0,S.t)("design_systems.assets_panel.dropdown_type_local_assets"):(0,S.t)("design_systems.assets_panel.dropdown_type_local");case eG.I.FILE:return a[e.fileKey]}},isEqual:tn}),[a]);return n.createElement(tt.l6,{className:"sidebar_asset_type_select--select--PTmwH",id:"component-sidebar-asset-type-select",property:t,formatter:v,onChange:r,dropdownAlignment:"left",openOnKeyPressed:[eD.Uz.SPACE,eD.Uz.ENTER],inputRef:l,dispatch:o,chevronClassName:"sidebar_asset_type_select--chevron--xyZLx",inputClassName:"sidebar_asset_type_select--input--sSEn2",dropdownShown:e.useLocalState?e.dropdownShown:d,dropdownWidth:260,onShowDropdown:g,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,rightIcon:n.createElement(e6.P,{resourceId:m})},!!i[eG.I.ALL]&&n.createElement(tt.c$,{value:{type:eG.I.ALL}}),!!i[eG.I.RECENT]&&n.createElement(tt.c$,{value:{type:eG.I.RECENT}}),!!i[eG.I.LOCAL]&&n.createElement(tt.c$,{value:{type:eG.I.LOCAL}}),E.length>0?n.createElement(tt.sK,null):null,E.length>0&&!(0,e2.kc)().dse_preset_libraries?n.createElement(tt.c$,{isHeader:!0,formattedValue:u?.org?.name?(0,S.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:u.org.name}):(0,S.t)("design_systems.assets_panel.dropdown_libraries")}):null,E.map(e=>(0,e7.vR)(e)?n.createElement(tt.c$,{key:e,value:{type:eG.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(e5.FX,null)}):n.createElement(tt.c$,{key:e,value:{type:eG.I.FILE,fileKey:e},fullWidth:!0})),C&&!(0,e2.kc)().dse_preset_libraries?n.createElement(tt.sK,null):null,C&&!(0,e2.kc)().dse_preset_libraries?n.createElement(tt.c$,{isHeader:!0,formattedValue:(0,S.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,C&&y.map(e=>n.createElement(tt.c$,{key:e,value:{type:eG.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(e9.t,null)})))}function tn(e,t){return e.type===eG.I.FILE&&t.type===eG.I.FILE?e.fileKey===t.fileKey:e.type===t.type}var tr=a(280999),ts=a(731719);function tl({disabled:e,isList:t,onSetKeyboardNavigationElement:a,onToggleViewMode:r,recordingKey:s}){let l=t?(0,S.t)("design_systems.assets_panel.show_as_grid"):(0,S.t)("design_systems.assets_panel.show_as_list");return n.createElement(ee.K0,{ref:a,recordingKey:f.Pt(s,"toggleComponentsSidebarViewMode"),"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":l,svg:t?tr.A:ts.A,onClick:r,disabled:e})}var ti=a(135076),to=a(895235),tc=a(646240),td=a(572206),tp=a(901536),tu=a(154483),tm=a(175290),th=a(286954),tg=a(452246),tf=a(44892),t_=a(146817),tE=a(593779),ty=a(774442),tC=a(99506),tv=a(914214),tb=a(875387);function tS(e){let t=(0,ty.a)(tC._Y.DESIGN),a=(0,s.d4)(ew.getPermissionsState),r=(0,U.q5)(),l=s.d4(tv.x)?.id,{currentUserOrgId:i}=a,o=!!(i&&(0,ew.canGuestOrg)(i,a)),c=!!(l&&(0,ew.hasActiveEduTeam)(a,l));return(0,n.useMemo)(()=>t.transform(t=>(function({canGuestOrg:e,hasProTeamPaidStatus:t,openFile:a,userId:n,hasActiveEduTeam:r,assetResourceId:s}){return!!a&&!!n&&(!!e||!!t||!!r||!!((0,e2.kc)().dse_preset_libraries&&(0,e4.wJ)(s))&&g.zl.get(tb.q).has((0,tE.l)(s)))})({canGuestOrg:o,hasProTeamPaidStatus:t,openFile:r,hasActiveEduTeam:c,userId:l,assetResourceId:e})),[o,r,c,e,t,l])}var tT=a(473744),tw=a(151283),tk=a(534804),tI=a(575288),tN=a(416095),tP=a(267931),tx=a(809073),tA=a(237870),tL=a(743415),tO=a(239737),tM=a(746806),tD=a(511617),tR=a(915440),tF=a(976999),tU=a(447381),tG=a(837324),tK=a(733169),tB=a(830445),tV=a(694687),tH=a(132135),tz=a(321487),tY=a(216158),tj=a(984968),tW=a(421234);let t$="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",tX="asset_file_path--pathLink--lvFH3",tZ="asset_file_path--skeletonText--PIxni";function tq({assetFileKey:e,assetNodeId:t}){let a=(0,tj.ol)(),r=(0,tV.sZ)(),l=!!r||(0,eT.w5)(a),i=r?.id,o=tY.M4.useFile(e),c=(0,tR.Rs)(ef.epW,{fileKey:e},{enabled:l}),d=c?.data?.file,p=function(e,t){let a=(0,s.d4)(e=>e.hubFiles)[e];return(0,e4.wJ)(e)&&a?(0,tG.qD)(a).name:t}(e,o?.data?.name),u=function(e,t){let a=(0,e4.wJ)(e),r=(0,tK.S)(e).unwrapOr(!1),l=(0,s.d4)(U.tB),i=tY.M4.useFile(e).data;return n.useMemo(()=>{if(!r||a||!i||!l||i.key===l.key)return null;let e=(0,tH.to)(i);return(0,tD.dR)(e,{"node-id":encodeURIComponent((0,tz.E)(t))})},[t,r,i,l,a])}(e,t),m=c?.status==="loading",h=(0,tB.E_)(e),g=d?.team?.id,f=g?function(e,t){let a=location.origin;return t?`${a}/files/${t}/team/${e}`:`${a}/files/team/${e}`}(g,i):void 0,_=d?.team?.name,E=g&&_&&l,y=d?.team?.workspace?.id,C=y&&i?tW.fO(y,i):void 0,v=d?.team?.workspace?.name,b=y&&v&&l;return l&&m?n.createElement("div",{className:t$,"data-testid":"asset-file-path-loader"},n.createElement(tF.Wi,{className:tZ,opacity:50}),"/",n.createElement(tF.Wi,{className:tZ,opacity:50})):n.createElement("div",{className:t$},b&&n.createElement(n.Fragment,null,n.createElement(tU.q,{tooltipText:v},n.createElement("a",{href:C,target:"_blank",className:tX},v)),"/"),E&&n.createElement(n.Fragment,null,n.createElement(tU.q,{tooltipText:_},n.createElement("a",{href:f,target:"_blank",className:tX},_)),"/"),n.createElement(tU.q,{tooltipText:p},u?n.createElement("a",{href:u,target:"_blank",className:tX},p):n.createElement("span",null,p)),(0,e2.kc)().dse_preset_libraries&&h&&n.createElement("div",{className:tp.cx.flex.alignCenter.justifyCenter.ml2.$},n.createElement(e9.S,{hubFileId:e,showTooltip:!0})))}var tJ=a(103339),tQ=a(504440),t1=a(343887),t0=a(470370),t2=a(376406),t3=a(946689),t4=a(449124),t8=a(163023),t5=a(46481),t7=a(722261),t6=a(220747),t9=a(29680),ae=a(237929),at=a(273226),aa=a(986231),an=a(564577),ar=a(67294),as=a(296045),al=a(371751);function ai({assetKey:e,type:t,updatedAt:a}){let r=(0,al.R8)({assetKey:e,type:t}),{avatar:s,authorName:l}=n.useMemo(()=>{if("loaded"!==r.status||!r.data)return{avatar:null,authorName:null};if("community"===r.data.type)return{avatar:n.createElement(as.e,{entity:(0,al.M)(r.data.communityProfile),size:ar.Pf.SMALL}),authorName:r.data.communityProfile.name};let e=(0,al.G5)(r.data.user);return null!=e&&e.img_url&&(e.handle||e.name)?{avatar:n.createElement(ar.H8,{user:e,size:ar.Pf.SMALL}),authorName:e.handle}:{avatar:null,authorName:null}},[r]);return"loading"===r.status?n.createElement(tF.Wi,{className:tp.cx.h16.w100.$,animationType:tF.JR.LIGHT_SHIMMER}):s&&l?n.createElement("div",{className:"asset_updated_details--updatedAtAvatar--uf4Gy"},s,n.createElement("span",{className:"asset_updated_details--handle--63B8y"},l),a?n.createElement(n.Fragment,null,n.createElement("span",{className:"asset_updated_details--dot--SoliI"},"\xb7"),n.createElement(an.h1,{date:a})):null):a?n.createElement("div",{className:"asset_updated_details--updatedAt--eam-d"},(0,S.tx)("design_systems.assets_panel.updated_at",{updatedAt:n.createElement(an.h1,{date:a})})):null}var ao=a(790429),ac=a(534611);function ad({renderedAssetData:e}){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown),r=n.useMemo(()=>{let t=e?.nodeData?.moduleFrameData?.selectedFrameGUID;return null==t||t===ac.AD?{type:"all"}:{type:"guid",guid:t}},[e?.nodeData?.moduleFrameData?.selectedFrameGUID]),i=n.useCallback(e=>{let t="all"===e.type?ac.AD:e.guid;l.glU.setPlaygroundSelectedNode(t)},[]),{nodeData:o}=e,c=n.useMemo(()=>({format:t=>{if("all"===t.type)return"All frames";let a=e?.nodeData?.moduleFrameData?.frames??{};return a[t.guid]?.name??""}}),[e?.nodeData?.moduleFrameData?.frames]);if(null==o)return null;let{playgroundGUID:d,moduleFrameData:p}=o;if(!d||null==p)return null;let u=Object.keys(p.frames??{});return u.length<2?null:n.createElement("div",{className:"playground_module_frame_section--wrapper--65QB6"},n.createElement("div",{className:"playground_module_frame_section--title--PCfEU"},(0,S.tx)("design_systems.assets_panel.frames")),n.createElement(tt.l6,{id:"playground-module-frame-select",property:r,formatter:c,dispatch:t,onChange:i,dropdownShown:a},n.createElement(tt.c$,{value:{type:"all"}}),n.createElement(tt.sK,null),u.map(e=>n.createElement(tt.c$,{key:e,value:{type:"guid",guid:e}}))))}var ap=a(812115),au=a(930269);let am=(0,u.jz)(au.figmaComponentFlyoutTextMaxCollapsedHeight);function ah({description:e,description_rt:t}){let a=n.useRef(null),[r,s]=n.useState(!0),[l,i]=n.useState(!1),o=(0,em.ZC)(e);n.useEffect(()=>{e&&a.current&&o!==e&&s(a.current.scrollHeight>am)},[e,o]);let c=n.useCallback(()=>{r&&i(!0),s(!r)},[r]);if(!e&&!t)return null;let p=!!e&&(r||l);return n.createElement("div",{className:"truncated_component_description--documentationSection--87RCO"},t?n.createElement("div",null,n.createElement(ap.R,{fallback:n.createElement(ed.kt,null),errorFallback:null,value:t,quillClassName:d()("truncated_component_description--quill--yYiwV",{"truncated_component_description--quillCollapsed--3DiWp":r}),quillInnerRef:a})):n.createElement("div",{ref:a,className:d()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":r},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto"},e),p&&n.createElement("button",{className:"truncated_component_description--showMore--brfX6",onClick:c},r?(0,S.tx)("design_systems.assets_panel.show_more"):(0,S.tx)("design_systems.assets_panel.show_less")))}var ag=a(313888),af=a(132208),a_=a(798415);let aE=(0,tu.fv)();function ay({renderedAssetData:e,errorType:t,canViewPlayground:a,onInsert:r,shouldHideError:s,onSetShouldHideError:l}){let i=(0,t9.T3)(),[o,c]=n.useState(!1),d=(0,P.GS)();n.useEffect(()=>{c(!1),l(!1)},[e.asset,l]);let p=(0,ao.S)(e.asset),u=(0,aa.Y)(e.asset),m=n.useMemo(()=>(0,ae.kH)(e.asset.name??""),[e.asset.name]),h=n.useRef(null),g=(0,t2.NG)({text:m,textRef:h}),f=n.useMemo(()=>aE(e.asset),[e.asset]),_=(0,e4.wJ)(f),E=e.asset,y=n.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let a=i.get(t);if(!a)return"";let n=i.get(a.symbolId??"");return n?(n.isState?n.parentGuid:n.guid)??"":""},[e,i]),C=n.useMemo(()=>{if(t)return{errorType:t,shouldHideError:s,setShouldHideError:l}},[t,s,l]),v=_&&(0,e2.kc)().presets_baseline?(0,S.tx)("design_systems.assets_panel.insert"):e.asset.type===eW.PW.MODULE&&(0,e2.kc)().dse_editor_templates_v1?(0,S.tx)("design_systems.assets_panel.insert_template"):(0,S.tx)("design_systems.assets_panel.insert_instance");return n.createElement("div",{className:"component_flyout_body--bodyWrapper--CoGX-"},p&&!o&&n.createElement("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(t4.z,{orientation:"vertical",iconSrc:af.A,onClose:()=>c(!0),variant:"design"},(0,S.tx)("design_systems.assets_panel.update_banner"))),n.createElement("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p"},n.createElement("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":g?m:void 0,"data-tooltip-type":Q.Ib.TEXT,ref:h},m),!!u&&u>1&&n.createElement("div",{className:"component_flyout_body--numVariants--nureW"},(0,S.tx)("design_systems.assets_panel.variant_count",{numVariants:u}))),n.createElement("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p"},n.createElement(ah,{description:E.description,description_rt:E.description_rt})),n.createElement("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p"},n.createElement(ai,{assetKey:(0,tN.Av)(E),type:E.type,updatedAt:E.updated_at})),n.createElement("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p"},(0,e2.kc)().dse_fpl_wave_1&&d?n.createElement(tQ.IK,{onClick:r},v):n.createElement(t3.$$,{onClick:r,fullWidth:!0},v)),a&&!e?.nodeData&&!C&&n.createElement("div",{className:"component_flyout_body--skeletonWrapper--urKH5"},n.createElement(tF.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),n.createElement(tF.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})),a&&(e?.nodeData||C)&&n.createElement(t9.q0.Provider,{value:i},(0,e2.kc)().dse_editor_templates_v1&&(0,e2.kc)().dse_editor_templates_frames&&n.createElement(ad,{renderedAssetData:e}),n.createElement("div",{className:"component_flyout_body--propsContainer--w8pmU"},n.createElement(t6.x,{componentProps:e.nodeData?.componentProps,moduleProps:e.nodeData?.moduleProps,moduleFrameData:e.nodeData?.moduleFrameData??void 0,label:n.createElement(aC,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:y,sceneGraph:i,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",containerWidth:at.O2.UNBOUNDED,errorData:C,shouldShowDividerAboveProps:!0})),n.createElement("div",{className:"component_flyout_body--modeContainer--8n5p5"},n.createElement(t7.b,{fill:!0,modes:e.nodeData?.modeData||{}}))))}function aC({renderedAssetData:e}){let t=n.useCallback(()=>{e.refetchAndResetScene()},[e]);return n.createElement("div",{className:"component_flyout_body--playgroundHeader--lQfDc"},n.createElement("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(t8.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:ag.A}),(0,S.tx)("design_systems.assets_panel.playground_label")),(0,e2.kc)().dse_fpl_wave_1?n.createElement("span",{className:"component_flyout_body--resetButtonContainer--fCSjD"},n.createElement(t1.K,{"aria-label":(0,S.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,S.t)("design_systems.playground.reset_properties"),"data-tooltip-type":Q.Ib.TEXT}},n.createElement(t5.U,{svg:a_.A},n.createElement(t0.N,null)))):n.createElement(ee.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:a_.A,onClick:t,"data-tooltip":(0,S.t)("design_systems.playground.reset_properties"),"data-tooltip-type":Q.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"}))}var av=a(428654),ab=a(141123),aS=a(232205),aT=a(186380);a(566418);let aw="component_flyout_thumbnail--thumbnail--p3jV2";function ak({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:a,setFlyoutHidden:r,sectionPosition:s,sectionNameForTracking:l,sectionDepth:i}){let o=n.useCallback(()=>{r(!0)},[r]),{onInsertableResourcePointerDown:c,dragState:d}=(0,aS.j)({resource:t.asset,isList:!1,clickToInsert:!1,sourceForTracking:"asset-description-preview",fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:o,onPointerUpWithoutInsert:a,sectionPosition:s,sectionNameForTracking:l,sectionDepth:i}),p=n.useMemo(()=>{let e=(0,tf.zR)(t.asset,null);if(null!=e)return av.F.format(e)},[t.asset]);return n.createElement("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:p?{backgroundColor:p}:void 0},e&&t?.thumbnailData&&t.hasChangesToReset?n.createElement("img",{className:aw,src:t.thumbnailData.src,alt:(0,S.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):n.createElement(aT.M,{className:aw,draggable:!1,key:(0,t_.V)(t.asset),item:t.asset,shouldGenerateLocalThumbnail:!1}),n.createElement(ab.q,{dragState:d,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0}))}let aI={maxWidth:640,maxHeight:480},aN=(0,tu.fv)();function aP({asset:e,onInsert:t,onLoaded:a,flyoutHidden:r,onCloseIfHidden:i,setFlyoutHidden:o,sectionPosition:c,sectionNameForTracking:d,sectionDepth:p}){let u=tS(aN(e)),[m,h]=n.useState(!1),g=n.useCallback(()=>h(!1),[]),f=(0,tJ.MO)({canvasAsset:e,canViewPlaygroundQueryResult:u,onLoaded:a,onError:g,thumbnailOptions:aI}),_=(0,tP.H)(),E=(0,s.d4)(e=>e.fileVersion),y=(0,em.ZC)(E);if(n.useEffect(()=>{f?.state==="LOADED"&&f?.currentAssetData?.nodeData?.playgroundGUID&&null!=y&&y!==E&&(_(),l.glU.clearPlaygroundScene())},[E,y,_,e.type,f]),!f)return n.createElement(ed.kt,{className:"component_flyout--spinner--c-wap"});let C="LOADED"===f.state?f.currentAssetData:f.previousAssetData,v="ERROR"===f.state?f.errorType:void 0;return n.createElement("div",{className:"component_flyout--wrapper--96Jih"},n.createElement(ak,{renderedAssetData:C,canViewPlayground:u.unwrapOr(!1),onCloseIfHidden:i,setFlyoutHidden:o,sectionPosition:c,sectionNameForTracking:d,sectionDepth:p}),!r&&n.createElement(ay,{renderedAssetData:C,errorType:v,canViewPlayground:u.unwrapOr(!1),onInsert:t,onSetShouldHideError:h,shouldHideError:m}))}var ax=a(180715),aA=a(837746);let aL=(0,u.jz)(aA.LdP),aO=(0,u.jz)(aA.wkK),aM=(0,tu.fv)(),aD=(0,tA.Ju)(function({asset:e,searchSessionId:t,query:a,sectionPosition:l,sectionNameForTracking:i,assetTypeDropdownSelection:o,sectionDepth:c,containerWidth:d,onGetKeyboardNavigationItemById:u}){let m=n.useRef(null),h=(0,tc.Xr)(ax.T),g=n.useMemo(()=>aM(e),[e]),f=tS(g),_=(0,e8.cm)(g),E=(0,U.q5)(),y=(0,s.wA)(),C=(0,s.d4)(e=>(0,eI.e_)(e).local.thumbnails),v=(0,tP.H)(),b=(0,s.d4)(e=>e.instanceSwapPickerShown),T=(0,tL.k)(),w=(0,eb.tM)();(0,ei.h)(()=>{p.az.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,t_.V)(e),assetType:(0,t_.q)(e.type),fileKey:g,isLocal:e.isLocal,fileParentOrgId:E?.parentOrgId??void 0,fileTeamId:E?.teamId??void 0,assetsPanelVersion:T,partnerType:(0,tw.X)(g),queryId:w??void 0})}),(0,ei.h)(()=>()=>{y((0,th.vq)()),h(!1)}),n.useEffect(()=>{if(!(0,tN.dx)(e)||!e.isLocal)return;let t=e.node_id?C[e.node_id]:null,a=e.type===eW.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==a&&requestAnimationFrame(()=>{let t=(0,tf.r2)(e.node_id);null!=t&&y(tg.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],source:eW.$1.LOCAL}))})},[e,y,C]);let k=n.useCallback(()=>{requestAnimationFrame(()=>m?.current?.ensureModalOnScreen())},[]),I=n.useCallback(()=>{b?.isShown&&y((0,th.vq)())},[y,b]),N=(0,tk.Hu)(g),P=(0,tO.Nv)(!0),x=n.useCallback(()=>{if("loaded"!==f.status)return;let n=L.Y5.getViewportInfo(),r={canvasPosition:{x:n.offsetX,y:n.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new td.Mi(.5,.5),storeInRecentsKey:tx.$A.Design,useSmartPositioning:!0,fromPlayground:f.data};e.type===eW.PW.COMPONENT?y((0,eh.Yf)({item:e,...r})):e.type===eW.PW.STATE_GROUP?y((0,eh.b$)({item:e,...r})):e.type===eW.PW.MODULE&&y((0,eh.Bs)({item:e,...r,afterModuleInsertion:()=>L.Y5.triggerAction("commit")}));let s={aiResultsEnabled:P,assetKey:(0,tN.Av)(e),assetType:(0,t_.q)(e.type),queryId:w??void 0,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,assetTypeDropdownSelection:o,assetsPanelVersion:T,fileKey:E?.key??void 0,fileParentOrgId:E?.parentOrgId??void 0,fileTeamId:E?.teamId??void 0,isExample:(0,tT.o)(e),libraryKey:e.library_key,partnerType:(0,tw.X)(g),sectionDepth:c,sourceSection:i??void 0};p.az.trackDefinedEvent("assets_panel.flyout_insert",{...s,libraryType:N,searchSessionId:t??void 0,searchQuery:a,sectionPosition:l}),p.az.trackDefinedEvent("asset_search.result_inserted",{...s,libraryType:N,position:l,query:a,sessionId:t??void 0,entryPoint:"assets-panel"})},[f,e,g,y,o,E?.key,E?.parentOrgId,E?.teamId,N,t,a,l,i,c,T,P,w]);n.useEffect(()=>{let e=e=>{let t=r.findDOMNode(m.current?.getEl());if(t){if(!t.contains(e.target)){if(h(!1),(0,to.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;y(Y.ES({type:te.V}));return}h(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[y,h]);let A=n.useCallback(t=>{let a=t.event.code??t.event.key,n=(0,t_.V)(e),r=u?.(n);if(!r)return;let s=t.event.keyCode===eD.Uz.TAB,l=t.event.shiftKey;if((0,ec.c2)(t.event,!1)){r.getItemAbove()?.focus(),t.accept();return}if((0,ec.Nt)(t.event,!1)){r.getItemBelow()?.focus(),t.accept();return}if((0,ec.yn)(a,!1)||s&&l){r.getItemToTheLeft()?.focus(),t.accept();return}if((0,ec.lv)(a,!1)||s&&!l){r.getItemToTheRight()?.focus(),t.accept();return}if("Enter"===a){x(),t.accept();return}},[e,x,u]);var O=n.createElement("div",{className:tp.cx.minW0.flex1.$},n.createElement("div",null,(0,S.t)("design_systems.assets_panel.details")),n.createElement(tm.Y,{spacing:0,direction:"horizontal"},e&&n.createElement(tq,{assetFileKey:g,assetNodeId:e.node_id}),_&&n.createElement("div",{className:tp.cx.pr4.$},n.createElement(e5.KP,{fileKey:g,variant:"secondary",tooltipLocation:"below"}))));let[M,D,R]=(0,tI.J)(!1),F=n.useCallback(()=>{M.current&&v()},[M,v]);return"loaded"!==f.status?null:n.createElement(tM.vx,{alwaysEnsureModalOnScreen:!0,allowAutoExpanding:!0,canRenderBelowViewport:!1,headerSize:"large",initialPosition:new td.Mi(d+1,aL),onClick:I,onClose:v,onKeyDown:A,title:O,truncateTitleText:!0,initialWidth:aO,ref:m,dataTestId:"component-flyout-modal",hidden:D,noCancelDragAndDrop:!0},n.createElement("div",{"data-not-draggable":!0},n.createElement(aP,{asset:e,onLoaded:k,onInsert:x,flyoutHidden:D,onCloseIfHidden:F,setFlyoutHidden:R,sectionPosition:l,sectionNameForTracking:i,sectionDepth:c})))},te.V);var aR=a(38580),aF=a(940596);let aU=(0,aF.Wh)(()=>(0,aR.eU)(0));var aG=a(811529),aK=a(669178);function aB(e,t,a){return null!=e&&(t[e.type]||e.type===eG.I.FILE&&a[e.fileKey])?e:{type:eG.I.ALL}}var aV=a(857766),aH=a(670494),az=a(875847),aY=a(532888),aj=a(238837),aW=a(372291),a$=a(233333),aX=a(794272);let aZ="searchResults";function aq(e,t){return`${t}:${e.key}`}function aJ(e){return`${e}:${aZ}:templates`}function aQ(e){return`${e}:recentlyUsed`}function a1(e){return`${e}:stickySection`}var a0=a(734013),a2=a(634832),a3=a(607283),a4=a(30637),a8=a(801161),a5=a(274071),a7=a(603396),a6=a(969504),a9=a(488094),ne=a(734017),nt=a(739212),na=a(448406),nn=a(486107),nr=a(408938);let ns=(0,tu.fv)();function nl({asset:e,fileName:t,sourceForTracking:a,thumbHeight:r,thumbLayout:l,thumbWidth:i,viewMode:o,sectionNameForTracking:c,sectionPosition:u,noFlyout:m,preventDrag:h,disableContextMenu:f}){let _=(0,s.wA)(),E=(0,s.d4)(e=>e.dropdownShown),y=(0,s.d4)(eN.dK),C=(0,s.d4)(eI.F9),v=(0,s.d4)(eI.e_),b=(0,g.md)(ax.T),S=v.assetsPanelSearch.searchOptions?.type===eG.I.ALL,T=n.useMemo(()=>ns(e),[e]),w=(0,e8.cm)(T),k=(0,tB.E_)(T),I=S&&(w||k),N=n.useRef(null),P=(0,ae.kH)(e.name),x=(0,t2.NG)({text:P,textRef:N}),A=n.useRef(null),L=(0,t2.NG)({text:t??"",textRef:A}),O=E?.type===ne.K.ASSETS_PANEL?E?.data?.component:void 0,M=O?.node_id===e.node_id,D=o===aG.Bk.List,R=D?"list-no-padding":"grid",F=!!v.assetsPanelSearch.query,G=(0,a6.F)(e,ne.K.ASSETS_PANEL,u,c),K=(0,a7.n)(e),B=(0,em.ZC)(K),V=!m;n.useEffect(()=>{K&&!B&&_(a8.jD())},[K,_,B]);let H=e.isLocal&&(0,a4.PN)()?(0,nt.eT)(e.node_id,y).join("-"):e.node_id,z="Local components"===c||"Local private components"===c||e.isLocal,{handleClick:Y,handleDoubleClick:j}=function(e,t){let a=(0,U.q5)(),r=n.useRef(null),{searchSessionId:s}=(0,eb.Gq)(),l=(0,eb.tM)(),i=n.useCallback(n=>{p.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:n,isLocalComponent:t,assetKey:(0,t_.V)(e),fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,searchSessionId:s??void 0,assetsPanelVersion:2,queryId:l??void 0})},[e,t,a?.key,a?.parentOrgId,a?.teamId,s,l]);return{handleClick:n.useCallback(()=>{r.current||(r.current=setTimeout(()=>{i(!1),r.current=null},500))},[i]),handleDoubleClick:n.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),i(!0)},[i])}}(e,z??!1),W=l!==na.rp.SMALL&&!D,$=!D&&(0,e2.kc)().api_asset_search_with_scores,X=(0,aa.Y)(e),Z=D?r:r-2,q=D?i:i-2,J=n.useMemo(()=>h?void 0:{sourceForTracking:a,clickToInsert:!1,afterSuccessfulInsert:a5.$z,sectionNameForTracking:c},[h,c,a]),Q=z?n.createElement(a9.MT,{item:e,height:Z,width:q,draggable:J,onContextMenu:f?void 0:G,shouldHideTooltip:V||M||K,isFilePublished:C,recordingNodePath:H,isSearch:F,useBaseTile:!0,hideNameOverlay:W,numVariants:X,displayType:R,sectionPosition:u,showTooltipImmediately:!1,fileName:x||L?t:void 0,alwaysShowBorder:!0}):n.createElement(a9.lX,{item:e,showName:!0,height:Z,width:q,draggable:J,onContextMenu:f?void 0:G,shouldHideTooltip:V||M||K,recordingNodePath:H,isSearch:F,useBaseTile:!0,hideNameOverlay:W,numVariants:X,displayType:R,sectionPosition:u,showTooltipImmediately:!1,fileName:x||L?t:void 0,alwaysShowBorder:!0});return n.createElement("div",{className:D?nn.AD:nn.iE,onClick:Y,onDoubleClick:j},D?Q:n.createElement("div",{className:d()(nn.QX,{[nn.Gr]:K,[nn.HR]:K&&b})},Q),W&&n.createElement("div",{role:"button",className:nn.Bm,style:{width:i}},n.createElement("span",{className:nn.UU,ref:N},P),V&&n.createElement(t8.B,{ariaHidden:!0,className:nn.OW,svg:nr.A})),W&&!!t&&n.createElement(tm.Y,{spacing:0,direction:"horizontal"},n.createElement("div",{className:d()(nn.Md,nn.Rm),ref:A,style:I?{maxWidth:i-e6.J}:{width:i}},t),I&&n.createElement(e6.P,{resourceId:T,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),$&&n.createElement(n.Fragment,null,n.createElement("div",{className:d()(nn.Md,nn.Rm),style:I?{maxWidth:i-e6.J}:{width:i}},"AI: "+(e.ai_score??"N/A")),n.createElement("div",{className:d()(nn.Md,nn.Rm),style:I?{maxWidth:i-e6.J}:{width:i}},"Lex: "+(e.lexical_score??"N/A"))),V&&D&&n.createElement(t8.B,{ariaHidden:!0,className:nn.Ki,svg:nr.A}))}var ni=a(47506),no=a(10648),nc=a(262311);let nd="library_section_header--sectionHeaderH1--P70zQ ellipsis--ellipsis--Tjyfa",np="library_section_header--sectionHeader3_redesign--TGISe ellipsis--ellipsis--Tjyfa",nu="library_section_header--sectionHeaderH3--5VrMz ellipsis--ellipsis--Tjyfa";var nm=a(949207),nh=a(432023);let ng=e=>"isExpandable"in e&&e.isExpandable,nf=(e,t)=>{switch(e){case nd:return t?"library_section_header--sectionHeaderDivider--SdrS5 ellipsis--ellipsis--Tjyfa":"library_section_header--sectionHeader1_redesign--cWZaj ellipsis--ellipsis--Tjyfa";case nu:return np;default:return"library_section_header--sectionHeader3_normal--bf4ra"}},n_=e=>{let t=[];if(e&&e.length){t.push(n.createElement("div",{className:"library_section_header--sectionHeader1_sticky--mZ4QY ellipsis--ellipsis--Tjyfa",key:e[0]},e[0]+" / ","\xa0"));let a=e.slice(1).join(" / ");t.push(n.createElement("div",{className:np,key:a},a,"\xa0"))}return t};class nE extends n.Component{componentDidUpdate(e){ng(this.props)&&ng(e)&&e.isExpanded!==this.props.isExpanded&&"h1"===this.props.size&&(0,ni.YQ)({id:"library_section_header_toggled"})}render(){let e="h1"===this.props.size?nd:nu,t=ng(this.props)?"library_section_header--sectionHeaderExpandable--hHEFq":"",a=nf(e,this.props.shouldShowDividerLine),r=ng(this.props)&&this.props.isFixed?"library_section_header--isFixed--eVHns":"";return n.createElement(ez.fu,{name:"Section Header",properties:{title:this.props.title,isExpanded:!!ng(this.props)&&this.props.isExpanded},trackingTargets:no.K.RCS},n.createElement("div",{className:d()(a,e,t,r)},ng(this.props)&&n.createElement(t8.B,{className:this.props.isExpanded?"library_section_header--expandCaretOpen--083vU library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad":"library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:this.props.isExpanded?nm.A:nh.A}),ng(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&n.createElement("div",{className:"library_section_header--breadcrumbPath--Jevbg"},this.props.breadcrumbPath,"\xa0"),ng(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?n_(this.props.stickyHeadertokens):n.createElement("div",{className:a},this.props.title),(0,e7.vR)(this.props.subscribedFileKey)&&n.createElement("div",{className:tp.cx.flex.alignCenter.justifyCenter.ml4.$},n.createElement(e5.KP,{fileKey:this.props.subscribedFileKey})),(0,e2.kc)().dse_preset_libraries&&(0,tB.TX)(this.props.subscribedFileKey)&&n.createElement("div",{className:tp.cx.flex.alignCenter.justifyCenter.ml4.$},n.createElement(e9.S,{hubFileId:this.props.subscribedFileKey,showTooltip:!0,redirectToHubFile:!0}))))}}nE.H1_HEIGHT=(0,u.hG)(nc.BS),nE.H3_HEIGHT=(0,u.hG)(nc.T);class ny extends n.Component{render(){return n.createElement("div",{className:12===this.props.size?"library_section_header--spacer12--0h1Dt":"library_section_header--spacer16--iPkYc"})}}ny.HEIGHT=(0,u.hG)(nc.FX);let nC="component_sidebar--stickyHeaderSpacer--SaKsM",nv=(0,u.hG)(nc.FX),nb=(0,u.hG)(nc.FX)/2,nS=(0,u.hG)(nc.Nz),nT=(0,u.hG)(nc.cP),nw=(0,tu.fv)();function nk({parent:e,outputElements:t,libraryNameByResourceId:a,items:r,keyPrefix:s,sharedOptions:l,sectionNameForTracking:i}){let o=(0,na.PI)(r,!0),c={layout:o,...l},d=(0,na.A5)(c),{width:p,height:m}=(0,na.rj)(c,d),h=l.isList?1:0,g=l.isList?0:nS,f=l.isList||!a?0:nT,_=m+(l.isList?nb:nv)+g+f+h+(l.isList?0:-2);(0,e2.kc)().api_asset_search_with_scores&&(_+=2*(0,u.hG)(nc.uY));let E=p+(l.isList?nb:nv)+(l.isList?0:-2),y=0,C=a3.oz.getNextRenderedElementTop(t)+nb;for(let[c,u]of r.entries()){let r=l.isList?C+y*_:C+Math.floor(y/d)*_,h=l.isList?0:3+y%d*E,g=(0,t_.V)(u),f=nw(u);t.push({parent:e,type:a3.zq.TILE,top:r,left:h,height:_,key:`${s}:${g}`,element:function({item:e,fileName:t,sourceForTracking:a,sectionNameForTracking:r,thumbLayout:s,thumbHeight:l,thumbWidth:i,isList:o,sectionPosition:c}){return n.createElement(nl,{asset:e,fileName:t,sourceForTracking:a,sectionNameForTracking:r,thumbLayout:s,thumbHeight:l,thumbWidth:i,viewMode:o?aG.Bk.List:aG.Bk.Grid,sectionPosition:c})}({containerWidth:l.containerWidth,fileName:f?a?.[f]:void 0,sourceForTracking:l.sourceForTracking,sectionNameForTracking:i,thumbLayout:o,thumbHeight:m,thumbWidth:p,isList:l.isList,item:u,isExpanded:l.isExpanded,sectionPosition:c}),item:u,numCols:d,containerWidth:l.containerWidth,sectionNameForTracking:i,sectionPosition:c}),y+=1}}let nI=(e,t,a)=>{let r=a1(a.keyPrefix),s=a3.oz.getNextRenderedElementTop(t),l={parent:e,type:a3.zq.ROW,top:s,height:"h1"==a.size?nE.H1_HEIGHT:nE.H3_HEIGHT,key:r,element:n.createElement(nE,{size:a.size,isExpandable:!0,isExpanded:a.isExpanded,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,isFixed:!1,subscribedFileKey:a.subscribedFileKey}),isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:a.isExpanded,getExpandableElement:e=>n.createElement(nE,{size:a.size,isExpandable:!0,isExpanded:e,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,subscribedFileKey:a.subscribedFileKey}),sectionNameForTracking:a.sectionNameForTracking,rowType:a.rowType,fixedElement:n.createElement(n.Fragment,null,n.createElement("div",{className:nC}),n.createElement(nE,{size:"h1",isExpandable:!0,isExpanded:a.isExpanded,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,isFixed:!0,subscribedFileKey:a.subscribedFileKey}))};return t.push(l),l};function nN({sectionHeaderText:e,isFixed:t}){return n.createElement("div",{className:d()("component_sidebar--sectionHeader--v0N1h",t?"component_sidebar--isFixed--orinE":"")},n.createElement("div",{className:"component_sidebar--sectionHeaderText--hDKu5"},e))}function nP(e,t,a){let r=a3.oz.getNextRenderedElementTop(e),s={key:`${a.keyPrefix}:sectionHeader:${t}`,isSticky:!0,parent:null,isFixed:!1,type:a3.zq.ROW,top:r,height:40,element:n.createElement(nN,{sectionHeaderText:t,isFixed:!1}),fixedElement:n.createElement(n.Fragment,null,n.createElement("div",{className:nC}),n.createElement(nN,{sectionHeaderText:t,isFixed:!0})),isStaticRow:!0,sectionNameForTracking:a.sectionNameForTracking};return e.push(s),s}function nx({outputElements:e,results:t,moreResults:a,showMoreResults:r,keyPrefix:s,overallOptions:l,libraryNameByResourceId:i,toggleShowMoreResults:o,parent:c}){if(t.length>0&&nk({parent:c??null,outputElements:e,items:t,keyPrefix:`${s}:results`,sharedOptions:l,libraryNameByResourceId:i,sectionNameForTracking:"Primary search results"}),a.length>0){let t=a3.oz.getNextRenderedElementTop(e);e.push({parent:c??null,type:a3.zq.ROW,top:t,height:40,key:`${s}:moreResultsLink`,element:n.createElement("div",{className:"component_sidebar--text--g20jk"},r&&(0,S.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!r&&n.createElement("a",{className:"component_sidebar--link--I-ane blue_link--blueLink--9rlnd",onClick:o},(0,S.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:a.length}))),sectionNameForTracking:"More search results"}),r&&nk({parent:null,outputElements:e,items:a,keyPrefix:`${s}:moreResults`,sharedOptions:l,libraryNameByResourceId:i,sectionNameForTracking:"More search results"})}}function nA({prevParent:e,outputElements:t,inputSubtree:a,inputParentTree:r,keyPrefix:s,sharedOptions:l,sectionNameForTracking:i,hideTitle:o}){let c=aq(a,s),d=!o&&function(e,t){switch(e.type){case"FILE":return""!==e.name;case"PAGE":return t.subtrees.length>1;case"NAME_GROUP":return!e.skipElementsInRendering;case"ASSET_TYPE":return e.items.length>0||e.subtrees.length>0}}(a,r),p=function(e,t,a,n,r,s){if(!e)return null;let l=aq(n,r),i=a1(l),o=s.isExpanded(i,(0,a0.pR)(n.type,n.sectionNameForTracking));switch(n.type){case"FILE":return nI(null,a,{keyPrefix:l,size:"h1",title:n.name,isExpanded:o,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,subscribedFileKey:n.subscribedFileKey,sectionNameForTracking:n.sectionNameForTracking,rowType:a3.l$.LIBRARY});case"PAGE":return nI(t,a,{keyPrefix:l,title:n.name,size:"h3",isExpanded:o,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:a3.l$.PAGE});case"NAME_GROUP":return nI(t,a,{keyPrefix:l,size:"h3",title:n.flattenedPath?n.flattenedPath:n.name,isExpanded:o,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:void 0,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:a3.l$.NAME_GROUP});case"ASSET_TYPE":let c=nL(n.sectionNameForTracking);return nI(t,a,{keyPrefix:l,size:"h3",title:n.name,isExpanded:!0,sectionNameForTracking:n.sectionNameForTracking,rowType:c})}}(d,e,t,a,s,l),u=p?p.children:t,m=p||e;if((0,e2.kc)().dse_templates_proto){let e=a.subtrees.find(aj.Qe);null!=e&&nA({prevParent:null,outputElements:u,inputSubtree:e,inputParentTree:a,keyPrefix:s,sharedOptions:l,sectionNameForTracking:e.sectionNameForTracking})}switch(a.type){case"PAGE":case"ASSET_TYPE":case"FILE":nk({parent:m,outputElements:u,items:a.items,keyPrefix:c,sharedOptions:l,sectionNameForTracking:i});break;case"NAME_GROUP":a.skipElementsInRendering||nk({parent:m,outputElements:u,items:a.items,keyPrefix:c,sharedOptions:l,sectionNameForTracking:i});break;default:(0,a2.assertNever)(a.type)}for(let e of a.subtrees)(0,e2.kc)().dse_templates_proto&&(0,aj.Qe)(e)||nA({prevParent:m,outputElements:u,inputSubtree:e,inputParentTree:a,keyPrefix:c,sharedOptions:l,sectionNameForTracking:i});"FILE"===a.type&&d&&function(e,t,a){let r=a3.oz.getNextRenderedElementTop(t);t.push({parent:e,type:a3.zq.SEPARATOR,top:r,height:a.size,key:`${a.keyPrefix}:spacer${a.size}`,element:n.createElement(ny,{size:a.size})})}(m,u,{keyPrefix:c,size:16})}let nL=e=>{let t=e?.toLowerCase().includes("local");return e?.toLowerCase().includes("templates")?t?a3.l$.LOCAL_TEMPLATES:a3.l$.TEMPLATES:t?a3.l$.LOCAL_COMPONENTS:a3.l$.COMPONENTS},nO="root";var nM=a(545816);let nD=[];function nR(e,t,a){let n=[];return e&&nA({prevParent:null,outputElements:n,inputSubtree:e,inputParentTree:t,keyPrefix:nO,sharedOptions:a,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!0}),n}let nF="library-section-asset-type";function nU(e){switch(e){case"all":return{type:eG.I.ALL};case"recent":return{type:eG.I.RECENT};case"local":return{type:eG.I.LOCAL};default:return{type:eG.I.FILE,fileKey:e}}}var nG=a(56063),nK=a(639318),nB=a(336599),nV=a(705129);function nH(e){let t=(0,s.d4)(e=>e.loadingState),a=(0,s.d4)(e=>e.fileVersion),r=(0,s.d4)(e=>e.openFile),l=(0,tL.k)(),i=r&&null!=a&&(0,nV.yD)(r.key)||null,o=!(null!=i&&(0,nB.D2)(t,i));n.useEffect(()=>{o||function(e,t,a){if(nz)return;let{numLibraries:n,numComponents:r,numComponentsWithLimit:s}=e();(0,p.sx)("Assets Panel Initial Load",{numLibraries:n,numComponents:r,numComponentsWithLimit:s,assetsPanelVersion:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0}),nz=!0}(e,l,r)},[e,o,r,l])}let nz=!1;var nY=a(675678),nj=a(799569),nW=a(229033),n$=a(931828),nX=a(101505),nZ=a(206193);function nq(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.openFile),a=(0,s.d4)(e=>e.user?.id);if(!t)return null;let r=t.teamId,l=n.createElement(t3.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,p.sx)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:r,userId:a}),e((0,Y.to)({type:nW.V,data:{upsellSource:nZ.b.LIBRARY_UPSELL_BADGE,teamId:r??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:nX.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button"},(0,S.tx)("design_systems.assets_panel.library_upsell_upgrade"));return n.createElement(C.tH,{boundaryKey:"LibraryUpsellBanner",fallback:C.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:nY.FigmaTeam.MONETIZATION_UPGRADES}},n.createElement(ez.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId}},n.createElement("div",{className:"library_upsell_banner--bannerBackground--WlTVY"},n.createElement("div",{className:"library_upsell_banner--bannerContainer--SqSHa"},n.createElement(nj.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,p.sx)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:r,userId:a}),e(n$.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),n.createElement("div",{className:"library_upsell_banner--bannerContent--SUcpT"},n.createElement("div",{className:"library_upsell_banner--bannerHeader--Lbg8d"},n.createElement(t5.U,{svg:eZ.A,className:"library_upsell_banner--bannerIcon--n5IGN"},n.createElement(eV.l,null))),n.createElement("p",{className:"library_upsell_banner--bannerTitle--AN3mP"},(0,S.tx)("design_systems.assets_panel.library_upsell_header")),n.createElement("p",{className:"library_upsell_banner--bannerBody--GSg3l"},(0,S.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:l})))))))}let nJ=(0,u.hG)(aA.gNA),nQ={improved:{search:{path:[0,0],column:0},libraryModal:{path:[0,0],column:1},dropdown:{path:[0,1],column:0},viewToggle:{path:[0,1],column:1}}};function n1({viewMode:e,toggleViewMode:t,containerSizingOptions:a,recordingKey:r}){let s=(0,K.iZ)(),l=(0,U.q5)(),[i,o]=(0,g.fp)(aU),c=(0,el.A)(e=>{o(e),s&&(0,A.uE)("action_left_panel_scroll",{user:s},{assetsPanelVersion:2,tab:"assets",fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0})},500);return n.createElement(ec.dP,{recordingKey:"localComponents",className:"component_sidebar--container--Wxtr4",dataTestId:"component-sidebar","data-does-not-dismiss-component-flyout":!0},n.createElement(n0,{initialScrollTop:i,onScroll:c,viewMode:e,toggleViewMode:t,containerSizingOptions:a,recordingKey:r}))}function n0({initialScrollTop:e,onScroll:t,viewMode:a,toggleViewMode:r,containerSizingOptions:l,recordingKey:i}){let o=(0,s.wA)(),c=(0,s.d4)(e=>e.dropdownShown),d=(0,s.d4)(eI.e_),u=(0,s.d4)(ek.hK),m=(0,s.d4)(eN.dK),h=(0,s.d4)(eN.Xt),f=(0,s.d4)(eP.P),y=(0,s.d4)(e=>e.userFlags.has_dismissed_component_sidebar_library_upsell_banner),C=(0,s.d4)(e=>e.isFreeUser),v=(0,s.d4)(e=>e.user),b=(0,E.Av)(),T=(0,s.d4)(e=>e.openFile),w=(0,ev.FC)(),k=(0,a$.D)(),{query:I,searchSessionId:N}=(0,eb.Gq)();(0,nG.y)(),ey();let P=(0,ec.q_)();n.useEffect(()=>{o(ep.cr({shouldSearchDefaultLibraries:!1}))},[o]);let{assetType:x,libraryNameByFileKey:A,onSetAssetType:L,scrollContent:O,validAssetTypeOptions:D}=function({containerSizingOptions:e,viewMode:t}){var a;let r=function(){let e=(0,s.d4)(eI.e_),t=(0,s.d4)(U.tB),a=(0,s.d4)(aY.t_),r=(0,s.d4)(e=>e.hubFiles),l=(0,s.d4)(eI.MH),i=(0,s.d4)(eI.dM),o=(0,s.d4)(eI.h3),c=(0,s.d4)(eP.P),d=(0,eE.Ck)(),p=(0,e8.Fl)(),u=t?.teamId?c[t.teamId]:null,m=!!u&&(0,eT.w5)(u),h=(0,az.T9)(t?.project),g=n.useMemo(()=>(0,aG.Sg)(l,i),[l,i]),f=n.useMemo(()=>(0,aG.ND)(o),[o]),_=n.useMemo(()=>(0,aG.ff)(e,t,a,h),[e,t,a,h]),E=(0,aW.Lm)(),y=n.useMemo(()=>(0,aG.sJ)(E,a,t,e,h),[a,h,e,t,E]),C=n.useMemo(()=>d()?(0,aG.o6)(e,t,r,h):null,[d,e,t,r,h]);return(0,aH.jP)(C),n.useMemo(()=>(0,aj.Nx)({localLibraryItemsInfo:g,localTemplatesInfo:f,subscribedItemsInfo:_,subscribedTemplatesInfo:y,subscribedCommunityItemsInfo:C,defaultSubscribedItemsInfo:(0,aG.Mt)(),canPublish:m,currentFileKeyForPublish:t?(0,aV.Kz)(t)?t.sourceFileKey:t.key:null,approvedLibraryKeysByResourceType:p}),[g,f,_,y,C,m,t,p])}(),{productComponents:l,templates:i}=(0,aK.g5)(tx.$A.Design),o=(0,s.d4)(eF.q5),c=(0,a$.D)(),d=n.useMemo(()=>({productComponents:l,templates:(0,e2.u4)("dse_editor_templates_v1",i,[])}),[l,i]),u=n.useMemo(()=>o?eG.v:function(e,t,a,n=[]){let r=!!((0,e2.kc)().dse_editor_templates_v1&&a&&(a.items.length>0||t.subtrees.length>0));return{[eG.I.ALL]:!0,[eG.I.RECENT]:!!(e.length+(0,e2.u4)("dse_editor_templates_v1",n.length,0)),[eG.I.LOCAL]:t.items.length>0||t.subtrees.length>0||r,[eG.I.FILE]:!1}}(l,r.localSubtree,r.localTemplateSubtree,i),[o,l,i,r.localSubtree,r.localTemplateSubtree]),m=(a=r.subscribedFileSubtrees,n.useMemo(()=>{let e={};for(let[t,n]of Object.entries(a))n&&(e[t]=n.name);return e},[a])),{assetType:h,onSetAssetType:g}=function(e,t){let[a,r]=n.useState(!1),[l,i]=n.useState({type:eG.I.ALL}),o=(0,s.wA)(),c=(0,s.d4)(eF.q5),d=(0,U.q5)();n.useEffect(()=>{a||"loading"===e||(i(aB(function(){if(_.x4)try{let e=_.x4.getItem(nF);if(!e)return;return nU(e)}catch(e){return}}(),e,t)),r(!0))},[a,e,t]);let u=n.useCallback(e=>{(!c||(0,eF.eu)(e))&&(i(e),_.x4?.setItem(nF,function(e){switch(e.type){case eG.I.ALL:return"all";case eG.I.RECENT:return"recent";case eG.I.LOCAL:return"local";case eG.I.FILE:return e.fileKey}}(e)),c&&o(ep.gP({searchOptions:e})),p.az.trackDefinedEvent("assets_panel.asset_type_changed",{assetType:e.type,isSearching:!!c,fileKey:e.type===eG.I.FILE?e.fileKey:void 0,openFileKey:d?.key,fileTeamId:d?.teamId??void 0,fileOrgId:d?.parentOrgId??void 0,assetsPanelVersion:2}))},[c,o,d?.key,d?.parentOrgId,d?.teamId]),m=n.useCallback(e=>e.key===nF&&null!=e.newValue,[]),h=n.useCallback(a=>{if(!a)return;let n=nU(a);"loading"!==e&&i(aB(n,e,t))},[e,t]);return(0,_.tl)({onSync:h,shouldSyncValue:m}),{assetType:l,onSetAssetType:u}}(c?"loading":u,m),f=function({assetType:e,containerSizingOptions:t,recentlyUsedItems:a,treeWithSubtrees:r,viewMode:s}){let{library:l}=(0,aX.R)(e=>({library:e.library})),i=(0,nM.O)(),[o,c]=n.useState(!1),d=s===aG.Bk.List,p=n.useMemo(()=>({isList:d,isExpanded:a0.xO,sourceForTracking:aG.mZ,...t}),[t,d]),u=n.useMemo(()=>{let e,t;let{query:a,normalizedSearchResults:n,unsubscribedSearchResults:r}=l.assetsPanelSearch;if(!a)return nD;(0,e2.kc)().dse_editor_templates_v1?[t,e]=(0,eF._2)(n):e=n;let s=e,d=s.length+r.length;if(0===d&&(!t||0===t.length))return nD;!o&&0===s.length&&r.length>0&&c(!0);let u=[];if(t&&t.length>0&&(0,e2.kc)().dse_editor_templates_v1){let e=nP(u,(0,S.t)("design_systems.assets_panel.templates"),{keyPrefix:aJ(nO),sectionNameForTracking:"Templates search results"});nx({outputElements:u,results:t,moreResults:[],showMoreResults:!1,keyPrefix:aJ(nO),overallOptions:p,libraryNameByResourceId:i,toggleShowMoreResults:()=>{},parent:e})}if(d>0){let e=(0,e2.kc)().dse_editor_templates_v1?nP(u,(0,S.t)("design_systems.assets_panel.components"),{keyPrefix:`${nO}:${aZ}`,sectionNameForTracking:"Primary search results"}):null;nx({outputElements:u,results:s,moreResults:r,showMoreResults:o,keyPrefix:`${nO}:${aZ}`+((0,e2.kc)().dse_editor_templates_v1?"1":""),overallOptions:p,libraryNameByResourceId:i,toggleShowMoreResults:()=>{c(e=>!e)},parent:e})}return u},[i,l.assetsPanelSearch,p,o]),{productComponents:m,templates:h}=a,g=n.useMemo(()=>{if(!m.length&&!h.length)return nD;let e=[];return(0,e2.kc)().dse_editor_templates_v1?(h.length>0&&nk({parent:nP(e,(0,S.t)("design_systems.assets_panel.templates"),{keyPrefix:aQ(nO+":templates"),sectionNameForTracking:"Recently used templates"}),outputElements:e,items:h,keyPrefix:aQ(nO+":templates"),sharedOptions:p}),m.length>0&&nk({parent:nP(e,(0,S.t)("design_systems.assets_panel.components"),{keyPrefix:aQ(nO+":components"),sectionNameForTracking:"Recently used"}),outputElements:e,items:m,keyPrefix:aQ(nO+":components"),sharedOptions:p})):nk({parent:null,outputElements:e,items:m,keyPrefix:aQ(nO),sharedOptions:p}),e},[m,h,p]),f=n.useMemo(()=>(0,e2.kc)().dse_editor_templates_v1?function(e,t,a){let n=[];return e.forEach(e=>{e&&nA({prevParent:null,outputElements:n,inputSubtree:e,inputParentTree:t,keyPrefix:nO,sharedOptions:a,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!1})}),n}([r.localTemplateSubtree,r.localSubtree],r.tree,p):nR(r.localSubtree,r.tree,p),[p,r.localSubtree,r.localTemplateSubtree,r.tree]),_=n.useMemo(()=>nR(e.type===eG.I.FILE?r.subscribedFileSubtrees[e.fileKey]:void 0,r.tree,p),[e,p,r.subscribedFileSubtrees,r.tree]),E=n.useMemo(()=>{let e=[];return!function(e,t,a,n){if((0,e2.kc)().dse_templates_proto){let r=t.subtrees.find(aj.Qe);null!=r&&nA({prevParent:null,outputElements:e,inputSubtree:r,inputParentTree:t,keyPrefix:a,sharedOptions:n,sectionNameForTracking:r.sectionNameForTracking})}for(let r of(t.items.length>0&&nk({parent:null,outputElements:e,items:t.items,keyPrefix:a,sharedOptions:n}),t.subtrees))(0,e2.kc)().dse_templates_proto&&(0,aj.Qe)(r)||nA({prevParent:null,outputElements:e,inputSubtree:r,inputParentTree:t,keyPrefix:a,sharedOptions:n,sectionNameForTracking:r.sectionNameForTracking})}(e,r.tree,nO,p),e},[p,r.tree]);return l.assetsPanelSearch.query?u:e.type===eG.I.RECENT?g:e.type===eG.I.LOCAL?f:e.type===eG.I.FILE?_:E}({assetType:h,containerSizingOptions:e,recentlyUsedItems:d,treeWithSubtrees:r,viewMode:t});return{assetType:h,libraryNameByFileKey:m,onSetAssetType:g,scrollContent:f,validAssetTypeOptions:u}}({viewMode:a,containerSizingOptions:l}),[R,F]=(0,g.fp)(eL.Cl);(0,ei.h)(()=>{R&&(L({type:eG.I.FILE,fileKey:R}),F(null))});let G=(0,eC.LR)(),K=(0,s.d4)(e=>e.universalInsertModal.showing),B=n.useCallback(()=>{K&&G()},[G,K]),V=n.useCallback((e,t,a)=>{B(),o((0,Y.to)({type:aD,data:{asset:e,searchSessionId:N??void 0,query:I??void 0,sectionPosition:t,sectionNameForTracking:a,assetTypeDropdownSelection:x?.type,containerWidth:l.containerWidth,onGetKeyboardNavigationItemById:P}}))},[x,l.containerWidth,o,B,P,N,I]),H=n.useMemo(()=>({onOpenFlyout:V,assetTypeDropdownSelection:x?.type}),[x,V]);!function({allElements:e}){nH(n.useCallback(()=>{let t=e.length,a=0,n=0;for(let t of e)if(!t.key.includes("localComponents")){let e=function e(t){if(t.type===a3.zq.TILE)return 1;if(!(0,a3.We)(t)||!t.isExpanded)return 0;{let a=0;for(let n of t.children)a+=e(n);return a}}(t);a+=e,n+=Math.min(e,20)}return{numLibraries:t,numComponents:a,numComponentsWithLimit:n}},[e]))}({allElements:O});let z=a===aG.Bk.List,j=d.assetsPanelSearch,W=0===O.length,$=c?.type===ne.K.ASSETS_PANEL,X=$&&c?.data?.component||null,Z=(0,nK.K)(!0),q=n.useCallback(()=>{$||(0,M.wr)()},[$]),[J,Q]=(0,_.Vc)("has-auto-expanded-component-libraries-for-nux",!1),ee=(0,eE.Ck)(),et=n.useRef(null);n.useEffect(()=>{let e=et.current;e&&0!==O.length&&ee()&&!J&&e.expandAllComponentLibraries(308)>0&&Q(!0)},[J,ee,O.length,Q]);let ea=n.useCallback(()=>{let e=!!d.assetsPanelSearch.query,t=0===O.length;return n.createElement("div",null,e&&t&&n.createElement(eO.Wq,null),!e&&t&&n.createElement(eO.od,null))},[d.assetsPanelSearch,O.length]),en=k||j.isLoading,er=(0,eS.jO)(),es=T?.teamId?f[T.teamId]:null,el=!y&&C&&(!es||!(0,eT.w5)(es)&&(0,ew.canEditTeam)(es.id,w))&&T?.canEdit&&er&&Object.keys(d.local.components).length>0&&(0,eu.Hz)(v?.id),em=function(e,t){let a=n.useMemo(()=>e.find(e=>e.key.includes("subscribedCommunityComponents")&&e.key.includes("stickySection")),[e]);return n.useCallback(()=>{a&&t.current?.scrollToElement(a.key)},[a,t])}(O,et);return n.createElement(ti.U.Provider,{value:H},n.createElement(n2,{assetType:x,componentsEmpty:W,isList:z,isSearching:!!j.query,isComponentSidebarInitialLoading:k,libraryNameByFileKey:A,onSetAssetType:L,onToggleViewMode:r,recordingKey:i,validAssetTypeOptions:D}),en?n.createElement("div",{className:"component_sidebar--loadingSpinnerContainerWithDropdown--9b8ZI"},n.createElement(ed.kt,null)):n.createElement("div",{className:"component_sidebar--assetPanelSection--mYuo2"},n.createElement(eo.O,{ref:et,scrollContent:O,recordingKey:"componentsListContainer",isList:z,getViewportHeight:e=>e-2*b,topOffset:nJ,isTileSelected:e=>!!e.item.isLocal&&h&&(0,ex.sp)(m,h,e.item.node_id),onMouseUp:q,renderEmptyState:ea,width:l.containerWidth,className:"component_sidebar--scrollContainerFullHeight---DTUM component_sidebar--_scrollContainerBase--1rakD",initialScrollTop:e,onScroll:t,enableKeyboardNavigation:!0,shouldRefocusAfterKeyboardInsert:x.type===eG.I.RECENT,fileKey:T?.key,teamId:T?.teamId??void 0,orgId:T?.parentOrgId??void 0}),!!X&&n.createElement(ne.h,{selectedView:u,dropdownShown:c,defaultFileKeys:d.defaultPublished.fileKeys,onJumpToLocalComponent:Z,onOpenFlyout:V,usePortal:!0}),el&&n.createElement(nq,null),n.createElement(eA.Mw,{width:l.containerWidth,scrollToPreset:em})))}function n2({assetType:e,componentsEmpty:t,isList:a,isSearching:r,isComponentSidebarInitialLoading:s,libraryNameByFileKey:l,onSetAssetType:i,onToggleViewMode:o,validAssetTypeOptions:c,recordingKey:d}){let p=nQ.improved,{setKeyboardNavigationElement:u}=(0,ec.M3)({path:p.libraryModal.path,column:p.libraryModal.column}),{setKeyboardNavigationElement:m}=(0,ec.M3)({path:nQ.improved.dropdown.path,column:nQ.improved.dropdown.column}),{setKeyboardNavigationElement:h}=(0,ec.M3)({path:p.viewToggle.path,column:p.viewToggle.column});return n.createElement("div",null,n.createElement("div",{className:"component_sidebar--searchHeader--yTD7D component_sidebar--_header--nHN39"},n.createElement(eK,{searchOptions:{type:e,onSetAssetType:i},keyboardNavigationPath:p.search.path,keyboardNavigationColumn:p.search.column}),n.createElement(eJ,{entrypoint:eM.r6.ASSETS_PANEL_BUTTON,onSetKeyboardNavigationElement:u,recordingKey:d})),s||t&&!r?null:n.createElement("div",{className:"component_sidebar--pageHeader--m9FWc component_sidebar--_header--nHN39"},n.createElement(ta,{assetType:e,libraryNameByFileKey:l,onSetAssetType:i,onSetKeyboardNavigationElement:m,validAssetTypeOptions:c}),n.createElement(tl,{isList:a,onToggleViewMode:o,onSetKeyboardNavigationElement:h,recordingKey:d})))}var n3=a(44160),n4=a(622422),n8=a(819229),n5=a(721910),n7=a(75395),n6=a(163586),n9=a(201325),re=a(522739),rt=a(606576);let ra="asset_panel_folder--folderButton---mVgX";var rn=a(578482);let rr=(0,u.jz)(rn.CT),rs=(0,u.jz)(rn.qv),rl=n.forwardRef(function({keyPrefix:e,name:t,onClick:a,onContextMenu:r,previewAsset:s,recordingKey:l,disabled:i,isList:o,variant:c},p){let u=n.useMemo(()=>o?{height:rs,width:rs}:{height:rr,width:rr},[o]),m=n.createElement(n.Fragment,null,"preview"===c?n.createElement("div",{className:"asset_panel_folder--folderPreview--0ezgC"},s?n.createElement(rt.V,{keyPrefix:e,preview:s,...u}):n.createElement("div",{className:"asset_panel_folder--blankThumbnail--6v5uo",style:u})):n.createElement("div",{className:"asset_panel_folder--folderIcon--FnZdp"},n.createElement(n6.x,null)),n.createElement("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa"},t),n.createElement("div",{className:d()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===c})},n.createElement(n9.n,null)));return n.createElement("div",{className:"asset_panel_folder--folderContainer--UPeR-"},(0,e2.kc)().dse_fpl_wave_1?n.createElement(n7.E,{"aria-label":t,className:ra,onClick:a,ref:p,recordingKey:l,disabled:i,htmlAttributes:{onContextMenu:r}},m):n.createElement(re.GG,{"aria-label":t,className:ra,onClick:a,onContextMenu:r,forwardedRef:p,recordingKey:l,disabled:i},m))});var ri=a(718242),ro=a(836328),rc=a(623680),rd=a(799550);function rp({subtree:e,index:t,keyPrefix:a,depth:r}){let s=(0,ri.sN)(),{folderPath:l,currentView:i}=(0,rc.wV)(),[o]=(0,rd.MA)(),{previewAsset:c}=e,{navigateToFolder:d}=(0,rc.wV)(),p=n.useCallback(()=>{s("folderRow",d(e.name))},[s,d,e.name]),u=n.useMemo(()=>[n5.ON.CONTENTS,n5.lM.ASSETS+r,n5.tM.FOLDERS,t],[r,t]),{keyboardNavigationItem:m,setKeyboardNavigationElement:h}=(0,ec.M3)({path:u,id:e.key,disabled:(l?.length??0)>r}),{focusFirstItem:g,focusSearchBar:f}=(0,ro.rl)();(0,ro.C0)(m,0===t&&r===(l?.length??0)&&i===rc.S5.Assets);let _=(0,ro.MB)({onBoth:p,onKeyDown:g,onClick:f}),E=n.useMemo(()=>l&&l.length>r,[l,r]);return n.createElement(rl,{name:e.name,onClick:_,keyPrefix:`${a}${e.name}`,previewAsset:c,recordingKey:`assetsFolder.${e.name}`,ref:h,disabled:E,variant:"list"===o?"icon":"preview"})}var ru=a(905485),rm=a(26042),rh=a(179220),rg=a(341450),rf=a(736174),r_=a(543817);let rE="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",ry="asset_panel_tile--secondary--6CWeS",rC=(0,tu.fv)();function rv({asset:e,fileName:t,sourceForTracking:a,thumbLayout:r,thumbHeight:l,thumbWidth:i,displayType:o,viewMode:c,sectionNameForTracking:d,sectionPosition:p,sectionDepth:u,hideInlineName:m,keyboardPosition:h,isFirstTile:g=!1,isExample:f=!1,keyboardPanelDepth:_=0}){let E=n.useContext(ti.U),y=(0,s.d4)(e=>e.modalShown),C=(0,U.tS)(),{currentView:v}=(0,rc.wV)(),b=n.useMemo(()=>rC(e),[e]),S=n.useMemo(()=>f??(0,tT.Nz)(e,{isPreset:(0,e4.wJ)(b)}),[e,b,f]),T=(0,ao.J)(e,p,d),w=(0,a7.n)(e),k=(0,r_.u)({canSwap:!S,openFileKey:C??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),I=n.useCallback(()=>{y?.type!==te.V||w||T()},[w,y?.type,T]),N=n.useCallback(()=>{y?.type!==te.V&&E?.onOpenFlyout(e,p,d,u)},[y?.type,E,e,p,d,u]),P=n.useMemo(()=>({...h,path:[n5.ON.CONTENTS,n5.lM.ASSETS+_,...h.path]}),[h,_]),{folderPath:x}=(0,rc.wV)(),[A]=(0,rd.ye)(),L=v===rc.S5.Assets&&x&&A&&(x?.length??0)>_,{setKeyboardNavigationElement:O,keyboardNavigationItem:M}=(0,ec.M3)({...P,id:(0,t_.V)(e),onFocus:I,disabled:L});(0,ro.C0)(M,g&&v===rc.S5.Assets&&!L);let D=(0,rf.N)({colIndex:P.column,rowIndex:P.path[P.path.length-1],isList:!1,keyboardNavigationItem:M,onComponentInsertSwap:k,onOpenFlyout:N,item:e,sectionNameForTracking:d,sectionPosition:p,shouldRefocusAfterKeyboardInsert:v===rc.S5.Recents,sourceForTracking:aG.mZ});return n.createElement("button",{onClick:N,className:"asset_panel_tile--focusableElementWrapper--YzHK7",ref:O,onKeyDown:D},n.createElement(rS,{asset:e,fileName:t,sourceForTracking:a,thumbLayout:r,thumbHeight:l,thumbWidth:i,displayType:o,viewMode:c,sectionNameForTracking:d,sectionPosition:p,sectionDepth:u,hideInlineName:m}))}let rb=(0,tu.fv)();function rS({asset:e,fileName:t,sourceForTracking:a,thumbHeight:r,thumbWidth:l,sectionNameForTracking:i,sectionPosition:o,sectionDepth:c,hideInlineName:u,displayType:m}){let h=(0,s.wA)(),f=(0,s.d4)(eN.dK),_=(0,s.d4)(eI.F9),E=(0,s.d4)(eI.e_),y=(0,g.md)(ax.T),C=E.assetsPanelSearch.searchOptions?.type===eG.I.ALL,v=n.useMemo(()=>rb(e),[e]),b=(0,e8.cm)(v),S=(0,tB.E_)(v),T=C&&(b||S),w=n.useRef(null),k=(0,ae.kH)(e.name),I=(0,t2.NG)({text:k,textRef:w}),N=n.useRef(null),P=(0,t2.NG)({text:t??"",textRef:N}),x=!!E.assetsPanelSearch.query,A=(0,a6.F)(e,ne.K.ASSETS_PANEL,o,i),L=(0,a7.n)(e),O=(0,em.ZC)(L);n.useEffect(()=>{L&&!O&&h(a8.jD())},[L,h,O]);let M=e.isLocal&&(0,a4.PN)()?(0,nt.eT)(e.node_id,f).join("-"):e.node_id,D="Local components"===i||"Local private components"===i||e.isLocal,{handleClick:R,handleDoubleClick:F}=function(e,t){let a=(0,U.q5)(),r=n.useRef(null),{searchSessionId:s}=(0,eb.Gq)(),l=(0,eb.tM)(),i=n.useCallback(n=>{p.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:n,isLocalComponent:t,assetKey:(0,t_.V)(e),fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,searchSessionId:s??void 0,assetsPanelVersion:3,queryId:l??void 0})},[e,t,a?.key,a?.parentOrgId,a?.teamId,s,l]);return{handleClick:n.useCallback(()=>{r.current||(r.current=setTimeout(()=>{i(!1),r.current=null},500))},[i]),handleDoubleClick:n.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),i(!0)},[i])}}(e,D??!1),G="grid"===m,K=!u&&G,B=(0,e2.kc)().api_asset_search_with_scores,V=(0,aa.Y)(e),H={showName:!0,height:r,width:l,draggable:n.useMemo(()=>({sourceForTracking:a,clickToInsert:!1,afterSuccessfulInsert:a5.$z,sectionNameForTracking:i,sectionDepth:c}),[c,i,a]),onContextMenu:A,shouldHideTooltip:!0,recordingNodePath:M,isSearch:x,useBaseTile:!0,hideNameOverlay:K,numVariants:V,displayType:G?"grid":"list-no-padding",sectionPosition:o,showTooltipImmediately:!1,fileName:I||P?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:"asset_panel_tile--thumbWrapper--bNG-Y"},z=D?n.createElement(a9.MT,{item:e,isFilePublished:_,...H}):n.createElement(a9.lX,{item:e,...H});return n.createElement("div",{className:G?"asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",onClick:R,onDoubleClick:F},n.createElement("div",{className:d()(G?"asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM":"asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM",{"asset_panel_tile--shownInFlyout--7Luo3":L,"asset_panel_tile--selectedFlyoutFocus--GGV8E":L&&y})},z),K&&n.createElement("div",{className:"asset_panel_tile--nameWrapper--6O-iS",style:{width:l-2}},n.createElement("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:w},k),n.createElement("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d"},n.createElement(rg.e,{"aria-hidden":!0}))),K&&!!t&&n.createElement(tm.Y,{spacing:0,direction:"horizontal",height:"hug-contents"},n.createElement("div",{className:d()(rE,ry),ref:N,style:T?{maxWidth:l-e6.J-2}:{width:l-2}},t),T&&n.createElement(e6.P,{resourceId:v,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),B&&n.createElement(n.Fragment,null,n.createElement("div",{className:d()(rE,ry),style:T?{maxWidth:l-e6.J-2}:{width:l-2}},"AI: "+(e.ai_score??"N/A")),n.createElement("div",{className:d()(rE,ry),style:T?{maxWidth:l-e6.J-2}:{width:l-2}},"Lex: "+(e.lexical_score??"N/A"))))}function rT(){let e=n.useContext(ti.U);return e?.isUi3?e:{...e,width:0}}function rw({width:e,children:t}){let a=function(e){let t=(0,s.wA)(),{query:a,searchSessionId:r}=(0,eb.Gq)(),l=(0,ri.ht)(),i=(0,ec.q_)(),o=(0,eC.LR)(),c=(0,s.d4)(e=>e.universalInsertModal.showing),d=n.useCallback(()=>{c&&o()},[o,c]),p=n.useCallback((n,s,o,c)=>{d(),t((0,Y.to)({type:aD,data:{asset:n,searchSessionId:r??void 0,query:a??void 0,sectionPosition:s,sectionNameForTracking:o,assetTypeDropdownSelection:l,containerWidth:e,onGetKeyboardNavigationItemById:i,sectionDepth:c}}))},[d,t,r,a,l,e,i]);return n.useMemo(()=>({onOpenFlyout:p,assetTypeDropdownSelection:l,isUi3:!0,width:e}),[p,l,e])}(e);return n.createElement(ti.U.Provider,{value:a},t)}let rk=(0,u.jz)(nc.Nz),rI=(0,u.jz)(nc.cP),rN=(0,u.jz)(nc.FX),rP=(0,u.jz)(rn.$c),rx=(0,u.jz)(rn.d5),rA=(0,u.jz)(nc.ZI),rL=(0,aR.eU)(!1),rO=(e,t,a,n,r)=>{if("list"===r)return rA;let s=e+rk;return t&&(s+=rI),a&&(s+=rN),n&&(s+=2*(0,u.jz)(nc.uY)),s};function rM(e,t,a,r,s,l,i){let o=[];for(let c=0;c<e.length;c+=t){let d=e.slice(c,c+t),p=[];d.forEach((e,o)=>{if(e){let d=c+o;p.push(n.createElement(rv,{key:`${a}-${(0,t_.V)(e)}`,asset:e,fileName:i?.getFileName?.(e),sectionDepth:i?.depth,sectionNameForTracking:s,sectionPosition:c+o,keyboardPosition:(0,ro.pg)(l,d,t,i?.hasHeader),isFirstTile:i?.includesFirstTile&&0===d,keyboardPanelDepth:i?.keyboardPanelDepth,isExample:i?.isExample,...r}))}}),o.push({element:n.createElement("div",{className:"list"===r.displayType?"asset_panel_virtualization--virtualRowList--COnhA":0===c?"asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-":"asset_panel_virtualization--virtualRow--TxsS-",role:"row"},p),key:`${a}:row-${c/t}`,keys:d.map(e=>(0,t_.V)(e)),height:rO(r.thumbHeight,!!i?.getFileName,0!==c,!!(0,e2.kc)().api_asset_search_with_scores,r.displayType)})}return o.length>0&&(o.unshift({element:n.createElement(rm.hK,{height:rP}),key:`${a}:spacer-top`,height:rP}),o.push({element:n.createElement(rm.hK,{height:rx}),key:`${a}:spacer-bottom`,height:rx})),o}function rD({elements:e,hideScrollbar:t,initialScrollTop:a,onScroll:r,anchorScroll:s,role:l}){let i=n.useRef(null),o=(0,rh.Te)({count:e.length,getScrollElement:()=>i.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:a}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:a,enabled:r,virtualizer:s,getKeys:l}){let[i,o]=n.useState(t??e.current?.scrollTop),[c,d]=n.useState(e.current?.scrollHeight),{width:p}=rT(),u=(0,em.ZC)(p),m=n.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let a=e.getVirtualItems().find(e=>e.start>=t);return a?{keys:l(a),offset:a.start-t}:{keys:[],offset:void 0}},[l]),[h,g]=n.useState(()=>m(s,t??e.current?.scrollTop)),f=n.useCallback((e,t)=>{a?.(e,t),r&&(o(e),g(m(s,e)))},[r,m,a,s]);return n.useEffect(()=>{let t=u&&p&&u!==p,a=e.current?.scrollHeight&&c&&e.current?.scrollHeight!==c;if(t&&d(e.current?.scrollHeight),void 0!==i&&void 0!==h.offset&&r&&t&&a){let t=s.getVirtualItems().find(e=>l(e).some(e=>h.keys.includes(e)));if(t)s.scrollToOffset(t.start-h.offset);else{let t=i/c,a=e.current.scrollHeight*t;s.scrollToOffset(a)}}},[h.keys,h.offset,r,l,u,e,c,i,s,p]),f}({enabled:s,scrollContainerRef:i,initialScrollTop:a,onScroll:r,virtualizer:o,getKeys:n.useCallback(t=>{let a=e[t.index];return a?a.keys??[a.key]:[]},[e])}),[d,p]=(0,g.fp)(rL);return n.useEffect(()=>{if(!d)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(o.scrollToIndex(t,{align:"start"}),p(!1))},[e,o,p,d]),n.createElement(rm.xU,{scrollContainerRef:i,hideScrollbar:t,initialScrollTop:a,onScroll:c},n.createElement("div",{style:{height:`${o.getTotalSize()}px`,width:"100%",position:"relative"},role:l},o.getVirtualItems().map(t=>n.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`}},e[t.index].element))))}var rR=a(366508),rF=a(606624);let rU=(0,g.Iz)(()=>(0,aF.rt)(0));function rG({libraryKey:e,pageId:t,folderPath:a}={}){let{lastNavAction:r}=(0,rF.ZX)(),s=r===rF.r6.Back||r===rF.r6.Mount||r===rF.r6.ToggleView&&!a,[l,i]=(0,g.fp)(rU("libraries")),[o,c]=(0,g.fp)(rU(`pages-${e}`)),[d,p]=(0,g.fp)(rU(`assets-${e}-${t}-${(a??[]).join("-")}`));return{librariesScrollTop:s?l:0,pagesScrollTop:s?o:0,assetsScrollTop:s?d:0,handleScrollLibraries:n.useCallback(e=>{i(e)},[i]),handleScrollPages:n.useCallback(t=>{e&&c(t)},[c,e]),handleScrollAssets:n.useCallback(a=>{e&&t&&p(a)},[p,e,t])}}var rK=a(187882);function rB({elementMinSize:e,spaceAvailable:t,gap:a}){return Math.floor((t+a)/(e+a))}function rV({numElements:e,spaceAvailable:t,gap:a}){return Math.floor((t-(e-1)*a)/e)}function rH({width:e,widthToHeightRatio:t=1,maxHeight:a}){let n=Math.floor(e/t);return void 0===a?Math.max(0,n):Math.max(0,Math.min(a,n))}let rz=(0,u.jz)(rn.H0),rY=2*(0,u.jz)(rn.Mj),rj={NORMAL:115,WIDE:void 0,SMALL:72},rW={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:rj.NORMAL},r$={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:rj.WIDE},rX={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:rj.SMALL},rZ=e=>{switch(e){case na.rp.WIDE:return r$;case na.rp.SMALL:return rX;default:return rW}};function rq(){let{componentLayouts:e,exampleLayout:t}=function({sidebarWidth:e}){let t=n.useMemo(()=>e-rY,[e]),a=n.useMemo(()=>{let e={};for(let a of[na.rp.NORMAL,na.rp.WIDE,na.rp.SMALL]){let{minColumns:n,maxColumns:r,aspectRatio:s,maxHeight:l}=rZ(a),i=Math.max(Math.min(r,rB({elementMinSize:l??t,gap:rz,spaceAvailable:t})),n),o=rV({numElements:i,gap:rz,spaceAvailable:t}),c=rH({width:o,maxHeight:l,widthToHeightRatio:s});e[a]={width:o,height:c,columns:i}}return e},[t]),r=n.useMemo(()=>Math.max(rB({elementMinSize:200,gap:rz,spaceAvailable:t}),1),[t]),s=n.useMemo(()=>rV({numElements:r,gap:rz,spaceAvailable:t}),[r,t]),l=n.useMemo(()=>rH({width:s,widthToHeightRatio:1.5,maxHeight:200}),[s]);return n.useMemo(()=>({componentLayouts:a,exampleLayout:{width:s,height:l,columns:r}}),[a,r,s,l])}({sidebarWidth:(0,rK.GQ)()}),[a,r]=n.useMemo(()=>{let t={},a={};for(let[n,r]of Object.entries(e))t[n]={thumbHeight:r.height,thumbWidth:r.width,viewMode:aG.Bk.Grid,thumbLayout:n,sourceForTracking:aG.mZ,displayType:"grid"},a[n]=r.columns;return[t,a]},[e]),s=n.useMemo(()=>({thumbHeight:t.height,thumbWidth:t.width,viewMode:aG.Bk.Grid,thumbLayout:na.rp.NORMAL,sourceForTracking:aG.mZ,displayType:"grid"}),[t.height,t.width]),l=n.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:aG.Bk.List,thumbLayout:na.rp.NORMAL,sourceForTracking:aG.mZ,displayType:"list"}),[]);return n.useMemo(()=>({componentTilePropsByLayout:a,numColumnsByLayout:r,listProps:l,exampleTileProps:s,numExampleColumns:t.columns}),[a,r,l,s,t.columns])}function rJ(e,t,a,n=!1){return"list"===t?{props:e.listProps,numColumns:1}:n?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[a],numColumns:e.numColumnsByLayout[a]}}function rQ({children:e,index:t,width:a}){let r=(0,g.md)(ri.h),s=n.useMemo(()=>e.flat().filter(e=>!!e),[e]),l=n.useMemo(()=>{let e=r1(-Math.min(t,s.length-1)),a=`translateX(${e})`;return{transform:a,WebkitTransform:a}},[s.length,t]),i=d()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":r});return n.createElement("div",{style:l,"data-testid":"slide-carousel",className:i},s.map((e,r)=>n.createElement("div",{className:"slide_carousel--item--w20ND",style:{width:a},key:r,"data-testid":"slide-carousel-item","aria-hidden":r!==t},e)))}let r1=e=>`${100*e}%`,r0=(0,u.jz)(rn.HE),r2=(0,u.jz)(rn._q),r3=(0,u.jz)(rn.ce),r4=(0,u.jz)(rn.RQ);function r8({page:e,width:t}){let{libraryKey:a,currentView:r}=(0,rc.wV)(),{getPage:s}=(0,ru.G)(),[l]=(0,rd.ye)(),{previousPageId:i}=(0,rc.RR)(),o=n.useMemo(()=>r===rc.S5.Pages?s(a,i):e,[r,s,a,e,i]);return a&&o?l?n.createElement(r7,{page:o,width:t}):n.createElement(r5,{page:o,libraryKey:a}):n.createElement("div",{style:{width:t}})}function r5({page:e,libraryKey:t}){let{assetsScrollTop:a,handleScrollAssets:r}=rG({libraryKey:t,pageId:e.id}),[s]=(0,rd.MA)(),l=rq(),{componentSectionNameForTracking:i,templateSectionNameForTracking:o}=(0,ri.zf)(),c=n.useMemo(()=>{let t=[];if(e.templates){let a=(0,rR.r)(e.templates),{props:r,numColumns:i}=rJ(l,s,na.rp.NORMAL,!0);t.push({element:n.createElement(rm.X3,{title:(0,S.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:r3}),t.push(...rM(a,i,"templates",r,o,[n5.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let a=(0,rR.r)(e.examples),{props:n,numColumns:r}=rJ(l,s,na.rp.NORMAL,!0);t.push(...rM(a,r,"examples",n,i,[n5.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:n.createElement(rm.X3,{title:(0,S.t)("design_systems.assets_panel.components")}),key:"components:header",height:r3});let a=(0,rR.r)(e.components),{props:r,numColumns:o}=rJ(l,s,(0,na.PI)(a,!0));t.push(...rM(a,o,"components",r,i,[n5.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,l,s,o,i]);return n.createElement(rD,{elements:c,initialScrollTop:a,onScroll:r,anchorScroll:!0,role:s})}function r7({page:e,width:t}){let{libraryKey:a,pageId:r,folderPath:s}=(0,rc.wV)(),{getFolder:l}=(0,ru.G)(),{previousFolderPath:i,previousPageId:o}=(0,rc.RR)(),[c,d]=n.useMemo(()=>{let t=[],c=i??s??[],d=0;for(let i=-1;i<c.length;i++){let p=c.slice(0,i+1),u=l(a,r??o,p);if(u){if((0,rc.xc)(u))continue;t.push(n.createElement(r6,{parentSubtree:e.assets,currentFolderPath:p,key:`components-${p?p.join("/"):"root"}`})),i===(s??[]).length-1&&(d=t.length-1)}}return[t,d]},[s,l,a,e.assets,r,i,o]);return n.createElement(rQ,{index:d,width:t},c)}function r6({parentSubtree:e,currentFolderPath:t}){let[a]=(0,rd.MA)(),r=n.useMemo(()=>{let a=e;for(let e of t){let t=a.subtrees.get(e);if(!t)return null;a=t}return a},[e,t]),{folderPath:s,pageId:l,libraryKey:i}=(0,rc.wV)(),o=!!i&&(0,e4.wJ)(i),c=t.length,d=s?.length??0,{assetsScrollTop:p,handleScrollAssets:u}=rG({libraryKey:i,pageId:l,folderPath:t}),m=r9({subtree:r,currentFolderPath:t,isPreset:o});return n.createElement(rD,{elements:m,hideScrollbar:c<d,onScroll:u,initialScrollTop:p,role:a})}let r9=({subtree:e,currentFolderPath:t,isPreset:a})=>{let r=rq(),{componentSectionNameForTracking:s}=(0,ri.zf)(),{folderPath:l}=(0,rc.wV)(),[i]=(0,rd.MA)(),o=t.join("/"),c=t.length,d=l?.length??0,p=n.useMemo(()=>!!(a&&(0,e2.kc)().dse_preset_libraries&&e?.items)&&e?.items.every(e=>tT.Nz(e,{isPreset:a})),[a,e?.items]),u=n.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,tT.dS)(t.name,{isPreset:a})},[a]),m=n.useCallback(({subtree:e,elements:t})=>{let a=e.items.length>0,l=u(e);if(a){let a=[n5.tM.COMPONENTS],{props:n,numColumns:l}=rJ(r,i,(0,na.PI)(e.items,!0),p);t.push(...rM(e.items,l,e.key,n,s,a,{hasHeader:!1,includesFirstTile:c===d,keyboardPanelDepth:c,isExample:p}))}let m=Array.from(e.subtrees.values());a&&m.length>0&&!l&&t.push({element:n.createElement(rm.cG,null),key:"divider",height:r4}),m.forEach((a,r)=>{t.push({element:n.createElement(rp,{subtree:a,index:r+e.items.length,keyPrefix:o,depth:c}),key:a.key,height:"list"===i?r0:r2}),0===r&&l&&m.length>1&&t.push({element:n.createElement(rm.cG,null),key:"examples_divider",height:r4})})},[u,r,i,p,s,c,d,o]);return n.useMemo(()=>{let t=[];return e&&m({subtree:e,elements:t}),t},[m,e])};var se=a(268537),st=a(501114),sa=a(738269),sn=a(13678),sr=a(611964),ss=a(18339);let sl="asset-panel-library-context-menu",si=f.Pt("assetsLibrary","contextMenu"),so=se.ms,sc=se.c$,sd=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==sl)return null;let{data:a}=e;if(!a)return null;let{libraryHref:s,position:l,isLocalLibrary:i,partnerType:o,onGoToLibrary:c,onPublish:d,onUnsubscribe:p,onSendFeedback:u}=a;if(!l)return null;let m=n.createElement(so,{style:st.sx.add({top:`${l.top}px`,right:`${l.right}px`,bottom:`${l.bottom}px`,left:`${l.left}px`}).add(st.sx.fixed).$},i?n.createElement(sc,{onClick:d,recordingKey:f.Pt(si,"publishLibrary")},(0,S.tx)("design_systems.assets_panel.publish_library")):n.createElement(n.Fragment,null,n.createElement(sc,{onClick:p,recordingKey:f.Pt(si,"unsubscribe")},(0,S.tx)("design_systems.assets_panel.remove_library_from_file")),n.createElement(sc,{href:s,target:"_blank",recordingKey:f.Pt(si,"goToLibrary"),onClick:c},(0,S.tx)("design_systems.assets_panel.go_to_library"))),(0,e2.kc)().dse_updates_string&&o&&n.createElement(sc,{href:(0,tB.iu)(o),target:"_blank",recordingKey:f.Pt(si,"sendFeedback"),onClick:u},(0,S.tx)("design_systems.assets_panel.send_feedback_to_creator")));return t?r.createPortal(m,document.body):m}),sp="asset-panel-page-context-menu",su=f.Pt("assetsLibrary","contextMenu"),sm=se.ms,sh=se.c$,sg=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==sp)return null;let{data:a}=e;if(!a)return null;let{libraryPageHref:s,position:l,isLocalLibrary:i,onClickLocalPage:o,onClickSubscribedPage:c}=a;if(!l)return null;let d=n.createElement(sm,{style:st.sx.add({top:`${l.top}px`,right:`${l.right}px`,bottom:`${l.bottom}px`,left:`${l.left}px`}).add(st.sx.fixed).$},i?n.createElement(sh,{recordingKey:f.Pt(su,"goToLibrary"),onClick:o},(0,S.tx)("design_systems.assets_panel.go_to_page")):n.createElement(sh,{href:s,target:"_blank",recordingKey:f.Pt(su,"goToLibrary"),onClick:c},(0,S.tx)("design_systems.assets_panel.go_to_page")));return t?r.createPortal(d,document.body):d});function sf(){let e=(0,s.d4)(e=>e.dropdownShown),t=(0,s.d4)(ek.hK),a=(0,s.d4)(eI.e_),r=e?.type===ne.K.ASSETS_PANEL&&!!e?.data?.component,l=e?.type===sp&&!!e?.data?.pageId,i=e?.type===sl&&!!e?.data?.libraryHref,o=(0,nK.K)(!0),c=n.useContext(ti.U);return n.createElement(n.Fragment,null,r&&n.createElement(ne.h,{selectedView:t,dropdownShown:e,defaultFileKeys:a.defaultPublished.fileKeys,onJumpToLocalComponent:o,onOpenFlyout:c?.onOpenFlyout,usePortal:!0}),l&&n.createElement(sg,{dropdownShown:e,usePortal:!0}),i&&n.createElement(sd,{dropdownShown:e,usePortal:!0}))}var s_=a(612776),sE=a(864089);let sy=(0,u.jz)(rn.Sx),sC=(0,u.jz)(rn.T5);function sv({library:e,previewHeight:t,cardWidth:a,keyboardSection:r,rowIndex:l,columnIndex:i=0}){let{focusFirstItem:o,focusSearchBar:c}=(0,ro.rl)(),{navigateToLibrary:d}=(0,rc.wV)(),u=(0,U.q5)(),[m]=(0,rd.MA)(),h=((0,s_.KJ)()?rd.$H.LIST:m)===rd.$H.LIST,g=(0,ri.sN)(),_=n.useCallback(()=>{g("libraryCard",d(e.fileKey))},[e.fileKey,g,d]),{currentView:E}=(0,rc.wV)(),y=E!==rc.S5.Libraries,{setKeyboardNavigationElement:C}=(0,ec.M3)({path:[n5.ON.CONTENTS,n5.lM.LIBRARIES,r,l],column:i,id:e.fileKey,disabled:y}),v=(0,ro.MB)({onBoth:_,onKeyDown:o,onClick:c}),b=n.useMemo(()=>{let t=e.fileKey===u?.key?"localLibrary":e.fileKey;return f.Pt("assetsLibrary",t)},[u?.key,e.fileKey]),S=function(e){let t=(0,U.q5)(),a=(0,s.wA)(),r=e.fileKey===t?.key,l=(0,e4.wJ)(e.fileKey),i=(0,aG._9)(e.fileKey,l,"assets_panel_library_context_menu"),o=n.useCallback(()=>i(!1),[i]),c=function(){let e=(0,s.wA)(),t=(0,U.q5)(),a=(0,s.d4)(e=>e.teams),r=(0,s.d4)(eI.fA),l=n.useCallback(()=>{e(Y.to({type:sn.dD,data:{entrypoint:sr.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),i=t?.teamId&&a[t.teamId],o=n.useCallback(()=>{e(Y.to({type:ss.$3,data:{afterFileMove:l,team:i||null}}))},[e,l,i]);return n.useCallback(()=>{r?l():o()},[r,l,o])}(),d=(0,tw.X)(e.fileKey),u=n.useMemo(()=>(0,e4.wJ)(e.fileKey)?(0,tH.X$)(e.fileKey):(0,tH.jN)({file:{key:e.fileKey,editor_type:tC._Y.DESIGN}}),[e.fileKey]),m=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.fileKey,t]),h=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.send_feedback_to_creator",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,entryPoint:"library_context_menu",partnerType:d})},[e.fileKey,t,d]),g=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0})},[e.fileKey,t]);return n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),a((0,sa.j7)({type:sl,data:{libraryHref:u,isLocalLibrary:r,partnerType:d,onGoToLibrary:m,onPublish:c,onUnsubscribe:o,onSendFeedback:h,position:{top:e.clientY,left:e.clientX}}})),g()},[u,c,o,h,r,d,a,m,g])}(e);return n.createElement(re.GG,{className:"asset_panel_library--library--5bw5-","aria-label":e.name,onClick:v,onContextMenu:S,forwardedRef:C,tabIndex:y?-1:0,style:{width:h?"100%":a},recordingKey:b},n.createElement(sb,{library:e,previewHeight:t,isList:h}))}function sb({library:e,previewHeight:t,isList:a}){let{thumbnailUrl:r}=e,[s,l]=n.useState(r),i=n.useMemo(()=>{if(s)return`url(${s})`},[s]),o=n.useCallback(()=>{l(r)},[r]),c=n.useMemo(()=>a?{height:sy,width:sC}:{height:t},[a,t]);return n.createElement("div",{className:a?"asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e":"asset_panel_library--libraryCard--l0q0e"},n.createElement("div",{className:"asset_panel_library--libraryPreviewSection--fRTrr"},n.createElement("div",{style:{backgroundImage:i,...c},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),r&&n.createElement(sE.oW,{src:r,onLoad:o,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})),n.createElement(sS,{library:e,isList:a}))}function sS({library:e,isList:t}){let a=(0,e2.kc)().dse_editor_templates_v1,r=n.useMemo(()=>{let t=[];return e.numComponents>0&&t.push((0,S.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents})),a&&e.numTemplates>0&&t.push((0,S.t)("design_systems.assets_panel.num_templates",{numTemplates:e.numTemplates})),t.join(", ")},[e.numComponents,e.numTemplates,a]);return n.createElement("div",{className:t?"asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc":"asset_panel_library--libraryFooter--jXcDc"},n.createElement("div",{className:"asset_panel_library--libraryNameAndStats--uiY8T"},n.createElement("div",{className:"asset_panel_library--nameAndIconForList--UCm5F"},n.createElement("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa"},e.name),n.createElement("div",{className:"asset_panel_library--libraryIcon--6s19b"},n.createElement(e6.P,{resourceId:e.fileKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"}))),n.createElement("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa"},r)))}function sT(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",fill:"none"},n.createElement("path",{opacity:"0.88",d:"M11.5 7.37441C9.58333 2.87557 2.875 3.35474 2.875 9.10477C2.875 14.8548 11.5 19.6466 11.5 19.6466C11.5 19.6466 20.125 14.8548 20.125 9.10477C20.125 3.35474 13.4167 2.87557 11.5 7.37441Z",fill:"#D9D9D9",stroke:"black",strokeOpacity:"0.9",strokeLinecap:"round",strokeLinejoin:"round"}))}function sw(){return n.createElement("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",transform:"rotate(-7)",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Frame",clipPath:"url(#clip0_4010_27038)"},n.createElement("path",{id:"Vector",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint0_radial_4010_27038)"}),n.createElement("path",{id:"Vector_2",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint1_radial_4010_27038)"}),n.createElement("path",{id:"Vector_3",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint2_radial_4010_27038)",fillOpacity:"0.6"}),n.createElement("path",{id:"Vector_4",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint3_radial_4010_27038)"}),n.createElement("path",{id:"Vector_5",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint4_radial_4010_27038)"}),n.createElement("path",{id:"Vector_6",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint5_radial_4010_27038)"}),n.createElement("path",{id:"Vector_7",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint6_radial_4010_27038)"}),n.createElement("path",{id:"Vector_8",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint7_radial_4010_27038)"}),n.createElement("path",{id:"Vector_9",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint8_radial_4010_27038)"}),n.createElement("path",{id:"Vector_10",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint9_radial_4010_27038)"}),n.createElement("path",{id:"Vector_11",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint10_radial_4010_27038)"}),n.createElement("path",{id:"Vector_12",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint11_radial_4010_27038)"}),n.createElement("path",{id:"Vector_13",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint12_radial_4010_27038)"}),n.createElement("path",{id:"Vector_14",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint13_radial_4010_27038)"}),n.createElement("path",{id:"Vector_15",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint14_radial_4010_27038)"}),n.createElement("path",{id:"Vector_16",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint15_radial_4010_27038)"}),n.createElement("path",{id:"Vector_17",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint16_radial_4010_27038)"}),n.createElement("path",{id:"Vector_18",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint17_radial_4010_27038)"}),n.createElement("path",{id:"Vector_19",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint18_radial_4010_27038)"}),n.createElement("path",{id:"Vector_20",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint19_radial_4010_27038)"}),n.createElement("path",{id:"Vector_21",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint20_radial_4010_27038)"}),n.createElement("path",{id:"Vector_22",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint21_radial_4010_27038)"}),n.createElement("path",{id:"Vector_23",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint22_radial_4010_27038)"}),n.createElement("path",{id:"Vector_24",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint23_radial_4010_27038)"}),n.createElement("path",{id:"Vector_25",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint24_radial_4010_27038)"}),n.createElement("path",{id:"Vector_26",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint25_radial_4010_27038)"}),n.createElement("path",{id:"Vector_27",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint26_radial_4010_27038)"}),n.createElement("path",{id:"Vector_28",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint27_radial_4010_27038)"}),n.createElement("path",{id:"Vector_29",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint28_radial_4010_27038)"}),n.createElement("path",{id:"Vector_30",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint29_radial_4010_27038)"}),n.createElement("path",{id:"Vector_31",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint30_radial_4010_27038)"}),n.createElement("path",{id:"Vector_32",d:"M13.9546 22.2228C20.4528 21.4235 23.1634 16.6609 22.5013 11.2786C21.8392 5.89628 18.0552 1.93253 11.557 2.73187C5.05872 3.53123 2.34824 8.29386 3.01031 13.6761C3.67239 19.0584 7.4563 23.0222 13.9546 22.2228Z",fill:"url(#paint31_radial_4010_27038)"}),n.createElement("path",{id:"Vector_33",fillRule:"evenodd",clipRule:"evenodd",d:"M8.08988 11.722C8.40649 11.4988 8.84405 11.5744 9.06729 11.891C9.32033 12.2498 10.4692 13.4657 12.8424 13.1737C15.2155 12.8818 16.0354 11.4238 16.194 11.0143C16.3338 10.6531 16.74 10.4737 17.1013 10.6135C17.4625 10.7534 17.642 11.1596 17.5021 11.5209C17.201 12.2987 16.0108 14.1974 13.0136 14.5661C10.0164 14.9348 8.40157 13.3811 7.92089 12.6994C7.69764 12.3828 7.7733 11.9453 8.08988 11.722Z",fill:"url(#paint32_radial_4010_27038)"}),n.createElement("path",{id:"Vector_34",d:"M7.45869 9.73034C7.47098 9.55406 7.52166 9.3337 7.64781 9.15705C7.75592 9.00567 7.95919 8.82721 8.41372 8.7713C8.86051 8.71634 9.107 8.84265 9.2561 8.97067C9.42844 9.11872 9.52776 9.32233 9.56854 9.45681C9.68093 9.82757 10.0725 10.037 10.4432 9.92461C10.814 9.81222 11.0234 9.4206 10.911 9.04991C10.8171 8.73992 10.6001 8.27578 10.17 7.90648C9.71672 7.51718 9.07478 7.27659 8.24245 7.37898C7.41801 7.48039 6.85419 7.85454 6.50624 8.34174C6.17633 8.80368 6.08194 9.30776 6.05928 9.63273C6.03231 10.0191 6.32373 10.3543 6.71016 10.3813C7.09661 10.4082 7.43173 10.1168 7.45869 9.73034Z",fill:"#583F51"}),n.createElement("path",{id:"Vector_35",d:"M7.45869 9.73034C7.47098 9.55406 7.52166 9.3337 7.64781 9.15705C7.75592 9.00567 7.95919 8.82721 8.41372 8.7713C8.86051 8.71634 9.107 8.84265 9.2561 8.97067C9.42844 9.11872 9.52776 9.32233 9.56854 9.45681C9.68093 9.82757 10.0725 10.037 10.4432 9.92461C10.814 9.81222 11.0234 9.4206 10.911 9.04991C10.8171 8.73992 10.6001 8.27578 10.17 7.90648C9.71672 7.51718 9.07478 7.27659 8.24245 7.37898C7.41801 7.48039 6.85419 7.85454 6.50624 8.34174C6.17633 8.80368 6.08194 9.30776 6.05928 9.63273C6.03231 10.0191 6.32373 10.3543 6.71016 10.3813C7.09661 10.4082 7.43173 10.1168 7.45869 9.73034Z",fill:"url(#paint33_radial_4010_27038)"}),n.createElement("path",{id:"Vector_36",d:"M7.45869 9.73034C7.47098 9.55406 7.52166 9.3337 7.64781 9.15705C7.75592 9.00567 7.95919 8.82721 8.41372 8.7713C8.86051 8.71634 9.107 8.84265 9.2561 8.97067C9.42844 9.11872 9.52776 9.32233 9.56854 9.45681C9.68093 9.82757 10.0725 10.037 10.4432 9.92461C10.814 9.81222 11.0234 9.4206 10.911 9.04991C10.8171 8.73992 10.6001 8.27578 10.17 7.90648C9.71672 7.51718 9.07478 7.27659 8.24245 7.37898C7.41801 7.48039 6.85419 7.85454 6.50624 8.34174C6.17633 8.80368 6.08194 9.30776 6.05928 9.63273C6.03231 10.0191 6.32373 10.3543 6.71016 10.3813C7.09661 10.4082 7.43173 10.1168 7.45869 9.73034Z",fill:"url(#paint34_radial_4010_27038)"}),n.createElement("path",{id:"Vector_37",d:"M7.45869 9.73034C7.47098 9.55406 7.52166 9.3337 7.64781 9.15705C7.75592 9.00567 7.95919 8.82721 8.41372 8.7713C8.86051 8.71634 9.107 8.84265 9.2561 8.97067C9.42844 9.11872 9.52776 9.32233 9.56854 9.45681C9.68093 9.82757 10.0725 10.037 10.4432 9.92461C10.814 9.81222 11.0234 9.4206 10.911 9.04991C10.8171 8.73992 10.6001 8.27578 10.17 7.90648C9.71672 7.51718 9.07478 7.27659 8.24245 7.37898C7.41801 7.48039 6.85419 7.85454 6.50624 8.34174C6.17633 8.80368 6.08194 9.30776 6.05928 9.63273C6.03231 10.0191 6.32373 10.3543 6.71016 10.3813C7.09661 10.4082 7.43173 10.1168 7.45869 9.73034Z",fill:"url(#paint35_radial_4010_27038)"}),n.createElement("path",{id:"Vector_38",d:"M15.1166 8.78795C15.1288 8.61168 15.1795 8.39131 15.3057 8.21466C15.4138 8.06328 15.617 7.88482 16.0716 7.82891C16.5184 7.77395 16.7649 7.90026 16.914 8.02828C17.0863 8.17633 17.1856 8.37994 17.2264 8.51443C17.3388 8.88518 17.7304 9.0946 18.1011 8.98222C18.4718 8.86983 18.6813 8.47821 18.5689 8.10753C18.4749 7.79754 18.2579 7.3334 17.8279 6.96409C17.3746 6.5748 16.7326 6.33421 15.9003 6.43659C15.0758 6.53801 14.5121 6.91215 14.1641 7.39935C13.8342 7.86129 13.7398 8.36538 13.7171 8.69035C13.6902 9.07677 13.9816 9.41193 14.368 9.43888C14.7545 9.46583 15.0896 9.17444 15.1166 8.78795Z",fill:"#583F51"}),n.createElement("path",{id:"Vector_39",d:"M15.1166 8.78795C15.1288 8.61168 15.1795 8.39131 15.3057 8.21466C15.4138 8.06328 15.617 7.88482 16.0716 7.82891C16.5184 7.77395 16.7649 7.90026 16.914 8.02828C17.0863 8.17633 17.1856 8.37994 17.2264 8.51443C17.3388 8.88518 17.7304 9.0946 18.1011 8.98222C18.4718 8.86983 18.6813 8.47821 18.5689 8.10753C18.4749 7.79754 18.2579 7.3334 17.8279 6.96409C17.3746 6.5748 16.7326 6.33421 15.9003 6.43659C15.0758 6.53801 14.5121 6.91215 14.1641 7.39935C13.8342 7.86129 13.7398 8.36538 13.7171 8.69035C13.6902 9.07677 13.9816 9.41193 14.368 9.43888C14.7545 9.46583 15.0896 9.17444 15.1166 8.78795Z",fill:"url(#paint36_radial_4010_27038)"}),n.createElement("path",{id:"Vector_40",d:"M15.1166 8.78795C15.1288 8.61168 15.1795 8.39131 15.3057 8.21466C15.4138 8.06328 15.617 7.88482 16.0716 7.82891C16.5184 7.77395 16.7649 7.90026 16.914 8.02828C17.0863 8.17633 17.1856 8.37994 17.2264 8.51443C17.3388 8.88518 17.7304 9.0946 18.1011 8.98222C18.4718 8.86983 18.6813 8.47821 18.5689 8.10753C18.4749 7.79754 18.2579 7.3334 17.8279 6.96409C17.3746 6.5748 16.7326 6.33421 15.9003 6.43659C15.0758 6.53801 14.5121 6.91215 14.1641 7.39935C13.8342 7.86129 13.7398 8.36538 13.7171 8.69035C13.6902 9.07677 13.9816 9.41193 14.368 9.43888C14.7545 9.46583 15.0896 9.17444 15.1166 8.78795Z",fill:"url(#paint37_radial_4010_27038)"}),n.createElement("path",{id:"Vector_41",d:"M15.1166 8.78795C15.1288 8.61168 15.1795 8.39131 15.3057 8.21466C15.4138 8.06328 15.617 7.88482 16.0716 7.82891C16.5184 7.77395 16.7649 7.90026 16.914 8.02828C17.0863 8.17633 17.1856 8.37994 17.2264 8.51443C17.3388 8.88518 17.7304 9.0946 18.1011 8.98222C18.4718 8.86983 18.6813 8.47821 18.5689 8.10753C18.4749 7.79754 18.2579 7.3334 17.8279 6.96409C17.3746 6.5748 16.7326 6.33421 15.9003 6.43659C15.0758 6.53801 14.5121 6.91215 14.1641 7.39935C13.8342 7.86129 13.7398 8.36538 13.7171 8.69035C13.6902 9.07677 13.9816 9.41193 14.368 9.43888C14.7545 9.46583 15.0896 9.17444 15.1166 8.78795Z",fill:"url(#paint38_radial_4010_27038)"}),n.createElement("path",{id:"Vector_42",d:"M4.75533 15.8388C4.99252 15.4734 5.48102 15.3694 5.84644 15.6066L8.12896 17.0881L7.87773 16.4851C7.7034 16.0666 7.9013 15.5861 8.31974 15.4118C8.74042 15.2365 9.22337 15.4376 9.39542 15.8596L10.0922 17.5687L10.8468 18.8978C10.8607 18.9223 10.8734 18.9472 10.8848 18.9726C11.1414 19.3473 11.315 19.7893 11.3746 20.2737C11.5695 21.8581 10.4709 23.2972 8.92072 23.4879C8.23879 23.5717 7.58308 23.4001 7.04589 23.0466L3.64291 21.1349C3.24381 20.9107 3.10672 20.4024 3.33897 20.0079C3.4401 19.8361 3.59427 19.7149 3.76843 19.6529L3.44127 19.4405C3.05886 19.1923 2.95008 18.6811 3.1983 18.2987C3.30376 18.1362 3.4567 18.0231 3.62707 17.9658L3.52658 17.9006C3.14418 17.6525 3.0354 17.1412 3.28361 16.7588C3.53183 16.3764 4.04305 16.2677 4.42545 16.5159L4.79822 16.7578C4.59397 16.4997 4.56621 16.1301 4.75533 15.8388Z",fill:"url(#paint39_radial_4010_27038)"}),n.createElement("path",{id:"Vector_43",d:"M4.75533 15.8388C4.99252 15.4734 5.48102 15.3694 5.84644 15.6066L8.12896 17.0881L7.87773 16.4851C7.7034 16.0666 7.9013 15.5861 8.31974 15.4118C8.74042 15.2365 9.22337 15.4376 9.39542 15.8596L10.0922 17.5687L10.8468 18.8978C10.8607 18.9223 10.8734 18.9472 10.8848 18.9726C11.1414 19.3473 11.315 19.7893 11.3746 20.2737C11.5695 21.8581 10.4709 23.2972 8.92072 23.4879C8.23879 23.5717 7.58308 23.4001 7.04589 23.0466L3.64291 21.1349C3.24381 20.9107 3.10672 20.4024 3.33897 20.0079C3.4401 19.8361 3.59427 19.7149 3.76843 19.6529L3.44127 19.4405C3.05886 19.1923 2.95008 18.6811 3.1983 18.2987C3.30376 18.1362 3.4567 18.0231 3.62707 17.9658L3.52658 17.9006C3.14418 17.6525 3.0354 17.1412 3.28361 16.7588C3.53183 16.3764 4.04305 16.2677 4.42545 16.5159L4.79822 16.7578C4.59397 16.4997 4.56621 16.1301 4.75533 15.8388Z",fill:"url(#paint40_radial_4010_27038)"}),n.createElement("path",{id:"Vector_44",d:"M4.75533 15.8388C4.99252 15.4734 5.48102 15.3694 5.84644 15.6066L8.12896 17.0881L7.87773 16.4851C7.7034 16.0666 7.9013 15.5861 8.31974 15.4118C8.74042 15.2365 9.22337 15.4376 9.39542 15.8596L10.0922 17.5687L10.8468 18.8978C10.8607 18.9223 10.8734 18.9472 10.8848 18.9726C11.1414 19.3473 11.315 19.7893 11.3746 20.2737C11.5695 21.8581 10.4709 23.2972 8.92072 23.4879C8.23879 23.5717 7.58308 23.4001 7.04589 23.0466L3.64291 21.1349C3.24381 20.9107 3.10672 20.4024 3.33897 20.0079C3.4401 19.8361 3.59427 19.7149 3.76843 19.6529L3.44127 19.4405C3.05886 19.1923 2.95008 18.6811 3.1983 18.2987C3.30376 18.1362 3.4567 18.0231 3.62707 17.9658L3.52658 17.9006C3.14418 17.6525 3.0354 17.1412 3.28361 16.7588C3.53183 16.3764 4.04305 16.2677 4.42545 16.5159L4.79822 16.7578C4.59397 16.4997 4.56621 16.1301 4.75533 15.8388Z",fill:"url(#paint41_radial_4010_27038)"}),n.createElement("path",{id:"Vector_45",d:"M4.75533 15.8388C4.99252 15.4734 5.48102 15.3694 5.84644 15.6066L8.12896 17.0881L7.87773 16.4851C7.7034 16.0666 7.9013 15.5861 8.31974 15.4118C8.74042 15.2365 9.22337 15.4376 9.39542 15.8596L10.0922 17.5687L10.8468 18.8978C10.8607 18.9223 10.8734 18.9472 10.8848 18.9726C11.1414 19.3473 11.315 19.7893 11.3746 20.2737C11.5695 21.8581 10.4709 23.2972 8.92072 23.4879C8.23879 23.5717 7.58308 23.4001 7.04589 23.0466L3.64291 21.1349C3.24381 20.9107 3.10672 20.4024 3.33897 20.0079C3.4401 19.8361 3.59427 19.7149 3.76843 19.6529L3.44127 19.4405C3.05886 19.1923 2.95008 18.6811 3.1983 18.2987C3.30376 18.1362 3.4567 18.0231 3.62707 17.9658L3.52658 17.9006C3.14418 17.6525 3.0354 17.1412 3.28361 16.7588C3.53183 16.3764 4.04305 16.2677 4.42545 16.5159L4.79822 16.7578C4.59397 16.4997 4.56621 16.1301 4.75533 15.8388Z",fill:"url(#paint42_radial_4010_27038)"}),n.createElement("path",{id:"Vector_46",d:"M4.75533 15.8388C4.99252 15.4734 5.48102 15.3694 5.84644 15.6066L8.12896 17.0881L7.87773 16.4851C7.7034 16.0666 7.9013 15.5861 8.31974 15.4118C8.74042 15.2365 9.22337 15.4376 9.39542 15.8596L10.0922 17.5687L10.8468 18.8978C10.8607 18.9223 10.8734 18.9472 10.8848 18.9726C11.1414 19.3473 11.315 19.7893 11.3746 20.2737C11.5695 21.8581 10.4709 23.2972 8.92072 23.4879C8.23879 23.5717 7.58308 23.4001 7.04589 23.0466L3.64291 21.1349C3.24381 20.9107 3.10672 20.4024 3.33897 20.0079C3.4401 19.8361 3.59427 19.7149 3.76843 19.6529L3.44127 19.4405C3.05886 19.1923 2.95008 18.6811 3.1983 18.2987C3.30376 18.1362 3.4567 18.0231 3.62707 17.9658L3.52658 17.9006C3.14418 17.6525 3.0354 17.1412 3.28361 16.7588C3.53183 16.3764 4.04305 16.2677 4.42545 16.5159L4.79822 16.7578C4.59397 16.4997 4.56621 16.1301 4.75533 15.8388Z",fill:"url(#paint43_radial_4010_27038)"}),n.createElement("path",{id:"Vector_47",d:"M4.75533 15.8388C4.99252 15.4734 5.48102 15.3694 5.84644 15.6066L8.12896 17.0881L7.87773 16.4851C7.7034 16.0666 7.9013 15.5861 8.31974 15.4118C8.74042 15.2365 9.22337 15.4376 9.39542 15.8596L10.0922 17.5687L10.8468 18.8978C10.8607 18.9223 10.8734 18.9472 10.8848 18.9726C11.1414 19.3473 11.315 19.7893 11.3746 20.2737C11.5695 21.8581 10.4709 23.2972 8.92072 23.4879C8.23879 23.5717 7.58308 23.4001 7.04589 23.0466L3.64291 21.1349C3.24381 20.9107 3.10672 20.4024 3.33897 20.0079C3.4401 19.8361 3.59427 19.7149 3.76843 19.6529L3.44127 19.4405C3.05886 19.1923 2.95008 18.6811 3.1983 18.2987C3.30376 18.1362 3.4567 18.0231 3.62707 17.9658L3.52658 17.9006C3.14418 17.6525 3.0354 17.1412 3.28361 16.7588C3.53183 16.3764 4.04305 16.2677 4.42545 16.5159L4.79822 16.7578C4.59397 16.4997 4.56621 16.1301 4.75533 15.8388Z",fill:"url(#paint44_radial_4010_27038)"}),n.createElement("path",{id:"Vector_48",d:"M3.7538 19.6497C3.7538 19.6497 3.40268 19.8137 3.28703 20.1166C3.07679 20.6672 3.55498 21.0849 3.55498 21.0849L4.55941 21.6469C5.35319 22.091 6.35528 21.8457 6.85401 21.085L3.7538 19.6497Z",fill:"url(#paint45_radial_4010_27038)"}),n.createElement("path",{id:"Vector_49",d:"M3.7538 19.6497C3.7538 19.6497 3.40268 19.8137 3.28703 20.1166C3.07679 20.6672 3.55498 21.0849 3.55498 21.0849L4.55941 21.6469C5.35319 22.091 6.35528 21.8457 6.85401 21.085L3.7538 19.6497Z",fill:"url(#paint46_radial_4010_27038)"}),n.createElement("path",{id:"Vector_50",d:"M6.33711 19.6863L6.0564 20.7151C6.0564 20.7151 4.25993 19.8899 3.76728 19.6551C3.6322 19.5668 3.6427 19.5849 3.38512 19.3985C3.12755 19.2121 2.93791 18.8012 3.16399 18.3569C3.26112 18.1659 3.46366 18.0155 3.63402 17.9582L6.33711 19.6863Z",fill:"url(#paint47_radial_4010_27038)"}),n.createElement("path",{id:"Vector_51",d:"M6.33711 19.6863L6.0564 20.7151C6.0564 20.7151 4.25993 19.8899 3.76728 19.6551C3.6322 19.5668 3.6427 19.5849 3.38512 19.3985C3.12755 19.2121 2.93791 18.8012 3.16399 18.3569C3.26112 18.1659 3.46366 18.0155 3.63402 17.9582L6.33711 19.6863Z",fill:"url(#paint48_radial_4010_27038)"}),n.createElement("path",{id:"Vector_52",d:"M7.41861 18.6345L6.32457 19.6803L3.54062 17.8992C3.15822 17.651 3.04943 17.1398 3.29765 16.7574C3.54586 16.375 4.05708 16.2662 4.43948 16.5144L4.79245 16.7535C5.33463 17.1943 6.62117 18.0716 7.41861 18.6345Z",fill:"url(#paint49_radial_4010_27038)"}),n.createElement("path",{id:"Vector_53",d:"M7.41861 18.6345L6.32457 19.6803L3.54062 17.8992C3.15822 17.651 3.04943 17.1398 3.29765 16.7574C3.54586 16.375 4.05708 16.2662 4.43948 16.5144L4.79245 16.7535C5.33463 17.1943 6.62117 18.0716 7.41861 18.6345Z",fill:"url(#paint50_radial_4010_27038)"}),n.createElement("path",{id:"Vector_54",d:"M7.41861 18.6345L6.32457 19.6803L3.54062 17.8992C3.15822 17.651 3.04943 17.1398 3.29765 16.7574C3.54586 16.375 4.05708 16.2662 4.43948 16.5144L4.79245 16.7535C5.33463 17.1943 6.62117 18.0716 7.41861 18.6345Z",fill:"url(#paint51_linear_4010_27038)"}),n.createElement("path",{id:"Vector_55",d:"M5.84503 15.6068C5.44549 15.3592 4.96925 15.4805 4.74618 15.8523C4.5263 16.219 4.64757 16.5486 4.80083 16.7677C5.39634 17.2327 7.33044 18.5696 7.33044 18.5696L8.71711 18.5965L8.12516 17.0875C8.12516 17.0875 6.75389 16.17 5.84503 15.6068Z",fill:"url(#paint52_radial_4010_27038)"}),n.createElement("path",{id:"Vector_56",d:"M5.84503 15.6068C5.44549 15.3592 4.96925 15.4805 4.74618 15.8523C4.5263 16.219 4.64757 16.5486 4.80083 16.7677C5.39634 17.2327 7.33044 18.5696 7.33044 18.5696L8.71711 18.5965L8.12516 17.0875C8.12516 17.0875 6.75389 16.17 5.84503 15.6068Z",fill:"url(#paint53_radial_4010_27038)"}),n.createElement("path",{id:"Vector_57",d:"M5.84503 15.6068C5.44549 15.3592 4.96925 15.4805 4.74618 15.8523C4.5263 16.219 4.64757 16.5486 4.80083 16.7677C5.39634 17.2327 7.33044 18.5696 7.33044 18.5696L8.71711 18.5965L8.12516 17.0875C8.12516 17.0875 6.75389 16.17 5.84503 15.6068Z",fill:"url(#paint54_linear_4010_27038)"}),n.createElement("path",{id:"Vector_58",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint55_radial_4010_27038)"}),n.createElement("path",{id:"Vector_59",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint56_radial_4010_27038)"}),n.createElement("path",{id:"Vector_60",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint57_radial_4010_27038)"}),n.createElement("path",{id:"Vector_61",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint58_radial_4010_27038)"}),n.createElement("path",{id:"Vector_62",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint59_radial_4010_27038)"}),n.createElement("path",{id:"Vector_63",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint60_linear_4010_27038)"}),n.createElement("path",{id:"Vector_64",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint61_linear_4010_27038)"}),n.createElement("path",{id:"Vector_65",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint62_linear_4010_27038)"}),n.createElement("path",{id:"Vector_66",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint63_radial_4010_27038)"}),n.createElement("path",{id:"Vector_67",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint64_radial_4010_27038)"}),n.createElement("path",{id:"Vector_68",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint65_radial_4010_27038)"}),n.createElement("path",{id:"Vector_69",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint66_radial_4010_27038)"}),n.createElement("path",{id:"Vector_70",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint67_radial_4010_27038)"}),n.createElement("path",{id:"Vector_71",d:"M21.3456 13.8054C21.027 13.5083 20.5278 13.5259 20.2308 13.8446L18.3754 15.8352L18.473 15.1892C18.5407 14.741 18.2322 14.3227 17.784 14.255C17.3334 14.1869 16.9135 14.499 16.8489 14.9502L16.5871 16.7772L16.1771 18.2496C16.1696 18.2767 16.1634 18.304 16.1584 18.3313C16.0003 18.7571 15.9389 19.2279 15.9985 19.7123C16.1934 21.2968 17.608 22.4267 19.1582 22.236C19.8401 22.1521 20.4347 21.8266 20.8702 21.3535L23.7084 18.674C24.0413 18.3598 24.0511 17.8335 23.7302 17.507C23.5904 17.3649 23.4115 17.2847 23.2275 17.2667L23.4934 16.9814C23.8043 16.6479 23.786 16.1256 23.4525 15.8147C23.3107 15.6826 23.1349 15.61 22.9558 15.5957L23.0374 15.508C23.3483 15.1745 23.33 14.6522 22.9965 14.3414C22.663 14.0305 22.1406 14.0489 21.8298 14.3824L21.5268 14.7075C21.6624 14.4076 21.5997 14.0423 21.3456 13.8054Z",fill:"url(#paint68_radial_4010_27038)"}),n.createElement("path",{id:"Vector_72",d:"M23.2327 17.2628C23.2327 17.2628 23.6485 17.3128 23.8424 17.6448C24.1574 18.1842 23.7548 18.6255 23.7548 18.6255L22.1582 20.1276L21.4366 19.0321L23.2327 17.2628Z",fill:"url(#paint69_radial_4010_27038)"}),n.createElement("path",{id:"Vector_73",d:"M23.2327 17.2628C23.2327 17.2628 23.6485 17.3128 23.8424 17.6448C24.1574 18.1842 23.7548 18.6255 23.7548 18.6255L22.1582 20.1276L21.4366 19.0321L23.2327 17.2628Z",fill:"url(#paint70_radial_4010_27038)"}),n.createElement("path",{id:"Vector_74",d:"M20.9924 17.7691C20.7913 17.9907 20.5829 18.4463 20.7246 18.5784C21.0581 18.8892 21.7719 18.7448 22.0828 18.4113L23.4537 17.0266C23.8336 16.6008 23.7647 16.117 23.4312 15.8062C23.2895 15.674 23.1319 15.612 22.9527 15.5977L20.9924 17.7691Z",fill:"url(#paint71_radial_4010_27038)"}),n.createElement("path",{id:"Vector_75",d:"M20.9924 17.7691C20.7913 17.9907 20.5829 18.4463 20.7246 18.5784C21.0581 18.8892 21.7719 18.7448 22.0828 18.4113L23.4537 17.0266C23.8336 16.6008 23.7647 16.117 23.4312 15.8062C23.2895 15.674 23.1319 15.612 22.9527 15.5977L20.9924 17.7691Z",fill:"url(#paint72_linear_4010_27038)"}),n.createElement("path",{id:"Vector_76",d:"M20.9924 17.7691C20.7913 17.9907 20.5829 18.4463 20.7246 18.5784C21.0581 18.8892 21.7719 18.7448 22.0828 18.4113L23.4537 17.0266C23.8336 16.6008 23.7647 16.117 23.4312 15.8062C23.2895 15.674 23.1319 15.612 22.9527 15.5977L20.9924 17.7691Z",fill:"url(#paint73_radial_4010_27038)"}),n.createElement("path",{id:"Vector_77",d:"M19.7581 16.7134C19.4456 17.0553 19.6183 17.5018 19.8858 17.7511C20.2193 18.0619 20.7416 18.0435 21.0524 17.71L23.0326 15.5124C23.3434 15.179 23.315 14.6464 22.9815 14.3356C22.648 14.0247 22.1257 14.0431 21.8149 14.3766L21.5118 14.7017C21.4773 14.7779 21.4301 14.8499 21.3699 14.9145L19.7581 16.7134Z",fill:"url(#paint74_radial_4010_27038)"}),n.createElement("path",{id:"Vector_78",d:"M19.7581 16.7134C19.4456 17.0553 19.6183 17.5018 19.8858 17.7511C20.2193 18.0619 20.7416 18.0435 21.0524 17.71L23.0326 15.5124C23.3434 15.179 23.315 14.6464 22.9815 14.3356C22.648 14.0247 22.1257 14.0431 21.8149 14.3766L21.5118 14.7017C21.4773 14.7779 21.4301 14.8499 21.3699 14.9145L19.7581 16.7134Z",fill:"url(#paint75_radial_4010_27038)"}),n.createElement("path",{id:"Vector_79",d:"M19.7581 16.7134C19.4456 17.0553 19.6183 17.5018 19.8858 17.7511C20.2193 18.0619 20.7416 18.0435 21.0524 17.71L23.0326 15.5124C23.3434 15.179 23.315 14.6464 22.9815 14.3356C22.648 14.0247 22.1257 14.0431 21.8149 14.3766L21.5118 14.7017C21.4773 14.7779 21.4301 14.8499 21.3699 14.9145L19.7581 16.7134Z",fill:"url(#paint76_linear_4010_27038)"}),n.createElement("path",{id:"Vector_80",d:"M20.2105 13.8448C20.5105 13.523 21.0145 13.5053 21.3363 13.8052C21.6537 14.1011 21.676 14.5965 21.3865 14.9196L20.0282 16.4354C19.4531 17.0773 18.3889 16.6901 18.3608 15.8286L20.2105 13.8448Z",fill:"url(#paint77_radial_4010_27038)"}),n.createElement("path",{id:"Vector_81",d:"M20.2105 13.8448C20.5105 13.523 21.0145 13.5053 21.3363 13.8052C21.6537 14.1011 21.676 14.5965 21.3865 14.9196L20.0282 16.4354C19.4531 17.0773 18.3889 16.6901 18.3608 15.8286L20.2105 13.8448Z",fill:"url(#paint78_linear_4010_27038)"}),n.createElement("path",{id:"Vector_82",d:"M20.2105 13.8448C20.5105 13.523 21.0145 13.5053 21.3363 13.8052C21.6537 14.1011 21.676 14.5965 21.3865 14.9196L20.0282 16.4354C19.4531 17.0773 18.3889 16.6901 18.3608 15.8286L20.2105 13.8448Z",fill:"url(#paint79_radial_4010_27038)"})),n.createElement("defs",null,n.createElement("radialGradient",{id:"paint0_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.7707 6.79137) rotate(124.865) scale(27.3189)"},n.createElement("stop",{stopColor:"#FFF478"}),n.createElement("stop",{offset:"0.474827",stopColor:"#FFB02E"}),n.createElement("stop",{offset:"1",stopColor:"#F70A8D"})),n.createElement("radialGradient",{id:"paint1_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12.4569 10.0415) rotate(94.2973) scale(12.5177 16.0328)"},n.createElement("stop",{offset:"0.787821",stopColor:"#F59639",stopOpacity:"0"}),n.createElement("stop",{offset:"0.972509",stopColor:"#FF7DCE"})),n.createElement("radialGradient",{id:"paint2_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(13.9777 10.9144) rotate(127.987) scale(28.7663)"},n.createElement("stop",{offset:"0.314853",stopOpacity:"0"}),n.createElement("stop",{offset:"1"})),n.createElement("radialGradient",{id:"paint3_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12.8423 13.1742) rotate(70.6793) scale(19.7425)"},n.createElement("stop",{offset:"0.507903",stopColor:"#7D6133",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopColor:"#715B32"})),n.createElement("radialGradient",{id:"paint4_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(13.1476 12.7833) rotate(48.7004) scale(9.33819 6.76881)"},n.createElement("stop",{stopColor:"#FFB849"}),n.createElement("stop",{offset:"1",stopColor:"#FFB847",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint5_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.0606 13.485) rotate(2.8531) scale(8.18725)"},n.createElement("stop",{stopColor:"#FFA64B"}),n.createElement("stop",{offset:"0.900412",stopColor:"#FFAE46",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint6_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(13.7153 11.6534) rotate(36.9581) scale(41.4202)"},n.createElement("stop",{offset:"0.185425",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.4"})),n.createElement("radialGradient",{id:"paint7_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.507 8.67576) rotate(32.8851) scale(1.15207 0.70516)"},n.createElement("stop",{stopColor:"#D27C1D"}),n.createElement("stop",{offset:"1",stopColor:"#CB7620",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint8_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.3555 7.57028) rotate(26.6774) scale(1.78515 0.806317)"},n.createElement("stop",{stopColor:"#D28118"}),n.createElement("stop",{offset:"1",stopColor:"#D68623",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint9_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.57459 9.19733) rotate(22.6704) scale(1.40243 1.13824)"},n.createElement("stop",{stopColor:"#BE7227"}),n.createElement("stop",{offset:"1",stopColor:"#C67A2A",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint10_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.50853 9.51263) rotate(-2.12431) scale(1.85873 1.37324)"},n.createElement("stop",{stopColor:"#D07E2D"}),n.createElement("stop",{offset:"1",stopColor:"#D98833",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint11_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.36487 10.6479) rotate(-37.7627) scale(1.12 0.906478)"},n.createElement("stop",{stopColor:"#DA8924"}),n.createElement("stop",{offset:"1",stopColor:"#DC8924",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint12_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.68677 9.67553) rotate(16.8555) scale(1.28609 0.811269)"},n.createElement("stop",{stopColor:"#D59A13"}),n.createElement("stop",{offset:"1",stopColor:"#D59A13",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint13_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.84354 11.0154) rotate(-17.4039) scale(4.95962 3.6604)"},n.createElement("stop",{stopColor:"#F1A227"}),n.createElement("stop",{offset:"1",stopColor:"#F5A72C",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint14_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(14.2038 8.61453) rotate(125.497) scale(1.24564)"},n.createElement("stop",{stopColor:"#E8942F"}),n.createElement("stop",{offset:"1",stopColor:"#FAAB4B",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint15_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(15.952 20.4434) rotate(32.9321) scale(4.56118)"},n.createElement("stop",{stopColor:"#F47360"}),n.createElement("stop",{offset:"1",stopColor:"#F47360",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint16_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(10.975 20.4139) rotate(112.432) scale(3.77889)"},n.createElement("stop",{stopColor:"#F47360"}),n.createElement("stop",{offset:"1",stopColor:"#F47360",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint17_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.4119 15.3168) rotate(121.791) scale(4.84174)"},n.createElement("stop",{stopColor:"#FF6501"}),n.createElement("stop",{offset:"1",stopColor:"#F9883A",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint18_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(4.73967 17.5445) rotate(41.0721) scale(6.27674)"},n.createElement("stop",{stopColor:"#BC6526"}),n.createElement("stop",{offset:"1",stopColor:"#CF7432",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint19_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.85793 19.7794) rotate(-26.4528) scale(1.92139 2.9534)"},n.createElement("stop",{offset:"0.31649",stopColor:"#F16E5C"}),n.createElement("stop",{offset:"1",stopColor:"#BC642E",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint20_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.06209 16.9778) rotate(62.7308) scale(2.26321 1.2633)"},n.createElement("stop",{offset:"0.297036",stopColor:"#BC642E"}),n.createElement("stop",{offset:"1",stopColor:"#BC642E",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint21_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.60959 17.7863) rotate(59.7887) scale(2.64333 0.916333)"},n.createElement("stop",{offset:"0.297036",stopColor:"#8C4A23"}),n.createElement("stop",{offset:"1",stopColor:"#BC642E",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint22_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.24507 16.665) rotate(34.8932) scale(2.53085 0.543537)"},n.createElement("stop",{offset:"0.297036",stopColor:"#8C4A23"}),n.createElement("stop",{offset:"1",stopColor:"#BC642E",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint23_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.34523 17.4869) rotate(23.5798) scale(4.61421 2.48589)"},n.createElement("stop",{offset:"0.297036",stopColor:"#BC5614"}),n.createElement("stop",{offset:"1",stopColor:"#BC642E",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint24_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.1366 18.7765) rotate(95.7083) scale(3.10833 2.58342)"},n.createElement("stop",{offset:"0.0677083",stopColor:"#7E281F"}),n.createElement("stop",{offset:"1",stopColor:"#E96C5E",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint25_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.9406 18.2419) rotate(101.146) scale(2.61412 1.35116)"},n.createElement("stop",{offset:"0.0677083",stopColor:"#B84D2D"}),n.createElement("stop",{offset:"0.598958",stopColor:"#D5613F"}),n.createElement("stop",{offset:"1",stopColor:"#D4613F",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint26_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.1642 16.8827) rotate(85.3876) scale(3.09307 1.78473)"},n.createElement("stop",{offset:"0.0677083",stopColor:"#B85B2C"}),n.createElement("stop",{offset:"1",stopColor:"#B85B2C",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint27_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.3423 17.0614) rotate(88.6069) scale(2.9052 1.10841)"},n.createElement("stop",{offset:"0.666667",stopColor:"#BB5029"}),n.createElement("stop",{offset:"1",stopColor:"#D4613F",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint28_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.1982 16.3954) rotate(106.305) scale(2.82696 1.63119)"},n.createElement("stop",{offset:"0.0677083",stopColor:"#B85B2C"}),n.createElement("stop",{offset:"1",stopColor:"#B85B2C",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint29_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.9254 16.7447) rotate(115.229) scale(3.43981 1.49368)"},n.createElement("stop",{offset:"0.666667",stopColor:"#BB5029"}),n.createElement("stop",{offset:"1",stopColor:"#D4613F",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint30_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.30941 12.1691) rotate(15.1561) scale(2.89658 3.00935)"},n.createElement("stop",{stopColor:"#F97660"}),n.createElement("stop",{offset:"1",stopColor:"#F97660",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint31_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.6321 11.0045) rotate(166.645) scale(5.63468)"},n.createElement("stop",{stopColor:"#FE9671"}),n.createElement("stop",{offset:"1",stopColor:"#FFD15A",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint32_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12.4656 10.1106) rotate(82.9873) scale(5.05014 5.5214)"},n.createElement("stop",{offset:"0.517632",stopColor:"#4E2553"}),n.createElement("stop",{offset:"0.702876",stopColor:"#5B4852"}),n.createElement("stop",{offset:"1",stopColor:"#4E2553"})),n.createElement("radialGradient",{id:"paint33_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.51889 9.62628) rotate(82.9873) scale(1.95565)"},n.createElement("stop",{offset:"0.188596",stopColor:"#1D1019"}),n.createElement("stop",{offset:"1",stopColor:"#462B3F",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint34_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.51889 9.62628) rotate(82.9873) scale(2.53034 2.87184)"},n.createElement("stop",{offset:"0.718644",stopColor:"#462B3F",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopColor:"#1D1019"})),n.createElement("radialGradient",{id:"paint35_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.3602 8.3362) rotate(82.9873) scale(2.32341 4.88064)"},n.createElement("stop",{offset:"0.429103",stopColor:"#462B3F",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopColor:"#1D1019"})),n.createElement("radialGradient",{id:"paint36_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.1767 8.6839) rotate(82.9873) scale(1.95565)"},n.createElement("stop",{offset:"0.188596",stopColor:"#1D1019"}),n.createElement("stop",{offset:"1",stopColor:"#462B3F",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint37_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.1767 8.6839) rotate(82.9873) scale(2.53034 2.87184)"},n.createElement("stop",{offset:"0.718644",stopColor:"#462B3F",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopColor:"#1D1019"})),n.createElement("radialGradient",{id:"paint38_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.018 7.39381) rotate(82.9873) scale(2.32341 4.88064)"},n.createElement("stop",{offset:"0.429103",stopColor:"#462B3F",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopColor:"#1D1019"})),n.createElement("radialGradient",{id:"paint39_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.46128 15.331) rotate(110.573) scale(13.2032 13.1636)"},n.createElement("stop",{offset:"0.239583",stopColor:"#FFCC42"}),n.createElement("stop",{offset:"0.562377",stopColor:"#FFB02E"}),n.createElement("stop",{offset:"1",stopColor:"#F70A8D"})),n.createElement("radialGradient",{id:"paint40_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.18675 15.8005) rotate(117.333) scale(8.34107 11.2718)"},n.createElement("stop",{offset:"0.65203",stopColor:"#FFB745",stopOpacity:"0"}),n.createElement("stop",{offset:"0.855204",stopColor:"#F69044"}),n.createElement("stop",{offset:"0.930316",stopColor:"#DE6A63"})),n.createElement("radialGradient",{id:"paint41_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.01223 16.5183) rotate(63.3885) scale(1.90914 1.00843)"},n.createElement("stop",{stopColor:"#EE982C"}),n.createElement("stop",{offset:"1",stopColor:"#EEA02C",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint42_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.71273 15.6497) rotate(40.2779) scale(0.996238)"},n.createElement("stop",{stopColor:"#DA8C2B"}),n.createElement("stop",{offset:"1",stopColor:"#EEA02C",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint43_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(11.2324 19.1177) rotate(82.9873) scale(2.91329 1.31618)"},n.createElement("stop",{stopColor:"#FFDA3C"}),n.createElement("stop",{offset:"1",stopColor:"#FFDA3C",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint44_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.96501 17.5399) rotate(68.3061) scale(2.57116 1.03289)"},n.createElement("stop",{stopColor:"#FFD743"}),n.createElement("stop",{offset:"1",stopColor:"#FFD743",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint45_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(4.86142 20.6701) rotate(27.49) scale(1.66699 0.476379)"},n.createElement("stop",{stopColor:"#FFCE43"}),n.createElement("stop",{offset:"1",stopColor:"#FFCE43",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint46_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(4.13732 19.4367) rotate(31.4192) scale(2.50839 0.621242)"},n.createElement("stop",{offset:"0.385833",stopColor:"#83480A"}),n.createElement("stop",{offset:"0.609375",stopColor:"#CD7313"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint47_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(4.77975 18.7021) rotate(-150.935) scale(2.31666 0.470936)"},n.createElement("stop",{stopColor:"#A03B04"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint48_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(4.41702 19.1988) rotate(30.6654) scale(1.58874 0.416865)"},n.createElement("stop",{stopColor:"#FFCE43"}),n.createElement("stop",{offset:"1",stopColor:"#FFCE43",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint49_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.89252 17.435) rotate(-147.659) scale(2.65338 0.856419)"},n.createElement("stop",{stopColor:"#A03B04"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint50_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.28395 17.8839) rotate(33.8852) scale(2.07336 0.514037)"},n.createElement("stop",{stopColor:"#FFDB3F"}),n.createElement("stop",{offset:"1",stopColor:"#FFDB3F",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint51_linear_4010_27038",x1:"3.98556",y1:"19.0278",x2:"4.64887",y2:"18.0877",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#CD7313"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint52_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.59537 16.6794) rotate(32.4841) scale(2.34341 0.349955)"},n.createElement("stop",{stopColor:"#FFF478",stopOpacity:"0.3"}),n.createElement("stop",{offset:"1",stopColor:"#FFF478",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint53_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.21867 15.9472) rotate(139.297) scale(1.45272 2.83466)"},n.createElement("stop",{offset:"0.532661",stopColor:"#83480A"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint54_linear_4010_27038",x1:"4.98855",y1:"17.5405",x2:"5.89364",y2:"16.7322",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{offset:"0.173754",stopColor:"#CD7313"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint55_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(24.6125 12.6903) rotate(130.592) scale(19.5202 19.4617)"},n.createElement("stop",{offset:"0.239583",stopColor:"#FEB63A"}),n.createElement("stop",{offset:"0.537866",stopColor:"#FFB02E"}),n.createElement("stop",{offset:"1",stopColor:"#F70A8D"})),n.createElement("radialGradient",{id:"paint56_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.067 21.603) rotate(134.802) scale(8.97851 9.04921)"},n.createElement("stop",{offset:"0.239583",stopColor:"#FFB52F",stopOpacity:"0"}),n.createElement("stop",{offset:"0.526687",stopColor:"#FFD142"}),n.createElement("stop",{offset:"0.584428",stopColor:"#FFD142"}),n.createElement("stop",{offset:"1",stopColor:"#FFBB30",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint57_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.3912 16.6992) rotate(61.7113) scale(1.87543 1.83042)"},n.createElement("stop",{stopColor:"#FEB32F"}),n.createElement("stop",{offset:"1",stopColor:"#FEB32F",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint58_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.8711 16.9502) rotate(123.084) scale(1.70692 0.680449)"},n.createElement("stop",{stopColor:"#FFBB33"}),n.createElement("stop",{offset:"1",stopColor:"#FFBB33",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint59_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.0164 18.0113) rotate(129.022) scale(1.62474 0.583467)"},n.createElement("stop",{stopColor:"#FFBB33"}),n.createElement("stop",{offset:"1",stopColor:"#FFBB33",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint60_linear_4010_27038",x1:"15.8097",y1:"16.5292",x2:"17.5972",y2:"16.7662",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#D28B23"}),n.createElement("stop",{offset:"1",stopColor:"#D28B23",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint61_linear_4010_27038",x1:"13.2517",y1:"15.8555",x2:"15.8898",y2:"14.9766",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{offset:"0.328125",stopColor:"#EE891E"}),n.createElement("stop",{offset:"0.864583",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint62_linear_4010_27038",x1:"21.2812",y1:"19.3348",x2:"22.302",y2:"20.3548",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#FFBF45",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopColor:"#FFAF4A"})),n.createElement("radialGradient",{id:"paint63_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.1027 17.0822) rotate(89.2765) scale(5.57904 5.63802)"},n.createElement("stop",{offset:"0.65203",stopColor:"#FFB745",stopOpacity:"0"}),n.createElement("stop",{offset:"0.892907",stopColor:"#F69044"}),n.createElement("stop",{offset:"1",stopColor:"#DE6A63"})),n.createElement("radialGradient",{id:"paint64_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.017 15.4543) rotate(97.9033) scale(1.35624 0.556881)"},n.createElement("stop",{stopColor:"#FFD445"}),n.createElement("stop",{offset:"1",stopColor:"#FFD345",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint65_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.0367 14.2269) rotate(63.7378) scale(0.818683 0.586279)"},n.createElement("stop",{stopColor:"#FFDA43"}),n.createElement("stop",{offset:"1",stopColor:"#FFDA43",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint66_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(22.6949 14.7516) rotate(64.6785) scale(1.0259 0.734206)"},n.createElement("stop",{stopColor:"#FFDA43"}),n.createElement("stop",{offset:"1",stopColor:"#FFDA43",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint67_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.0666 14.7459) rotate(71.4295) scale(1.12743 0.815492)"},n.createElement("stop",{offset:"0.328125",stopColor:"#FFDA43"}),n.createElement("stop",{offset:"0.723958",stopColor:"#FFDA43",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint68_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.3835 15.8012) rotate(128.723) scale(0.921488 0.145237)"},n.createElement("stop",{stopColor:"#B9671B"}),n.createElement("stop",{offset:"0.849337",stopColor:"#B9671B",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint69_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(22.3907 17.891) rotate(-39.9041) scale(2.01148 0.789161)"},n.createElement("stop",{stopColor:"#A03B04"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint70_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.6111 17.984) rotate(74.2673) scale(0.562565 0.335288)"},n.createElement("stop",{stopColor:"#FFD943"}),n.createElement("stop",{offset:"1",stopColor:"#FFD943",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint71_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(22.0908 16.5712) rotate(-48.186) scale(2.42637 0.581818)"},n.createElement("stop",{stopColor:"#A03B04"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint72_linear_4010_27038",x1:"23.414",y1:"17.6561",x2:"22.7402",y2:"17.1222",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#CD7313"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint73_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.4023 16.2423) rotate(63.7296) scale(0.624798 0.488487)"},n.createElement("stop",{stopColor:"#FFDB3F"}),n.createElement("stop",{offset:"1",stopColor:"#FFDB3F",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint74_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.5493 15.7763) rotate(-46.745) scale(2.92234 0.62563)"},n.createElement("stop",{stopColor:"#A03B04"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint75_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(22.857 14.7031) rotate(58.9651) scale(0.587659 0.326814)"},n.createElement("stop",{stopColor:"#FFDB3F"}),n.createElement("stop",{offset:"1",stopColor:"#FFDB3F",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint76_linear_4010_27038",x1:"22.8928",y1:"16.7304",x2:"22.0138",y2:"16.008",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#CD7313"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint77_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.8243 14.3596) rotate(44.5005) scale(1.2129 2.56783)"},n.createElement("stop",{offset:"0.545035",stopColor:"#E1A21C"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint78_linear_4010_27038",x1:"20.9985",y1:"16.1708",x2:"20.2367",y2:"15.6983",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#CD7313"}),n.createElement("stop",{offset:"1",stopColor:"#FA9428",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint79_radial_4010_27038",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.1065 14.1572) rotate(65.882) scale(0.644581 0.333509)"},n.createElement("stop",{stopColor:"#FFDB3F"}),n.createElement("stop",{offset:"1",stopColor:"#FFDB3F",stopOpacity:"0"})),n.createElement("clipPath",{id:"clip0_4010_27038"},n.createElement("rect",{width:"22.445",height:"22.445",fill:"white",transform:"translate(0 2.74023) rotate(-7.01271)"}))))}function sk({type:e}){return n.createElement("div",{className:"asset_panel_visual_asset_packs--assetPacks--N99gD"},n.createElement(sI,{type:e}))}function sI({type:e}){let t="icons"===e?n.createElement(sT,null):n.createElement(sw,null),a="icons"===e?(0,S.t)("design_systems.assets_panel.icon_sets"):(0,S.t)("design_systems.assets_panel.illustrations");return n.createElement("div",{className:"asset_panel_visual_asset_packs--assetPacksCard--Rk2WH"},n.createElement("div",{className:"asset_panel_visual_asset_packs--assetPacksCardContent--Wqzwe"},n.createElement("div",{className:"asset_panel_visual_asset_packs--iconBackground--SdVHz"},t),n.createElement("h3",{className:"asset_panel_visual_asset_packs--title--NDdZn ellipsis--ellipsis--Tjyfa"},a)))}let sN=(0,u.jz)(rn.RU)+1,sP=(0,u.jz)(rn.nT),sx=16/9;var sA=a(287213);function sL(){let e=(0,U.tS)(),{getLibrary:t}=(0,ru.G)(),[a,r]=(0,sA.g)(),s=n.useMemo(()=>t(e??""),[t,e]),l=!s||0===s.numComponents&&0===s.numTemplates,i=0===a.length,o=0===r.length;return n.useMemo(()=>l&&i&&o,[l,i,o])}let sO="asset_panel_libraries--row--nHi0j",sM="asset_panel_libraries--libraryPrimaryButton--hs6a7",sD=(0,u.jz)(rn.YJ),sR=(0,u.jz)(rn.RQ),sF=(0,u.jz)(rn.ce),sU=(0,u.jz)(rn.Kv),sG=(0,u.jz)(rn.PK),sK=(0,u.jz)(rn.vr);function sB({width:e,hideScrollbar:t,assetPanelItems:a}){let r=a.localAssets,[s,l]=(0,sA.g)();return sL()?n.createElement("div",{style:{width:e}},n.createElement(eO.od,null)):n.createElement(sV,{localAssets:r,subscribedLibraries:s,presetLibraries:l,hideScrollbar:t,width:e})}function sV({localAssets:e,subscribedLibraries:t,presetLibraries:a,width:r,hideScrollbar:s}){let{librariesScrollTop:l,handleScrollLibraries:i}=rG(),o=(0,s_.KJ)(),{currentView:c}=(0,rc.wV)(),[d]=(0,rd.MA)(),p=o?rd.$H.LIST:d,{cardWidth:u,previewHeight:m,numColumns:h}=function({sidebarWidth:e,minCardWidth:t=180,previewPadding:a=sN,widthToHeightRatio:r=sx,rowPadding:s=sP}){let l=e-2*s,i=n.useMemo(()=>rB({elementMinSize:t,spaceAvailable:l,gap:0}),[t,l]),o=n.useMemo(()=>rV({numElements:i,spaceAvailable:l,gap:0}),[i,l]),c=n.useMemo(()=>o-2*a,[o,a]),d=n.useMemo(()=>rH({width:c,widthToHeightRatio:r}),[c,r]);return n.useMemo(()=>({cardWidth:o,previewWidth:c,previewHeight:d,numColumns:i}),[o,c,d,i])}({sidebarWidth:r}),g=p===rd.$H.GRID?h:1,f="grid"===p?sD+m+2:sU,_=t.length>0&&!(0,e2.kc)().dse_hide_local_and_subscribed_libraries,E=e.numComponents+e.numTemplates>0&&!(0,e2.kc)().dse_hide_local_and_subscribed_libraries,y=a.length>0&&(_||E),C=n.useMemo(()=>{let r=[],s=[];E&&s.push(e),_&&s.push(...t);for(let e=0;e<s.length;e+=g){let t=s.slice(e,e+g);r.push({element:n.createElement("div",{className:sO},t.map((t,a)=>n.createElement(sv,{key:t.fileKey,library:t,keyboardSection:n5.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:a,cardWidth:u,previewHeight:m}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:f})}y&&(r.push({element:n.createElement(rm.cG,null),key:"divider",height:sR}),r.push({element:n.createElement(rm.X3,{title:(0,e2.kc)().dse_preset_libraries?(0,S.t)("design_systems.assets_panel.ui_kits"):(0,S.t)("design_systems.assets_panel.curated_libraries")}),key:"preset_libraries_header",height:sF}));for(let e=0;e<a.length;e+=g){let t=a.slice(e,e+g);r.push({element:n.createElement("div",{className:sO},t.map((t,a)=>n.createElement(sv,{key:t.fileKey,library:t,keyboardSection:n5.gP.PRESETS,rowIndex:e,columnIndex:a,cardWidth:u,previewHeight:m}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:f})}return o&&(r.push({element:n.createElement(rm.cG,null),key:"divider",height:sR}),r.push({element:n.createElement(rm.X3,{title:(0,S.t)("design_systems.assets_panel.assets_from_community")}),key:"visual_assets_header",height:sF}),r.push({element:n.createElement(sk,{type:"icons"}),key:"visual_assets_icon_sets",height:sK}),r.push({element:n.createElement(sk,{type:"illustrations"}),key:"visual_assets_illustrations",height:sK})),r.push(o?{element:n.createElement(sz,null),key:"browse_more_assets_button",height:sG}:{element:n.createElement(sH,null),key:"add_more_libraries_button",height:sG}),r},[g,u,m,E,t,y,a,f,e,_,o]);return n.createElement(rD,{elements:C,hideScrollbar:s,initialScrollTop:l,onScroll:i,anchorScroll:c===rc.S5.Libraries})}function sH(){let{onToggleLibraryModal:e}=(0,eY.u)({entrypoint:eM.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor"});return n.createElement("div",{className:sM},n.createElement(tQ.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries"},(0,S.tx)("design_systems.assets_panel.add_more_libraries")))}function sz(){return n.createElement("a",{className:sM,href:"/community/visual-assets",target:"_blank"},n.createElement(tQ.$n,{variant:"secondary",recordingKey:"assetsLibrary.browseMoreAssets"},(0,S.tx)("design_systems.assets_panel.browse_more_assets")))}function sY({page:e,index:t}){let a=(0,ri.sN)(),[r]=(0,rd.MA)(),{previewAsset:l}=e,{navigateToPage:i,libraryKey:c,currentView:d}=(0,rc.wV)(),u=n.useCallback(()=>{a("pageRow",i(e.id))},[a,i,e.id]),m=e.id,h=d!==rc.S5.Pages,{keyboardNavigationItem:g,setKeyboardNavigationElement:f}=(0,ec.M3)({path:[n5.ON.CONTENTS,n5.lM.PAGES,t],id:e.id,disabled:h}),{focusFirstItem:_,focusSearchBar:E}=(0,ro.rl)();(0,ro.C0)(g,d===rc.S5.Pages&&0===t);let y=(0,ro.MB)({onBoth:u,onKeyDown:_,onClick:E}),C=function(e,t){let a=(0,U.q5)(),r=(0,s.wA)(),l=e===a?.key,i=!!e&&!!t,c=n.useMemo(()=>(0,tH.jN)({file:{key:e??"",editor_type:tC._Y.DESIGN},nodeId:t}),[e,t]),d=n.useCallback(()=>o.q.instance.setCurrentPageAsync(t??""),[t]),u=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e,pageId:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,isLocal:l})},[l,e,a?.key,a?.parentOrgId,a?.teamId,t]),m=n.useCallback(()=>{d(),u()},[d,u]),h=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e,pageId:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0})},[e,a?.key,a?.parentOrgId,a?.teamId,t]);return n.useCallback(a=>{!i||(0,e4.wJ)(e)||(a.preventDefault(),a.stopPropagation(),r((0,sa.j7)({type:sp,data:{libraryPageHref:c,pageId:t,isLocalLibrary:l,onClickLocalPage:m,onClickSubscribedPage:u,position:{top:a.clientY,left:a.clientX}}})),h())},[e,i,r,c,t,l,m,u,h])}(c,e.id),v="list"===r;return n.createElement(rl,{keyPrefix:m,name:e.name,onClick:y,onContextMenu:C,previewAsset:l,recordingKey:`assetsPage.${e.id}`,ref:f,disabled:h,isList:v,variant:v?"icon":"preview"})}var sj=a(395900);let sW="performance.ds_eco.asset_panel_pages_view_loading",s$=new sj.jk(sW,{});function sX({didFinishLoading:e}){let t=s$.stop();(0,p.sx)(sW,{elapsedMs:t,isNewAssetPanelFetch:!!(0,e2.kc)().dse_new_asset_panel_fetch,didFinishLoading:e},{forwardToDatadog:!0})}let sZ=(0,u.jz)(rn.RQ),sq=(0,u.jz)(rn._q),sJ=(0,u.jz)(rn.HE);function sQ({library:e,width:t,hideScrollbar:a,isLoading:r}){!function({isLoading:e}){let{currentView:t}=(0,rc.wV)(),a=(0,em.ZC)(t);n.useEffect(()=>(a===rc.S5.Libraries&&t===rc.S5.Pages&&s$.start(),t===rc.S5.Pages&&!e&&s$.isRunning&&sX({didFinishLoading:!0}),()=>{a===rc.S5.Pages&&t!==rc.S5.Pages&&s$.isRunning&&sX({didFinishLoading:!1})}),[e,t,a])}({isLoading:r});let[s]=(0,rd.MA)(),{pagesScrollTop:l,handleScrollPages:i}=rG({libraryKey:e?.fileKey}),o=n.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,tB.E_)(e?.fileKey??""),d=n.useMemo(()=>{let e=[];return o.forEach(([t,a],r)=>{e.push({element:n.createElement(sY,{page:a,index:r}),height:"list"===s?sJ:sq,key:t}),0===r&&(0,tT.dS)(a.name,{isPreset:c})&&e.push({element:n.createElement(rm.cG,null),key:"examples_divider",height:sZ})}),e},[s,o,c]);return r?n.createElement("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner"},n.createElement(ed.kt,null)):0===o.length?n.createElement("div",{style:{width:t}}):n.createElement(rD,{elements:d,hideScrollbar:a,initialScrollTop:l,onScroll:i})}let s1="asset_panel_recents--resultsWrapper--k79Vy",s0="asset_panel_recents--resultsWrapperList--peuzW",s2=(0,tu.fv)();function s3(){let{productComponents:e,templates:t}=(0,aK.g5)(tx.$A.Design),{getLibrary:a}=(0,ru.G)(),r=(0,e2.kc)().dse_editor_templates_v1,[s]=(0,rd.MA)(),l="list"===s,i=n.useCallback(e=>{let t=a(e);return t?.name||""},[a]),o=rq(),{props:c,numColumns:d}=n.useMemo(()=>rJ(o,s,na.rp.NORMAL),[o,s]),{props:p}=n.useMemo(()=>rJ(o,s,na.rp.NORMAL,!0),[o,s]),{componentSectionNameForTracking:u,templateSectionNameForTracking:m}=(0,ri.zf)(),h=e.length>0,g=t.length>0;return n.createElement(rm.xU,null,r&&g&&n.createElement(n.Fragment,null,n.createElement(rm.X3,{title:(0,S.t)("design_systems.assets_panel.templates")}),n.createElement("div",{className:l?s0:s1},t.map((e,t)=>n.createElement(rv,{key:`assetPanelRecents:template:${(0,t_.V)(e)}`,asset:e,fileName:i(s2(e)),sectionNameForTracking:m,sectionPosition:t,keyboardPosition:(0,ro.pg)([n5.tM.TEMPLATES],t,1),...p})))),r&&g&&h&&n.createElement("div",{className:"asset_panel_recents--buffer--URYGQ"}),h&&n.createElement(n.Fragment,null,r&&g&&n.createElement(rm.X3,{title:(0,S.t)("design_systems.assets_panel.components")}),n.createElement("div",{className:l?s0:s1},e.map((e,t)=>n.createElement(rv,{key:`assetPanelRecents:component:${(0,t_.V)(e)}`,asset:e,fileName:i(s2(e)),sectionNameForTracking:u,sectionPosition:t,keyboardPosition:(0,ro.pg)([n5.tM.COMPONENTS],t,d),...c})))),n.createElement("div",{className:"asset_panel_recents--bottomPadding--9BTkl"}))}var s4=a(860601),s8=a(453681),s5=a(27703),s7=a(396462),s6=a(858855),s9=a(527735);let le=function({isLoading:e,children:t}){return e?n.createElement("div",{className:"maybe_loading--loadingContainer--Wfq03"},n.createElement(ed.kt,null)):n.createElement(n.Fragment,null,t)},lt="asset_panel_search_results--empty--72Hqc",la=(0,u.jz)(rn.ce),ln=(0,u.jz)(rn.GH),lr=(0,tu.fv)(),ls=({moreResults:e,query:t,assetType:a,showMoreDefault:r})=>{let[s,l]=n.useState(!1),i=r||s,o=n.useCallback(()=>l(!0),[]);n.useEffect(()=>{l(!1)},[t]);let c=(0,s5.ud)(),d=(0,g.md)(s8.qp),p=n.useCallback(e=>((0,e2.kc)().ds_use_lib_keys?d[e.library_key]?.name:c[lr(e)]?.name)??"",[c,d]),[u]=(0,rd.MA)(),m=rq(),h="templates"===a,{props:f,numColumns:_}=n.useMemo(()=>rJ(m,u,na.rp.NORMAL,h),[m,u,h]),{componentSectionNameForTracking:E,templateSectionNameForTracking:y}=(0,ri.zf)({moreSearchResults:!0}),C=n.useMemo(()=>rM(e,_,`${a}:moreResults`,f,h?y:E,[h?n5.tM.TEMPLATES:n5.tM.COMPONENTS,1],{getFileName:p}),[e,_,a,f,h,y,E,p]);return n.useMemo(()=>{if(0===e.length)return[];let t=[];return t.push({element:n.createElement("div",{className:"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j"},i&&(0,S.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!i&&n.createElement("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:o},(0,S.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length}))),key:`${a}:showMoreText`,height:ln}),i&&t.push(...C),t},[a,e.length,i,o,C])},ll=(0,tu.fv)();function li({components:e,moreComponents:t,templates:a,moreTemplates:r,query:s,getLibraryNameFromKey:l}){let i=(0,e2.kc)().dse_editor_templates_v1,o=e.length+t.length>0,c=a.length+r.length>0,d=n.useCallback(e=>l(ll(e)),[l]),[p]=(0,rd.MA)(),u=rq(),{props:m,numColumns:h}=n.useMemo(()=>rJ(u,p,na.rp.NORMAL),[u,p]),{componentSectionNameForTracking:g,templateSectionNameForTracking:f}=(0,ri.zf)(),_=n.useMemo(()=>rM(e,h,"components",m,g,[n5.tM.COMPONENTS,0],{getFileName:d}),[e,h,m,g,d]),{props:E,numColumns:y}=n.useMemo(()=>rJ(u,p,na.rp.NORMAL),[u,p]),C=n.useMemo(()=>rM(a,y,"templates",E,f,[n5.tM.TEMPLATES,0],{getFileName:d}),[a,y,E,f,d]),v=ls({moreResults:t,query:s,assetType:"components",showMoreDefault:0===e.length&&t.length>0}),b=ls({moreResults:r,query:s,assetType:"templates"}),T=n.useMemo(()=>{let e=[];return i&&c&&(e.push({element:n.createElement(rm.X3,{title:(0,S.t)("design_systems.assets_panel.templates")}),key:"templatesHeader",height:la}),e.push(...C),e.push(...b)),o&&(c&&e.push({element:n.createElement(rm.X3,{title:(0,S.t)("design_systems.assets_panel.components")}),key:"componentsHeader",height:la}),e.push(..._),e.push(...v)),e},[i,c,o,C,b,_,v]);return n.createElement(rD,{elements:T,anchorScroll:!0})}let lo=(0,tu.fv)();function lc(){let{query:e,normalizedSearchResults:t,unsubscribedSearchResults:a,isLoading:r}=(0,s.d4)(eF.UQ),l=(0,s6.U)(),{libraryKey:i}=(0,rc.wV)(),{getLibrary:o}=(0,ru.G)(),{isLoading:c,libraryNameByResourceId:d}=function(e){let{hubFileIds:t,fileKeys:a}=n.useMemo(()=>{let t=Array.from(e),{pass:a,fail:n}=(0,s9.j)(t,e4.wJ);return{hubFileIds:a,fileKeys:n}},[e]),r=n.useMemo(()=>a.map(e=>({fileKey:e})),[a]),s=n.useMemo(()=>t.map(e=>({hubFileId:e})),[t]),l=(0,tR.p)(ef.NSA,r,{enabled:r.length>0}),i=(0,tR.p)(ef.a9b,s,{enabled:s.length>0});return{isLoading:n.useMemo(()=>l.some(e=>"loading"===e.result.status)||i.some(e=>"loading"===e.result.status),[l,i]),libraryNameByResourceId:n.useMemo(()=>{let e={};for(let t of l)"loaded"===t.result.status&&t.result.data.file&&(e[t.args.fileKey]=t.result.data.file.name);for(let t of i)"loaded"===t.result.status&&t.result.data.hubFile?.currentHubFileVersion&&(e[t.args.hubFileId]=t.result.data.hubFile.currentHubFileVersion.name);return e},[l,i])}}(n.useMemo(()=>new Set(t.map(e=>lo(e))),[t])),p=ld(e),u=n.useCallback(e=>d[e]??o(e)?.name??"",[d,o]),m=n.useMemo(()=>i?o(i)?.name:void 0,[o,i]),[h,g]=n.useMemo(()=>(0,eF._2)(t.filter(e=>u(lo(e)))),[t,u]),[f,_]=n.useMemo(()=>(0,eF._2)(a),[a]),E=g.length+_.length>0,y=h.length+f.length>0;return e?n.createElement(le,{isLoading:c&&p||r||l},E||y?n.createElement(li,{components:g,moreComponents:_,templates:h,moreTemplates:f,query:e,getLibraryNameFromKey:u}):n.createElement("div",{className:lt},m?(0,S.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:m}):(0,S.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e}))):n.createElement("div",{className:lt},"Search keywords and filter results by specific libraries, templates, and components.")}let ld=e=>{let t=(0,em.ZC)(e),{isActive:a,start:r}=(0,s7.Z)(s4.lQ);return n.useEffect(()=>{e!==t&&r(1e4)},[e,t,r]),a},lp=(e,t)=>e===rc.S5.Libraries?0:e===rc.S5.Pages||t?1:2;function lu({assetPanelItems:e,width:t}){let{libraryKey:a,pageId:r,currentView:l}=(0,rc.wV)(),{previousLibraryKey:i}=(0,rc.RR)(),o=lm(),{getPage:c,getLibrary:d}=(0,ru.G)(),u=(0,s6.q)()(a);nH(n.useCallback(()=>{let t=0,a=0,n=0;for(let[r,s]of e.allLibrariesUnsorted){if(r===e.localAssets.fileKey){s.numComponents>=0&&(t+=1);continue}t+=1,a+=s.numComponents,n+=Math.min(s.numComponents,20)}return{numLibraries:t,numComponents:a,numComponentsWithLimit:n}},[e])),lh(),ey();let m=n.useMemo(()=>d(a??i),[d,a,i]),h=n.useMemo(()=>c(a,r),[c,a,r]),f=lp(l,o),[_,E]=(0,sA.g)();return!function(e,t,a){let r=(0,s.d4)(e=>e.openFile),[l,i]=(0,g.fp)(n3.GT),o=t.length+a.length;e.numComponents+e.numTemplates>0&&(o+=1),n.useEffect(()=>{if(!l){i(!0);let e=n3._o.stop();e&&(0,p.sx)(n3.YS,{elapsedMs:e,fileKey:r?.key,teamId:r?.teamId,orgId:r?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:o,numComponents:0,numComponentsShown:0,numSectionsShown:o},{forwardToDatadog:!0})}},[l,i,o,r])}(e.localAssets,_,E),n.createElement(n.Fragment,null,n.createElement(sf,null),l===rc.S5.Search?n.createElement(lc,null):l===rc.S5.Recents?n.createElement(s3,null):n.createElement(rQ,{index:f,width:t},n.createElement(sB,{width:t,hideScrollbar:0!==f,assetPanelItems:e}),!o&&n.createElement(sQ,{library:m,width:t,isLoading:u,hideScrollbar:1!==f}),n.createElement(r8,{page:h,width:t})))}let lm=()=>{let{getLibrary:e}=(0,ru.G)(),{libraryKey:t}=(0,rc.wV)(),a=(0,s6.q)()(t),n=e(t);return!!n&&!a&&!!(0,rc.Cg)(n)},lh=()=>{let{libraryKey:e}=(0,rc.wV)(),t=(0,n8.R)(),a=(0,n4.$)(e);n.useEffect(()=>{e&&(0,e4.wJ)(e)&&a&&t({updateSource:"ui3_library_expand"})},[a,e,t])};var lg=a(755020),lf=a(900956),l_=a.n(lf),lE=a(259927);let ly="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",lC="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function lv({stubs:e}){let{collapsibleStubs:t,lastStub:a,numHiddenStubs:r,breadcrumbRef:s,ellipsisRef:l,stubRefs:i}=lb(e),o=n.useCallback(()=>l.current?{top:l.current.getBoundingClientRect().bottom,left:l.current.getBoundingClientRect().left}:{top:0,left:0},[l]),c=r===t.length;return n.createElement("div",{className:tp.cx.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:st.sx.add({flexBasis:"content"}).$,ref:s,role:"navigation"},n.createElement(lw,{shouldEllipsize:c}),r>0&&n.createElement(lT,{allStubs:t,numHiddenStubs:r,getDropdownTarget:o,ref:l}),t.map((e,t)=>t<r?null:n.createElement(lk,{key:t,i:t,name:e,ref:e=>i.current[t]=e})),e.length>0?n.createElement(lI,{name:a,firstSlash:0===t.length,shouldEllipsize:c}):null)}let lb=e=>{let[t,a]=n.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[r,s]=n.useState([]),l=n.useRef([]);n.useEffect(function(){l.current.length>t.length&&(l.current=l.current.slice(0,t.length)),r.length>t.length&&s(e=>e.slice(0,t.length))},[t,r.length,e.length]);let i=n.useRef(null),o=n.useRef(null),{width:c}=rT();return n.useLayoutEffect(function(){let e=i.current;if(!e)return;let t=e.children,a=e.offsetWidth-l_()(Array.from(t).map(e=>e.scrollWidth));if(a<0){let e=l.current[r.length];e&&s(t=>[...t,e.scrollWidth])}else if(0===a)return;else if(r.length>0){let e=r.length-1;a>r[e]-(o.current&&1===r.length?o.current.scrollWidth:0)&&s(e=>e.slice(0,-1))}},[r,l,e,c]),{collapsibleStubs:t,lastStub:a,numHiddenStubs:r.length,breadcrumbRef:i,ellipsisRef:o,stubRefs:l}},lS="asset-panel-ellipsis-menu",lT=n.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:a},l)=>{let i=(0,ri.sN)(),o=(0,R.Um)(),c=o?.type===lS,p=(0,s.wA)(),u=n.useCallback(()=>p((0,sa.oB)()),[p]),m=n.useCallback(()=>p((0,sa.j7)({type:lS,data:{position:a()}})),[p,a]),{isCurrentlySkippingPage:h,isCurrentlySkippingFirstFolder:g,navigateBackToPathIndex:f}=(0,rc.wV)(),_=n.useMemo(()=>t.slice(0,e),[t,e]),E=n.useMemo(()=>_.join(" / "),[_]),y=n.useMemo(()=>{if(c)return o.data?.position},[o?.data?.position,c]),C=n.useCallback(e=>{i("breadcrumb",f(lP(e,h,g)))},[g,h,i,f]),{focusBackButton:v,focusSearchBar:b}=(0,ro.rl)(),S=(0,ro.NR)({onBoth:e=>()=>{C(e)},onKeyDown:()=>()=>{setTimeout(()=>v(),0)},onClick:()=>b}),{setKeyboardNavigationElement:T}=(0,ec.M3)({path:[n5.ON.BREADCRUMB],column:n5.Yv.ELLIPSIS}),w=d()(ly,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":c});return n.createElement("div",null,n.createElement("div",{ref:l,className:tp.cx.flex.itemsCenter.$},n.createElement(lN,null),n.createElement("button",{ref:T,className:w,onClick:m,"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":E,"aria-label":E,"aria-haspopup":"listbox","aria-expanded":c},"\u2026")),c&&r.createPortal(n.createElement(se.X3,{className:lE.Dm,positionAbsolute:!0,style:y,id:"asset-panel-ellipsis-menu",hideDropdown:u,autofocusPrevElementOnEsc:!0},_.map((e,t)=>n.createElement(se.c$,{key:e,onClick:S(t)},e))),document.body))});function lw({shouldEllipsize:e}){let t=(0,U.tS)(),[,,a]=(0,sA.g)(),{currentView:r,libraryKey:s,navigateToLibrary:l,isCurrentlySkippingPage:i,isCurrentlySkippingFirstFolder:o,folderPath:c}=(0,rc.wV)(),{setLastNavAction:p}=(0,rF.ZX)(),{focusBackButton:u,focusSearchBar:m}=(0,ro.rl)(),h=n.useMemo(()=>s?s===t?(0,S.t)("design_systems.assets_panel.local_assets"):a.get(s)?.name:void 0,[a,s,t]),g=(0,ri.sN)(),f=r===rc.S5.Libraries,_=r===rc.S5.Pages,E=r===rc.S5.Recents,y=n.useMemo(()=>!!_||!!i&&(!c||!!o&&1===c.length),[c,o,i,_]),C=n.useCallback(e=>{let t=l(e);p(rF.r6.Back),g("breadcrumb",t)},[g,l,p]),v=(0,ro.MB)({onBoth:()=>C(s??""),onKeyDown:u,onClick:m}),{setKeyboardNavigationElement:b}=(0,ec.M3)({path:[n5.ON.BREADCRUMB],column:n5.Yv.LIBRARY}),T=d()(_?lC:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e});return f?n.createElement("div",{className:"asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",style:{marginLeft:3}},(0,e2.kc)().dse_hide_local_and_subscribed_libraries?(0,S.tx)("design_systems.assets_panel.ui_kits"):(0,S.tx)("design_systems.assets_panel.dropdown_type_all_libraries")):E?n.createElement("div",{className:lC,style:{marginLeft:3}},(0,S.tx)("design_systems.assets_panel.dropdown_type_recents")):n.createElement("div",{className:tp.cx.flex.overflowHidden.$},n.createElement("button",{onClick:v,className:T,disabled:y,ref:b,type:"button"},h))}let lk=n.forwardRef(({name:e,i:t},a)=>{let{isCurrentlySkippingPage:r,isCurrentlySkippingFirstFolder:s,navigateBackToPathIndex:l}=(0,rc.wV)(),i=(0,ri.sN)(),o=n.useCallback(e=>{i("breadcrumb",l(e))},[i,l]),c=n.useMemo(()=>lP(t,r,s),[t,s,r]),{setKeyboardNavigationElement:d}=(0,ec.M3)({path:[n5.ON.BREADCRUMB],column:n5.Yv.STUBS+t}),{focusBackButton:p,focusSearchBar:u}=(0,ro.rl)(),m=(0,ro.MB)({onBoth:()=>o(c),onKeyDown:p,onClick:u});return e?n.createElement("div",{ref:a,className:tp.cx.flex.itemsCenter.$},n.createElement(lN,null),n.createElement("button",{ref:d,onClick:m,className:ly},e)):null});function lI({name:e,shouldEllipsize:t}){let a=n.useRef(null),{pageId:r,folderPath:s}=(0,rc.wV)(),{width:l}=rT(),[i,o]=n.useState(!1);return(n.useEffect(()=>{o(!!(0,t2._C)({text:e??"",textRef:a}))},[e,l]),n.useEffect(()=>{setTimeout(()=>o(!!(0,t2._C)({text:"",textRef:a})),0)},[r,s]),e)?n.createElement("div",{className:tp.cx.noWrap.flex.itemsCenter.if(t,tp.cx.overflowHidden).$},n.createElement(lN,null),n.createElement("div",{"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":i?e:void 0,ref:a,className:tp.cx.mx4.px2.if(t,tp.cx.overflowHidden.pre.ellipsis).$,"aria-current":"location"},e)):null}function lN(){return n.createElement("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0}," / ")}let lP=(e,t,a)=>{let n=e;return t&&n++,a&&n++,n-1};var lx=a(782683),lA=a(882316),lL=a(132572);let lO="asset_panel_search--libraryChipRemove--kJiJn";function lM({libraryName:e}){let t=(0,s.wA)(),{currentView:a,startSearch:r,onBack:i,libraryKey:o}=(0,rc.wV)(),c=a===rc.S5.Search,{inputRef:d,focusSearchBar:p}=(0,ro.rl)(),u=(0,s.d4)(e=>e.leftPanel.shouldFocusSearchBar),{query:m}=(0,s.d4)(eF.UQ),h=(0,U.tS)(),g=n.useCallback(()=>{c&&i()},[c,i]),f=n.useMemo(()=>o?o===h?{type:eG.I.LOCAL}:{type:eG.I.FILE,fileKey:o}:{type:eG.I.ALL},[o,h]),_=n.useCallback(e=>{t(ep.ku({query:e,searchOptions:f,entryPoint:"asset_panel"})),""===e?g():c||r()},[t,c,g,f,r]),E=n.useRef(void 0);n.useEffect(()=>{c&&(m&&E.current!==o&&t(ep.gP({searchOptions:f})),E.current=o)},[t,c,o,m,f]);let y=n.useCallback(()=>{""===m&&g()},[g,m]),C=n.useCallback(()=>{_(""),p(),g()},[_,p,g]),v=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);n.useEffect(()=>{let e=e=>{let t=eR.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===eD.Uz.KEY_2:e.altKey&&e.keyCode===eD.Uz.KEY_2,a=!(0,lL.AL)()&&e.shiftKey&&e.keyCode===eD.Uz.I&&!(0,ri.Qk)(e.target);(t||a)&&v!==l.m1T.TEXT&&(p(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[v,p]);let b=n.useMemo(()=>e?(0,S.t)("design_systems.assets_panel.search_library"):(0,S.t)("design_systems.assets_panel.search_all_libraries"),[e]);return n.createElement("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k"},n.createElement(lx.h,null),n.createElement(eU.E1,{path:[n5.ON.HEADER,n5.my.SEARCH_AND_FILTER],column:n5.Wy.SEARCH,isNewAssetsPanel:!0,query:m,onChange:_,onFocus:s4.lQ,onBlur:y,onClearSearch:C,forwardedRef:d,isVisible:!0,entryPointForTracking:"editor:assets_panel",autofocus:u,recordingKey:"componentsLibrarySearch",placeholder:b,selectOnFocus:!0}))}function lD({library:e}){let{navigateToTop:t}=(0,rc.wV)(),{focusSearchBar:a}=(0,ro.rl)(),r=(0,ri.sN)(),s=n.useCallback(()=>{r("searchFilterChip",t()),a()},[a,r,t]),{setKeyboardNavigationElement:l}=(0,ec.M3)({path:[n5.ON.HEADER,n5.my.LIBRARY_SEARCH_CHIP]});return e?n.createElement("div",{className:"asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k","data-testid":"asset-panel-search-chip"},n.createElement("span",{className:"asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa"},e.name),(0,e2.kc)().dse_fpl_wave_1?n.createElement(n7.E,{className:lO,onClick:s,recordingKey:"asset-panel-search-chip","aria-label":(0,S.t)("design_systems.assets_panel.search_chip_label"),ref:l},n.createElement(lA.f,null)):n.createElement(re.GG,{className:lO,onClick:s,recordingKey:"asset-panel-search-chip","aria-label":(0,S.t)("design_systems.assets_panel.search_chip_label"),forwardedRef:l},n.createElement(lA.f,null))):null}var lR=a(221768),lF=a(18991),lU=a(343427),lG=a(270133),lK=a(255942);let lB="assets-panel-settings";function lV({includeFolderSetting:e=!0}){let t=n.useRef(null),{setKeyboardNavigationElement:a}=(0,ec.M3)({path:[n5.ON.HEADER,n5.my.SEARCH_AND_FILTER],column:n5.Wy.SETTINGS}),r=(0,U.tS)(),l=(0,R.Um)(),i=l?.type===lB,o=(0,s.wA)(),c=n.useCallback(()=>{i?o((0,sa.oB)()):(o((0,sa.j7)({type:lB,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),p.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:r??void 0,assetsPanelVersion:3}))},[o,r,i]),d=n.useMemo(()=>{if(i)return l.data?.position},[l?.data?.position,i]),u=n.useCallback(e=>{i&&e.stopPropagation()},[i]);return n.createElement(n.Fragment,null,n.createElement("div",{onMouseDown:u},n.createElement(eB.d,{onClick:c,toggled:i,ref:(0,lK.A)(t,a),"aria-label":(0,S.t)("design_systems.assets_panel.settings_label"),htmlAttributes:{"aria-expanded":i,"aria-haspopup":"listbox","data-testid":"asset-panel-settings-button"}},n.createElement(lR.A,null))),i&&n.createElement(lH,{position:d,includeFolderSetting:e,buttonRef:t}))}function lH({position:e,includeFolderSetting:t,buttonRef:a}){let l=(0,s.wA)(),i=n.useCallback(()=>{l((0,sa.oB)())},[l]),o=(0,ri.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:c,templates:u}=(0,aK.g5)(tx.$A.Design),[m]=(0,rd.ye)(),{currentView:h,libraryKey:g}=(0,rc.wV)(),{getLibrary:f}=(0,ru.G)(),_=(0,U.tS)(),[E]=(0,rd.MA)(),y=(0,s_.KJ)()&&h===rc.S5.Libraries,C=y?rd.$H.LIST:E,v=n.useMemo(()=>h!==rc.S5.Search&&(c.length>0||u.length>0),[h,c.length,u.length]),b=n.useMemo(()=>_?f(_):void 0,[f,_]),T=!!b&&(b.numComponents>0||b.numTemplates>0),[w,k]=(0,sA.g)(),{goToLibrary:I,goToAll:N,goToRecents:P,changeAssetsView:x,toggleShowFolders:A}=function(e){let t=(0,U.q5)(),a=(0,ri.sN)(),{navigateToLibrary:r,navigateToTop:s,navigateToRecents:l}=(0,rc.wV)(),{setLastNavAction:i}=(0,rF.ZX)(),[,o]=(0,rd.MA)(),[,c]=(0,rd.ye)(),{focusSearchBar:d}=(0,ro.rl)(),u=n.useCallback(e=>{a("settingsMenu",e)},[a]),m=n.useCallback(e=>{u(r(e)),d()},[d,r,u]),h=n.useCallback(()=>{u(s()),d()},[d,s,u]),g=n.useCallback(()=>{u(l()),d()},[d,l,u]),f=n.useCallback(()=>e.current?.focus(),[e]),_=n.useCallback(e=>{p.az.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),o(e),i(rF.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,o,i]),E=(0,ro.NR)({onBoth:e=>()=>_(e),onKeyDown:()=>f}),y=n.useCallback(e=>{p.az.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e)},[t?.key,t?.parentOrgId,t?.teamId,c]);return{goToLibrary:m,goToAll:h,goToRecents:g,changeAssetsView:E,toggleShowFolders:(0,ro.NR)({onBoth:e=>()=>y(e),onKeyDown:()=>f})}}(a),L=n.useMemo(()=>{let e=[];return e.push(lz({text:(0,S.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:h===rc.S5.Libraries||h===rc.S5.Search&&!g,onClick:N})),v&&e.push(lz({text:(0,S.t)("design_systems.assets_panel.dropdown_type_recents"),checked:h===rc.S5.Recents&&c.length>0,onClick:P})),T&&e.push(lz({text:b.name,checked:h!==rc.S5.Recents&&g===b.fileKey,onClick:()=>I(b.fileKey)})),(w.length>0||k.length>0)&&e.push(n.createElement(se.wv,null)),e.push(...w.map(({name:e,fileKey:t})=>lz({text:e,isApproved:(0,e7.vR)(t),checked:h!==rc.S5.Recents&&g===t,onClick:()=>I(t)}))),e.push(...k.map(({name:e,fileKey:t})=>lz({text:e,isApproved:(0,e7.vR)(t),isPreset:!0,checked:h!==rc.S5.Recents&&g===t,onClick:()=>I(t)}))),e.push(n.createElement(se.wv,null)),y||e.push(lz({text:(0,S.t)("design_systems.assets_panel.view_toggle_grid"),checked:C===rd.$H.GRID,onClick:x(rd.$H.GRID),icon:n.createElement(lF.t,null)})),e.push(lz({text:(0,S.t)("design_systems.assets_panel.view_toggle_list"),checked:C===rd.$H.LIST,onClick:x(rd.$H.LIST),icon:n.createElement(lU.Z,null)})),t&&e.push(lz({text:(0,S.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:m,onClick:A(!m),icon:n.createElement(lG.e,null)})),e},[C,x,g,h,y,N,I,P,T,v,t,b?.fileKey,b?.name,k,c.length,m,w,A]),O=n.useMemo(()=>({...e,maxHeight:o}),[o,e]);return r.createPortal(n.createElement(se.X3,{className:d()(lE.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:O,id:lB,hideDropdown:i,autofocusPrevElementOnEsc:!0},L),document.body)}function lz({text:e,isApproved:t,isPreset:a,checked:r,onClick:s,icon:l}){return n.createElement(se.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!r,onClick:s,key:e},n.createElement("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X"},n.createElement("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa"},l?n.createElement("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm"},l,n.createElement("span",null,e)):e),n.createElement("div",{className:"asset_panel_settings--optionRightIcon--zi-2v"},t?n.createElement(e5.FX,null):a?n.createElement("div",{className:tp.cx.ml2.$},n.createElement(e9.S,{hubFileId:void 0})):null)))}function lY(){let{getPage:e,getLibrary:t}=(0,ru.G)(),{libraryKey:a,pageId:r}=(0,rc.wV)(),s=n.useMemo(()=>e(a,r),[e,a,r]),l=n.useMemo(()=>t(a),[t,a]);return n.createElement("div",{className:"asset_panel_header--assetPanelHeader--ZWb-Q"},n.createElement(lj,{library:l}),n.createElement(lW,{page:s}))}function lj({library:e}){let{currentView:t}=(0,rc.wV)();return n.createElement("div",{className:tp.cx.grid.gap4.itemsCenter.ml8.$,style:st.sx.add({gridTemplateColumns:"1fr auto",gridTemplateRows:"32px",gridAutoRows:"auto"}).$},n.createElement("div",{style:st.sx.add({gridRow:1,gridColumn:1}).$},n.createElement(lM,{libraryName:e?.name})),n.createElement("div",{style:st.sx.flex.itemsCenter.add({gridRow:1,gridColumn:2}).$},n.createElement(lV,{includeFolderSetting:[rc.S5.Libraries,rc.S5.Pages,rc.S5.Assets].includes(t)})),t===rc.S5.Search&&e&&n.createElement("div",{style:st.sx.flex.minW0.add({gridRow:2,gridColumn:1}).$},n.createElement(lD,{library:e})))}function lW({page:e}){let{currentView:t,folderPath:a,onBack:r,libraryKey:l,isCurrentlySkippingPage:i,isCurrentlySkippingFirstFolder:o}=(0,rc.wV)(),c=(0,ri.sN)(),d=(0,s.d4)(e=>e.modalShown),p=(0,s.wA)(),{setBackButtonKeyboardItem:u,focusSearchBar:m}=(0,ro.rl)(),h=n.useCallback(()=>{c("backButton",r()),d?.type===te.V&&p(Y.AS())},[r,c,d?.type,p]),g=n.useCallback(()=>{t===rc.S5.Recents?l||m():t===rc.S5.Pages?m():t===rc.S5.Assets&&i&&!a&&m()},[t,m,a,i,l]),f=(0,ro.MB)({onBoth:h,onKeyDown:g,onClick:m}),_=n.useMemo(()=>{if(t===rc.S5.Search||t===rc.S5.Recents)return[];let n=e?.name&&!i?[e.name]:[],r=a??[];return[...n,...o?r.slice(1):r]},[t,a,i,o,e?.name]),E=sL(),y=t!==rc.S5.Libraries&&t!==rc.S5.Search;return E?null:n.createElement(n.Fragment,null,t!==rc.S5.Search&&n.createElement("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA"},y&&n.createElement(t1.K,{"aria-label":(0,S.t)("design_systems.assets_panel.back"),onClick:f,ref:u,recordingKey:"assetsPanelBack"},n.createElement(lg.C,null)),n.createElement(lv,{stubs:_})))}var l$=a(708873);let lX=e=>n.useCallback(t=>{t()||e()},[e]);var lZ=a(309798),lq=a(243074);function lJ({width:e}){let t=(0,l$.j)(),a=function(e){let t=(0,K.iZ)(),a=(0,U.q5)(),r=(0,eS.jO)(),l=(0,lZ.f)("has_dismissed_component_sidebar_library_upsell_banner"),i=(0,s.d4)(e=>e.isFreeUser),o=(0,s.d4)(eP.P),c=a?.teamId?o[a.teamId]:null,d=(0,tR.Rs)(ef.GyZ,{teamId:a?.teamId??""},{enabled:!!a?.teamId}),p=a?.canEdit??!1,u=d?.data?.team?.canEdit??!1,m=e.numComponents>0||e.numTemplates>0;return n.useMemo(()=>!l&&i&&(!c||!(0,eT.w5)(c)&&u)&&p&&r&&m&&(0,eu.Hz)(t?.id),[l,i,c,u,p,r,m,t])}(t.localAssets),r="loading"===(0,e_.je)().status,l=(0,tc.Xr)(rL),i=n.useCallback(()=>l(!0),[l]);return n.createElement(lQ,{assetPanelItems:t,width:e},n.createElement("div",{className:lq.k,"data-testid":"component-sidebar",translate:"no"},n.createElement(lY,null),n.createElement(le,{isLoading:r},n.createElement(lu,{assetPanelItems:t,width:e})),a&&n.createElement(nq,null),n.createElement(eA.Mw,{width:e,scrollToPreset:i})))}function lQ({children:e,width:t,assetPanelItems:a}){return n.createElement(rF.P3,null,n.createElement(ru.K,{assetPanelItems:a},n.createElement(ro.tM,{className:lq.k},n.createElement(l1,null,n.createElement(rw,{width:t},e)))))}function l1({children:e}){return!function(){let{libraryKey:e,pageId:t,folderPath:a,navigateToTop:r,navigateToPage:s,navigateToPath:l,navigateToLibrary:i,currentView:o,onBack:c}=(0,rc.wV)(),d=(0,s6.q)(),p=d(e),{getLibrary:u,getPage:m,getFolder:h}=(0,ru.G)(),{setLastNavAction:f}=(0,rF.ZX)(),_=lX(r),[,,E]=(0,sA.g)(),[y,C]=(0,g.fp)(eL.Cl);n.useEffect(()=>{y&&E.size>0&&((0,ri.hB)(()=>i(y)),C(null))},[y,i,C,E]),(0,rc.sH)(),n.useEffect(function(){if(o!==rc.S5.Assets&&o!==rc.S5.Pages)return;let n=u(e),i=E.get(e);if(!n){if(d(e)&&i&&o!==rc.S5.Assets)return;_(r);return}if(t){if(!n?.pages.get(t)){let e=(0,rc.Cg)(n);e?_(()=>s(e.id)):_(c);return}if(a&&!h(e,t,a)){let n=a.slice(0,-1),r=h(e,t,n);for(;!r&&n.length>0;)r=h(e,t,n=n.slice(0,-1));if(!r)return _(()=>s(t));let i=parent?(0,rc.xc)(r):void 0;return void(i?_(()=>l([...n,i.name])):(_(()=>l(n)),f(rF.r6.Back)))}}},[c,p,e,o,t,a,r,s,u,h,l,f,_,E,d]),n.useEffect(function(){let n=u(e);if(!n||p)return;let r=(0,rc.Cg)(n);if(o===rc.S5.Pages&&r)s(r.id);else if(o===rc.S5.Assets){let n=h(e,t,a);if(!n)return;let r=(0,rc.xc)(n);r&&l([...a??[],r.name])}},[p,o,a,h,u,m,e,s,l,c,t])}(),n.createElement(n.Fragment,null,e)}function l0(){return n.createElement("div",{className:tp.cx.colorTextSecondary.my8.mx16.$},(0,S.tx)("design_systems.assets_panel.error"))}var l2=a(986679),l3=a(544403),l4=a(443230),l8=a(324666),l5=a(427072),l7=a(872429),l6=a(764257),l9=a(656147),ie=a(349410),it=a(385111);function ia(e){let t=(0,s.wA)(),a=(0,U.q5)(),r=(0,ev.FC)(),l=(0,t9.p8)("pagesList").length,i=n.useRef(),o=(0,H.ks)(),c=(0,ie.Fr)(),p=it.h.useTrackingContext({trigger:nZ.b.PAGE_TRACKER_UPSELL});i.current=e.setUpsellHeightCallback;let u=n.useCallback(e=>{i.current&&i.current(e?.getBoundingClientRect().height||0)},[l]);if(l<=0||!a||o)return null;let m=a.team;if(!(m&&(0,ew.canEditTeam)(m.id,r)&&!(0,eT.XX)(m)))return null;let h=(0,eT.Lj)(a);if((h<=1||h>=1/0)&&!c(a))return null;let g=()=>{let e=nZ.b.PAGE_TRACKER_UPSELL;t((0,Y.to)({type:nW.V,data:{upsellSource:e,teamId:m.id,openCheckoutInNewTab:!0}}))},f=n.createElement(t3.Us,{onClick:g,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,S.tx)("fullscreen.pages_panel.see_plans_that_offer_more")),_=n.createElement(t3.Us,{onClick:g,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,S.tx)("fullscreen.pages_panel.get_unlimited_pages_and_more")),E=l/eT.LF[a.editorType??tC._Y.DESIGN],y=d()({"page_tracker_upsell--progressPartial--guOiP":E<1,"page_tracker_upsell--progressCompleteWarning--06IlO page_tracker_upsell--progressComplete--ilmev":1===E,"page_tracker_upsell--progressCompleteDanger--lCunz page_tracker_upsell--progressComplete--ilmev":E>1}),C=`${Math.trunc(100*Math.min(E,1))}%`,v={fileTeamId:m.id,numPages:l,...p};return n.createElement(ez.fu,{name:"Page Tracker Upsell",properties:v},n.createElement("div",{className:"page_tracker_upsell--upsellContainer--ZEwXz",ref:u,"data-testid":"page_tracker_upsell"},n.createElement("div",{className:"page_tracker_upsell--upsellBody--yUAjd"},n.createElement("div",{className:"page_tracker_upsell--progressBar--fDCBY"},n.createElement("div",{className:y,style:{width:C},"data-testid":"page_tracker_progress_bar"})),n.createElement("p",{className:"page_tracker_upsell--upsellText--Ng-u0"},(()=>{let e=eT.LF[a.editorType??tC._Y.DESIGN]-l;return e>=2?n.createElement(n.Fragment,null,(0,S.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),n.createElement("br",null),f):1===e?n.createElement(n.Fragment,null,(0,S.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),n.createElement("br",null),_):0===e?n.createElement(n.Fragment,null,(0,S.tx)("fullscreen.pages_panel.all_n_free_pages_used",{maxFreePages:eT.LF[a.editorType??tC._Y.DESIGN]}),n.createElement("br",null),_):n.createElement(n.Fragment,null,(0,S.tx)("fullscreen.pages_panel.all_free_pages_used"),n.createElement("br",null),_)})()))))}var ir=a(875331),is=a(653671),il=a(359108),ii=a(735056),io=a(137345);function ic(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.selectedView);return n.createElement(ii.y,{withBorder:!0},n.createElement(io.Y,{onFocus:()=>{(0,k._$)(t,a,"overview_search_clicked"),L.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),!e.isOverview&&n.createElement(n7.E,{className:"ui2_dev_handoff_header_row--toggleButton--LW2BM",onClick:e.togglePagesExpanded,htmlAttributes:{onContextMenu:e.onPageContextMenu}},n.createElement("span",{className:"ui2_dev_handoff_header_row--pageTitle--lcNMS ellipsis--ellipsis--Tjyfa"},e.currentPageName||""),n.createElement(t8.B,{className:"ui2_dev_handoff_header_row--chevron--wHgKd",svg:e.pageTabChevron})))}function id({children:e,hasScrollLine:t,onClick:a}){return n.createElement("div",{className:d()("header_container--container--aPIhG",{"header_container--withShadow---XYxm":t}),onClick:a},e)}function ip({children:e}){return n.createElement("div",{className:"header_text--headerText--ZXIeN",onContextMenu:N.jo},e)}var iu=a(650166);function im({isReadOnly:e,hasScrollLine:t,onTogglePages:a,recordingKey:r}){return n.createElement(id,{onClick:e?a:void 0,hasScrollLine:t},n.createElement(ip,null,(0,S.tx)("fullscreen.pages_panel.pages")),!e&&n.createElement("div",{className:tp.cx.flex.mx8.itemsCenter.$},n.createElement(iu.e,{recordingKey:f.Pt(r,"newPage")})))}var ih=a(332721),ig=a(601538),i_=a(16633),iE=a(455263),iy=a(893606);function iC(){let{hasAnyUiKit:e}=(0,e4.I7)(),t=(0,lZ.f)("ui_kits_assets_title_blue_dot_dismissed"),a=(0,eS.jO)(),r=(0,iE.t)(),i=U.q5()?.canEdit,o=(0,s.d4)(e=>e.leftPanel.activeTab===l.xae.ASSETS),c=(0,s.wA)(),d=(0,iy.R)();return(n.useEffect(()=>{e&&!t&&o&&c(n$.b({ui_kits_assets_title_blue_dot_dismissed:!0}))},[o,t,c,e]),a&&!r&&i&&e&&!t)?d?n.createElement(i_.C,{"data-testid":"assets-panel-blue-dot",className:"assets_panel_blue_dot--blueDotUi3--VR9bW"}):n.createElement("span",{"data-testid":"assets-panel-blue-dot",className:"assets_panel_blue_dot--blueDot--s7hOi"}):null}var iv=a(376600);function ib({showTabs:e,activeTab:t,isComparingChanges:a,pageTabChevron:r,currentPageName:s,onCanvasSearch:i,onPageContextMenu:o,onTogglePages:c,recordingKey:p}){let u=(0,il.U)(),m=(0,f.rf)(f.Pt(p,"collapsedRow"),"contextmenu",e=>{o(e)});return n.createElement(ii.y,{withBorder:!0},e&&n.createElement(n.Fragment,null,n.createElement(ih._,{onClick:i}),n.createElement(re.Bx,{className:t===l.xae.LAYERS?iv.yR:iv.Mf,onMouseDown:u.showLayersPanel,onContextMenu:N.jo,"data-label":(0,S.t)("fullscreen.pages_panel.layers_tab"),recordingKey:f.Pt(p,"tab","layers"),innerText:"Layers"},(0,S.tx)("fullscreen.pages_panel.layers_tab")),n.createElement(re.Bx,{className:iv.dB,onMouseDown:u.showPublish,onContextMenu:N.jo,recordingKey:f.Pt(p,"tab","assets"),innerText:"Assets","data-onboarding-key":ig.Qr},n.createElement("div",{className:t===l.xae.ASSETS?iv.yR:iv.Mf,"data-label":(0,S.t)("fullscreen.pages_panel.assets_tab")},n.createElement("div",null,(0,S.tx)("fullscreen.pages_panel.assets_tab"),n.createElement(iC,null))))),!e&&n.createElement("div",{className:d()("ui2_tabs_row--viewOnlySearchRow--lXeEC",{"ui2_tabs_row--hidden--H29bc":a})},n.createElement(io.Y,{onFocus:i})),n.createElement(n7.E,{className:d()("ui2_tabs_row--toggleButton--3lJw1",{"ui2_tabs_row--viewOnly--crQc4":!e}),onClick:c,htmlAttributes:{onContextMenu:m},recordingKey:f.Pt(p,"collapsedRow")},n.createElement("span",{className:"ui2_tabs_row--pageTitle--PPrKt ellipsis--ellipsis--Tjyfa","data-onboarding-key":"pages-panel-toggle"},s||""),n.createElement(t8.B,{className:"ui2_tabs_row--chevron--GSVx7",svg:r})))}var iS=a(964881),iT=a(989954),iw=a(652649);let ik="ui3_header_row--toggleButton--hYOqV",iI="ui3_header_row--isHidden--IIOWY";function iN({isReadOnly:e,isPagesOpen:t,isComparingChanges:a,hasMultiplePageTypes:r,hasScrollLine:s,currentPageName:l,onTogglePages:i,onCanvasSearch:o,onPageContextMenu:c,recordingKey:p}){let u=(0,H.ks)(),m=(0,iS.l7)(),h=u||m,g=r||(0,e2.kc)().interop_pages;return n.createElement(id,{onClick:e?i:void 0,hasScrollLine:s},e||h?n.createElement(ip,null,n.createElement(n7.E,{onClick:i,className:d()(ik),htmlAttributes:{onContextMenu:c},recordingKey:f.Pt(p,"collapsedRow")},n.createElement("span",{className:d()("ui3_header_row--pageExpandToggle--jZKwE",{[iI]:m})},n.createElement(iw.g,{isExpanded:t})),n.createElement("span",{className:"ui3_header_row--pageTitle--N3-To ellipsis--ellipsis--Tjyfa","data-onboarding-key":"pages-panel-toggle"},t?(0,S.tx)("fullscreen.pages_panel.pages"):l||"")),n.createElement("div",{className:d()("ui3_header_row--searchButtonContainer--U--jv",{[iI]:a})},n.createElement(ih._,{onClick:o}))):n.createElement(ip,null,n.createElement(n7.E,{onClick:i,className:ik,recordingKey:f.Pt(p,"collapsedRow")},n.createElement(iw.g,{isExpanded:t}),(0,S.tx)("fullscreen.pages_panel.pages"))),!e&&n.createElement("div",{className:tp.cx.flex.relative.mr8.justifyEnd.itemsCenter.$},g?n.createElement(iT.t,{recordingKey:p}):n.createElement(iu.e,{recordingKey:f.Pt(p,"newPage")})))}function iP({isReadOnly:e,renamingGuid:t,isLayersOpen:a,onToggleLayers:r,currentPageGuid:s,width:l,shouldShowGuids:i,startRenamingNode:o,stopRenamingNode:c,faviconGuid:d,socialImageGuids:p,versionHistory:u,recordingKey:m}){let h=(0,F._Z)().isLoading,g=(0,U.q5)(),_=g?.thumbnailGuid||null;return n.createElement(n.Fragment,null,n.createElement(id,null,n.createElement(ip,null,n.createElement(n7.E,{onClick:r,className:"ui3_objects_panel--toggleButton--A3BEZ",recordingKey:f.Pt(m,"layersCollapsedRow")},n.createElement(iw.g,{isExpanded:a}),(0,S.tx)("fullscreen.pages_panel.layers_tab")))),a&&n.createElement(l2.X,{hasPending:h,isReadOnly:e,currentPage:s,width:l,shouldShowGuids:i,renamingGuid:t,startRenaming:o,stopRenaming:c,faviconGuid:d,socialImageGuids:p,thumbnailGuid:_,versionHistory:u}))}var ix=a(809831),iA=a(535758);function iL({activeTab:e,onCanvasSearch:t,recordingKey:a}){let r=(0,tL.M)(),s=(0,ix.Em)(),i=r&&s&&(e===l.xae.ASSETS||e===l.xae.LAYERS);return n.createElement(ii.y,{withBorder:!0},n.createElement(iA.e,{activeTab:e,recordingKey:a}),n.createElement("div",{className:"ui3_tabs_row--iconContainer--a0sRl"},e===l.xae.LAYERS&&n.createElement(ih._,{onClick:t}),i&&n.createElement(eJ,{recordingKey:a,entrypoint:e===l.xae.ASSETS?eM.r6.ASSETS_PANEL_BUTTON:eM.r6.LAYERS_TAB_BUTTON,hideIfNoUpdates:e===l.xae.LAYERS})))}var iO=a(173521),iM=a(783423),iD=a(560560);let iR=(0,u.jz)(aA.xM9),iF=(0,u.jz)(aA.Nqv),iU=(0,u.jz)(aA.M$q);class iG extends f.o6{constructor(e){super(e),this.scrollContainerRef=n.createRef(),this.scrollContainerInnerRef=n.createRef(),this.shouldScrollToPage=null,this.updateLocalStorageSettings=(e,t,a,n)=>{if(_.x4){let r=JSON.parse(_.x4.getItem("pages-panel")||"{}");r[e]={height:t,isOpen:a,devHandoffShowAllPages:n},_.x4.setItem("pages-panel",JSON.stringify(r))}},this.getLocalStorageSettings=e=>{if(_.x4)return JSON.parse(_.x4.getItem("pages-panel")||"{}")[e]},this.setIsScrolledPastTop=e=>{this.setState({isScrolledPastTop:e>0})},this.scrollViewToPage=e=>{if(!this.scrollContainerRef.current){this.shouldScrollToPage=e;return}let t=this.positionOfPageInList(e),a=t+iR,n=this.scrollContainerRef.current.getScrollTop(),r=n+this.scrollContainerRef.current.getTrackHeight();t<n?this.scrollContainerRef.current.scrollTo(t-iR/2):a>r&&this.scrollContainerRef.current.scrollTo(n+(a-r)+iR/2),this.shouldScrollToPage=null},this.onContextClick=f.cZ(this,"contextmenu",e=>{(0,N.jo)(e),this.props.onPageContextMenu({nodeId:this.props.currentPageGuid,clientX:e.clientX,clientY:e.clientY})}),this.forcePagesExpanded=()=>{this.props.tabActions.showLayersPanel(),this.state.isPagesOpen||(this.setState({isPagesOpen:!0}),(0,A.ds)("pages_panel_open_toggle",this.props.openFile?.key,h.D.getState(),{isPagesOpen:!0},{forwardToDatadog:!0}))},this.togglePagesExpanded=()=>{this.props.isDevHandoffOverview||((0,A.ds)("pages_panel_open_toggle",this.props.openFile?.key,h.D.getState(),{isPagesOpen:!this.state.isPagesOpen},{forwardToDatadog:!0}),this.setState({isPagesOpen:!this.state.isPagesOpen}))},this.toggleLayersExpanded=()=>{(0,p.sx)("objects_panel_open_toggle",{isLayersOpen:!this.state.isLayersOpen}),this.setState({isLayersOpen:!this.state.isLayersOpen})},this.onFullscreenStartRenamingNode=({nodeId:e})=>{this.startRenamingNode(e)},this.startRenamingNode=e=>{if(this.props.isReadOnly)return;let t=o.q.instance.get(e);if(t?.isResponsiveSet&&t.parentNode?.defaultResponsiveSetId===e){this.props.dispatch(T.F.enqueue({message:(0,S.t)("sites.panel.pages_panel.cannot_rename_default_responsive_set")}));return}this.props.activeTab!==l.xae.LAYERS&&this.props.tabActions.showLayersPanel(),this.setState({renamingNodeGuid:e}),t?.parentGuid&&M.hq(t.parentGuid)},this.stopRenamingNode=(e,t,a)=>{if(this.props.isReadOnly)return;let n=this.state.renamingNodeGuid;if(n&&e){let e=o.q.instance.get(n),r=t||"",s=l.Ez5.uiState().focusModeState.getCopy();e?.isResponsiveSet||e?.isResponsiveNode?(r||=e?.name,i.l7.user("set-node-name",()=>M.i(n,r))):l.xc1.RESPONSIVE_SET===s||l.xc1.COMPONENT_SET===s?i.l7.user("set-node-name",()=>M.BH(r)):i.l7.user("set-node-name",()=>M.i(n,r)),L.Y5.commit(),x.wt.reportEditActionIf(r!==a,"rename-node")}this.setState({renamingNodeGuid:null})},this.clampValidHeight=e=>{let t=this.scrollContainerInnerRef.current?.getBoundingClientRect().top??175,a=1.5*iF+(this.props.isUI3?40+iU:0);return Math.max(1.5*iR,Math.min(e,this.state.cachedInnerHeight-t-a))},this.onWindowSize=e=>{this.windowResizeHandler()},this.windowResizeHandler=(0,m.s)(()=>{this.setState({cachedInnerHeight:window.innerHeight})},45),this.toggleViewMode=()=>{this.setState({viewMode:this.state.viewMode===aG.Bk.Grid?aG.Bk.List:aG.Bk.Grid})},this.setUpsellHeight=e=>{this.setState({upsellHeight:e})},this.setShowAllPages=e=>{let t=this.computedHeight(),a=this.getPagesInfo(e),n=this.heightForPages(a.pages.length,!!a.showAllButton),r=e?Math.max(t,n):Math.min(t,n);this.setState({devHandoffShowAllPages:e,height:r})},this.getPagesInfo=e=>{let{pagesList:t}=this.props;if(!this.props.isDevHandoff||this.props.disableCollapsing)return{pages:t};let a=!1,r=t.filter(e=>{let t=l.glU.nodeStatusesOnPage(e.nodeId).length>0;return t&&(a=!0),t||e.nodeId===this.props.currentPageGuid});return a&&r.length!==t.length?e?{pages:t,showAllButton:n.createElement(b.d,{label:(0,S.t)("dev_handoff.pages.hide_other"),onClick:()=>this.setShowAllPages(!1)})}:{pages:r,showAllButton:n.createElement(b.d,{label:(0,S.t)("dev_handoff.pages.show_all"),onClick:()=>this.setShowAllPages(!0)})}:{pages:t}},this.openCanvasSearch=()=>{(0,k._$)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),this.props.tabActions.showLayersPanel(),L.Y5.triggerAction("canvas-search",{source:"toolbar"})},this.state={renamingNodeGuid:null,isScrolledPastTop:!1,height:null,cachedInnerHeight:window.innerHeight,isPagesOpen:this.props.isUI3&&!this.props.isDevHandoff,isLayersOpen:!this.props.isUI3,pagesListInitialScrollTop:null,viewMode:aG.Bk.Grid,upsellHeight:0,devHandoffShowAllPages:!1,webpagesListHeight:null}}componentDidMount(){super.componentDidMount(),L.Y5.fromFullscreen.on("startRenamingNode",this.onFullscreenStartRenamingNode),window.addEventListener("resize",this.onWindowSize),null!=this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid),this.props.openFile&&this.initializePagesPanelSettings(this.props.openFile.key),this.props.isDevHandoffOverview&&!this.state.isPagesOpen&&this.setState({isPagesOpen:!0})}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("resize",this.onWindowSize),L.Y5.fromFullscreen.removeListener("startRenamingNode",this.onFullscreenStartRenamingNode)}UNSAFE_componentWillUpdate(e,t){e.renamingPageId&&this.props.renamingPageId!==e.renamingPageId&&!this.scrollContainerRef.current&&this.setState({pagesListInitialScrollTop:this.positionOfPageInList(e.renamingPageId)-iR/2}),this.shouldScrollToPage&&this.scrollContainerRef.current&&this.scrollViewToPage(this.shouldScrollToPage)}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.isUI3!==this.props.isUI3&&this.setState({isPagesOpen:this.props.pagesList.length>1||this.props.isUI3&&!this.props.isDevHandoff}),this.props.isDevHandoffOverview&&!this.state.isPagesOpen&&this.setState({isPagesOpen:!0}),e.currentPageGuid!==this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid);let a=e.activeTab!==this.props.activeTab&&this.props.activeTab===l.xae.ASSETS,n=t.viewMode!==this.state.viewMode;if(a||n){let e=(0,_.TQ)(),t=this.props.showRedesignedAssetsPanel?rd.Pv:(0,aG.RN)(this.state.viewMode);if(this.props.showRedesignedAssetsPanel&&e)try{let a=e.getItem(rd.Zi);if(a){let e=JSON.parse(a);(e===rd.$H.LIST||e===rd.$H.GRID)&&(t=e)}}catch{}(0,p.sx)("Component Sidebar Viewed",{viewMode:t,assetsPanelVersion:this.props.showRedesignedAssetsPanel?3:2,fileKey:this.props.openFile?.key,fileTeamId:this.props.openFile?.teamId??void 0,fileOrgId:this.props.openFile?.parentOrgId??void 0})}if(this.scrollContainerRef.current&&this.setIsScrolledPastTop(this.scrollContainerRef.current.getScrollTop()),this.props.openFile){e.openFile?.key!==this.props.openFile.key&&this.initializePagesPanelSettings(this.props.openFile.key);let a=t.isPagesOpen!==this.state.isPagesOpen,n=this.state.height&&t.height!==this.state.height,r=this.state.devHandoffShowAllPages!==t.devHandoffShowAllPages;e.openFile?.key===this.props.openFile.key&&(a||n||r)&&this.updateLocalStorageSettings(this.props.openFile.key,this.state.height,this.state.isPagesOpen,this.state.devHandoffShowAllPages)}null!==this.props.isPagesOpenOverride&&this.props.isPagesOpenOverride!==e.isPagesOpenOverride&&(g.zl.set(is.aN,null),this.setState({isPagesOpen:this.props.isPagesOpenOverride})),null!==this.props.isLayersOpenOverride&&this.props.isLayersOpenOverride!==e.isLayersOpenOverride&&this.setState({isLayersOpen:this.props.isLayersOpenOverride}),this.props.renamingPageId&&this.props.renamingPageId!==e.renamingPageId&&!this.props.isReadOnly&&(this.forcePagesExpanded(),this.scrollViewToPage(this.props.renamingPageId))}heightForPages(e,t){let a=e*iR;a=Math.ceil(a/iR)*iR+this.state.upsellHeight+(this.props.isUI3?8:iR/2),t&&(a+=iR);let n=this.props.isDevHandoff?144:40;return Math.min(a,Math.round(.25*(this.state.cachedInnerHeight-(0,E.bG)()-(0,u.hG)(aA.MGP)-n)))}defaultHeight(e){if(e){let e=this.props.publishableCanvasId?(0,l6.Vl)(o.q.instance.get(this.props.publishableCanvasId)):[];return this.heightForPages(e.length,!1)}let{pages:t,showAllButton:a}=this.getPagesInfo(this.state.devHandoffShowAllPages);return this.heightForPages(t.length,!!a)}async initializePagesPanelSettings(e){let t=await this.getLocalStorageSettings(e);(0,r.flushSync)(()=>{t?this.setState({height:t.height,isPagesOpen:t.isOpen,devHandoffShowAllPages:t.devHandoffShowAllPages}):this.setState({isPagesOpen:this.props.pagesList.length>1||this.props.isUI3&&!this.props.isDevHandoff})})}indexOfPageInList(e){return this.props.pagesList.findIndex(t=>t.nodeId===e)}positionOfPageInList(e){let t=this.indexOfPageInList(e);return -1!==t?t*iR:0}renderAssetPanelUi2(){return n.createElement(n1,{recordingKey:"componentsSidebar",viewMode:this.state.viewMode,toggleViewMode:this.toggleViewMode,containerSizingOptions:{containerWidth:this.props.width,maxSmallThumbSize:40,maxWideColWidth:300}})}renderAssetPanelUi3(){return n.createElement(C.tH,{boundaryKey:"AssetPanelUI3",fallback:n.createElement(l0,null)},n.createElement(lJ,{width:this.props.width}))}computedHeight(){return this.state.height?this.clampValidHeight(this.state.height):this.defaultHeight()}renderPagesList(e){if(!this.props.pagesList)return null;let{pages:t,showAllButton:a}=this.getPagesInfo(this.state.devHandoffShowAllPages);return n.createElement(y.V,null,n.createElement(l3.wV,{size:this.computedHeight(),defaultSize:this.defaultHeight(),onResize:e=>{this.setState({height:e}),M.Uc("")},side:"bottom",className:e?iv.aY:iv.l$},n.createElement(v.P,{scrollBarAlways:!1,ref:this.scrollContainerRef,scrollContainerRef:this.scrollContainerInnerRef,className:iv.jG,width:this.props.width,onScroll:this.setIsScrolledPastTop,initialScrollTop:this.state.pagesListInitialScrollTop||void 0},n.createElement(ir.bU,{pages:t,scrollContainer:this.scrollContainerRef.current??void 0,shouldHighlightActivePage:!this.props.isDevHandoffOverview,isComparingChanges:this.props.isComparingChanges,pageToNumChanges:this.props.pageToNumChanges,isReadOnly:this.props.isReadOnly,onContextMenu:this.props.onPageContextMenu}),a&&n.createElement("div",{className:iv.Gr},a),n.createElement(ia,{setUpsellHeightCallback:this.setUpsellHeight}))))}render(){let e=this.props.openFile?this.props.activeTab:l.xae.LAYERS,t=this.props.openFile,a=this.props.isLoadingPage,r=this.props.isUI3,s=e===l.xae.LAYERS||this.props.isReadOnly,i=e===l.xae.CODE,c=(0,l7.Vj)(this.props.selectedView),p=(0,H.$A)(this.props.selectedView)||this.props.isDevHandoffOverview,u=(0,l9.P)(this.props.selectedView),m=this.state.isPagesOpen,h=!c&&s&&(!!r||m),g=c&&(s||i),f=(s||i)&&!this.props.isDevHandoff&&!this.props.isDevHandoffOverview,_=this.state.isPagesOpen&&this.props.activeTab===l.xae.LAYERS?iD.A:iM.A,E=this.props.pagesList.some(e=>e.pageType!==this.props.pagesList[0].pageType),y=l.AWq.getChunkChangeCount(),C=this.state.renamingNodeGuid;if(c&&this.props.isSitesWebpagesOpen){let e=o.q.instance.get(this.state.renamingNodeGuid||"");e?.isResponsiveSet&&(C=null)}let v=r?m&&this.state.isScrolledPastTop:this.state.isScrolledPastTop;return n.createElement("div",{className:d()(iv.N1,{pagesPanel:!a,[iv.$U]:!this.props.isShowingSlidesCarousel&&!this.props.ignoreVerticalFlex,[iv.NM]:this.props.isShowingSlidesCarousel})},this.props.isUI3?n.createElement(n.Fragment,null,n.createElement(I.$,null),this.props.showTabs&&!p&&n.createElement(iL,{recordingKey:this.props.recordingKey,activeTab:e,onCanvasSearch:this.openCanvasSearch})):n.createElement(n.Fragment,null,p?n.createElement(ic,{togglePagesExpanded:this.togglePagesExpanded,onPageContextMenu:this.onContextClick,currentPageName:this.props.currentPageName,currentPageGuid:this.props.currentPageGuid,pageTabChevron:_,isOverview:this.props.isDevHandoffOverview}):n.createElement(ib,{recordingKey:this.props.recordingKey,showTabs:this.props.showTabs,activeTab:e,pageTabChevron:_,isComparingChanges:this.props.isComparingChanges,currentPageName:this.props.currentPageName,onCanvasSearch:this.openCanvasSearch,onTogglePages:e===l.xae.ASSETS?this.forcePagesExpanded:this.togglePagesExpanded,onPageContextMenu:this.onContextClick}),e===l.xae.LAYERS&&n.createElement(I.$,null)),this.props.isComparingChanges&&s&&n.createElement(n.Fragment,null,this.props.versionHistory.compareId&&n.createElement(es.ZI,{compareId:this.props.versionHistory.compareId,versions:this.props.versionHistory.versions}),y>0&&n.createElement(ii.y,{withBorder:!0},n.createElement(er,null))),t&&n.createElement(z.QU,{fileKey:t.key,toggleManageMemoryModal:this.props.toggleManageMemoryModal,closeManageMemoryModal:this.props.closeManageMemoryModal}),g&&n.createElement(l8.j8,{scrollContainerRef:this.scrollContainerRef,width:this.props.width,height:this.state.webpagesListHeight,defaultHeight:this.defaultHeight(!0),onResize:e=>{this.setState({webpagesListHeight:e}),M.Uc("")},currentPageGuid:this.props.currentPageGuid,isComparingChanges:this.props.isComparingChanges,needsScrollLine:this.state.isScrolledPastTop,renamingNodeGuid:this.state.renamingNodeGuid,startRenamingNode:this.startRenamingNode,stopRenamingNode:this.stopRenamingNode}),h&&n.createElement("div",{onClick:e=>e.stopPropagation(),role:"none"},n.createElement("div",{className:iv.Ed},r?n.createElement(iN,{isReadOnly:this.props.isReadOnly,onTogglePages:this.togglePagesExpanded,hasScrollLine:v,recordingKey:this.props.recordingKey,hasMultiplePageTypes:E,isPagesOpen:this.state.isPagesOpen,currentPageName:this.props.currentPageName,isComparingChanges:this.props.isComparingChanges,onCanvasSearch:this.openCanvasSearch,onPageContextMenu:p?this.onContextClick:N.jo}):n.createElement(im,{isReadOnly:this.props.isReadOnly,onTogglePages:this.togglePagesExpanded,hasScrollLine:v,recordingKey:this.props.recordingKey}),m&&this.renderPagesList(a))),f&&n.createElement("div",{className:iv.LZ},r?!u&&n.createElement(iP,{isReadOnly:this.props.isReadOnly,isLayersOpen:this.state.isLayersOpen,onToggleLayers:this.toggleLayersExpanded,currentPageGuid:this.props.currentPageGuid,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,renamingGuid:C,startRenamingNode:this.startRenamingNode,stopRenamingNode:this.stopRenamingNode,faviconGuid:this.props.faviconGuid,socialImageGuids:this.props.socialImageGuids,versionHistory:this.props.versionHistory,recordingKey:this.props.recordingKey}):n.createElement(l2.X,{hasPending:this.props.isLoadingPage,isReadOnly:this.props.isReadOnly,currentPage:this.props.currentPageGuid,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,renamingGuid:this.state.renamingNodeGuid,startRenaming:this.startRenamingNode,stopRenaming:this.stopRenamingNode,thumbnailGuid:this.props.openFile?.thumbnailGuid||null,versionHistory:this.props.versionHistory})),e===l.xae.KITS_SITES&&n.createElement(l8.oT,null),e===l.xae.DAKOTA&&n.createElement("div",{className:iv._s},n.createElement(w.Wr,{width:this.props.width})),e===l.xae.ASSETS&&!this.props.isReadOnly&&n.createElement(n.Fragment,null,this.props.showRedesignedAssetsPanel?this.renderAssetPanelUi3():this.renderAssetPanelUi2()))}}function iK({width:e,isReadOnly:t,pagesList:a,activeTab:r,showTabs:i,hasTeamLibraryUpdates:o,isDevHandoff:c,isShowingSlidesCarousel:d,isDevHandoffOverview:u,onPageContextMenu:m,disableCollapsing:h,isComparingChanges:f,pageToNumChanges:_,recordingKey:E,ignoreVerticalFlex:y}){let C=(0,B.J2)((0,O.UK)().showGuids),v=(0,s.wA)(),b=(0,F._Z)(),S=(0,g.md)(is.aN),T=(0,P.GS)(),w=(0,tL.M)()&&T,k=(0,B.J2)(l.Ez5.editorState().selectionEmpty),I=(0,K.iZ)(),N=(0,n3.lV)(),x=(0,U.q5)(),A=(0,s.d4)(e=>e.versionHistory),M=(0,G._6)(),H=(0,s.d4)(e=>e.fileVersion),z=(0,s.d4)(e=>e.teams),$=(0,s.d4)(e=>e.loadingState),X=(0,s.d4)(e=>e.modalShown),Z=(0,V.Fk)(e=>e.getCurrentPage()?.responsiveSetSettings?.faviconID),q=(0,V.Fk)(e=>[e.getCurrentPage()?.responsiveSetSettings?.socialImageID,...e.getCurrentPage()?.childrenNodes.map(e=>"RESPONSIVE_SET"===e.type&&e.responsiveSetSettings?.socialImageID)||[]].filter(e=>"string"==typeof e).join(",")),J=(0,R.Um)(),Q=(0,D.dh)(),ee=(0,D.nn)(),et=(0,l5.OT)(),ea=(0,g.md)(l4.h0),[en]=(0,g.fp)(is.l7),er=(0,il.U)(),{toggleManageMemoryModal:es,closeManageMemoryModal:el}=function({sidebarWidth:e}){let t=(0,s.d4)(e=>e.modalShown?.type===W.gG.type),a=(0,s.wA)(),r=(0,n.useCallback)(()=>{let n=(0,j.P3)();(0,p.sx)("toggle_manage_memory_modal",{memoryUsedPercent:n,totalLayers:l.CeL?.getFileNodeCount(),pageContentPct:n-(0,j.Zz)()}),t?a(Y.Ce()):a(Y.to({type:W.gG,data:{sidePanelWidth:e,markModalClosed:()=>{}}}))},[a,t,e]),i=(0,n.useCallback)(()=>{t&&a(Y.Ce())},[a,t]),o=(0,B.J2)(l.Ez5.uiState().isRecovery),c=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{!o||t||c.current||(c.current=!0,r(),l.Ez5?.uiState().showMemoryUsage.set(!0))},[o,t,r]),{toggleManageMemoryModal:r,closeManageMemoryModal:i}}({sidebarWidth:e});(0,iO.U)();let[ei,eo]=n.useState(!1);return n.useEffect(()=>{T&&!k&&eo(!0)},[k,T]),n.createElement(iG,{versionHistory:A,user:I,width:e,isReadOnly:t,currentPageGuid:Q,currentPageName:ee,pagesList:a,activeTab:r,showTabs:i,faviconGuid:Z,socialImageGuids:q,hasTeamLibraryUpdates:o,isDevHandoff:c,isDevHandoffOverview:u,disableCollapsing:h,isComparingChanges:f,isShowingSlidesCarousel:d,pageToNumChanges:_,openFile:x,selectedView:M,fileVersion:H,teams:z,loadingState:$,modalShown:X,dropdownShown:J,recordingKey:E,shouldShowGuids:C,dispatch:v,isLoadingPage:b.isLoading,isPagesOpenOverride:S,isLayersOpenOverride:ei,isUI3:T,toggleIsCollapsed:()=>L.Y5.triggerAction("toggle-sidebar",{source:"pages-panel"}),showRedesignedAssetsPanel:w,markAssetPanelLoadingStart:N,publishableCanvasId:et,isSitesWebpagesOpen:ea,onPageContextMenu:m,renamingPageId:en,ignoreVerticalFlex:y,tabActions:er,toggleManageMemoryModal:es,closeManageMemoryModal:el})}iG.displayName="PagesPanelView"},652649:(e,t,a)=>{a.d(t,{g:()=>l});var n=a(411855),r=a(96796),s=a(463420);function l(e){return n.createElement("div",{className:"pages_panel_chevron--chevron--3E6os","data-show-on-hover":!0},e.isExpanded?n.createElement(r.O,null):n.createElement(s.k,null))}},690122:(e,t,a)=>{a.d(t,{p:()=>i});var n=a(411855),r=a(848661),s=a(29680),l=a(754369);function i(e){let t=(0,s.B9)(),{backingSymbolGUID:a,backingStateGroupGUID:i}=(0,l.$)(e),o=n.useMemo(()=>{let a=[];for(let n of e){let e=t.get(n);if(e&&"INSTANCE"!==e.type){for(;e?.isInstanceSublayer;)e=e.parentNode;e?.type==="INSTANCE"&&a.push(e)}}return a},[e,t]),c=n.useMemo(()=>{let e=null;for(let a of o){if(!a.symbolId)continue;let n=t.get(a.symbolId);if(n){if(e){if(e.guid!==n.guid)return r.oV}else e=n}}return e?.isState&&e.parentGuid&&(e=e.parentNode),e},[o,t]),d=n.useMemo(()=>{let a=[];for(let n of e){let e=t.get(n);e&&"INSTANCE"===e.type&&e.isInstanceSublayer&&a.push(e)}return a},[e,t]),p=n.useMemo(()=>!!(null==c&&(a||i)),[c,a,i]),u=n.useMemo(()=>!!(null==a&&null==i&&c),[c,a,i]);return n.useMemo(()=>({backingSymbolOrStateGroupOfContainingInstances:c,containingInstancesOfSublayers:o,onlyInstances:p,onlyInstanceSublayers:u,nestedInstances:d}),[c,o,p,u,d])}},412297:(e,t,a)=>{a.d(t,{PM:()=>V,h_:()=>B,iT:()=>j,sQ:()=>Y,vr:()=>z});var n=a(411855),r=a(188507),s=a(587670),l=a(86625),i=a(841563),o=a.n(i),c=a(776250),d=a(794272),p=a(374626),u=a(153234),m=a(268537),h=a(939863),g=a(738269),f=a(662275),_=a(106757),E=a(356390),y=a(844053),C=a(335682),v=a(416095),b=a(57392),S=a(113916),T=a(498606),w=a(279145),k=a(224690),I=a(715762),N=a(526582),P=a(616900),x=a(142232),A=a(298543),L=a(227795),O=a(958568),M=a(754369),D=a(690122),R=a(501891),F=a(258376),U=a(362679);let G="instance-option-dropdown";function K(e){e.stopPropagation()}function B(e){let{instanceAndSublayerGUIDs:t,resettableInstanceOverrides:a,showAllInstanceOptions:i}=e,{appModel:o,detachInstanceShortcut:c}=(0,d.R)(e=>({appModel:e.mirror.appModel,detachInstanceShortcut:(0,w.c1)(e.mirror.appModel.keyboardShortcuts,"detach-instance")})),p=n.useMemo(k.$H,[]),m=(0,r.d4)(e=>p(e,t)),{isBackingSymbolSoftDeleted:g,restoreType:f}=(0,M.$)(t),{onlyInstances:_,nestedInstances:y}=(0,D.p)(t),C=n.useRef(null),{needsUpdate:v}=z(t),b=Y(t),S=n.useMemo(()=>{let e=[...b];if(!i)return e;if(i&&b.length>0&&e.push({type:"separator"}),"SYMBOL_AS_STATE"===f&&e.push({type:"option",value:"restore-symbol-or-state-group",displayText:(0,h.t)("design_systems.instance_panel.restore_variant"),callback:()=>{E.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")}}),_&&e.push({type:"option",value:"detach-instance",displayText:(0,h.t)("fullscreen_actions.detach-instance"),shortcut:c,callback:()=>{l.l7.user("detach-instances",()=>s.glU.detachInstances(t))}}),(0,w.Yh)(o,"push-changes-to-main")&&0===y.length&&!g&&(e.length>0&&e.push({type:"separator"}),e.push({type:"option",value:"push-changes-to-main",displayText:(0,h.t)("fullscreen_actions.push-changes-to-main"),callback:()=>{E.Y5.triggerActionInUserEditScope("push-changes-to-main")}})),a&&Object.values(a).some(e=>e)){if(Object.keys(a).forEach(n=>{let r=parseInt(n);a?.[r]&&(e.length>0&&r===s.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS&&e.push({type:"separator"}),e.push({type:"option",value:r,displayText:function(e){switch(e){case s.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS:return(0,h.t)("design_systems.instance_panel.reset_all_changes");case s.YnC.EXPORTS:return(0,h.t)("design_systems.instance_panel.reset_exports");case s.YnC.EFFECTS:return(0,h.t)("design_systems.instance_panel.reset_effects");case s.YnC.LAYER:return(0,h.t)("design_systems.instance_panel.reset_others");case s.YnC.VISIBLE:return(0,h.t)("design_systems.instance_panel.reset_visibility");case s.YnC.NAME:return(0,h.t)("design_systems.instance_panel.reset_name");case s.YnC.FILL:return(0,h.t)("design_systems.instance_panel.reset_fill");case s.YnC.STROKE:return(0,h.t)("design_systems.instance_panel.reset_stroke");case s.YnC.TEXT:return(0,h.t)("design_systems.instance_panel.reset_text");case s.YnC.TEXT_STYLE:return(0,h.t)("design_systems.instance_panel.reset_text_style");case s.YnC.SIZE:return(0,h.t)("design_systems.instance_panel.reset_size");case s.YnC.PROTOTYPE_INTERACTIONS:return(0,h.t)("design_systems.instance_panel.reset_interactions");case s.YnC.OVERLAY:return(0,h.t)("design_systems.instance_panel.reset_overlay");case s.YnC.NUM_VALUES:}return""}(r),callback:()=>{l.l7.user("reset-overrides",()=>s.glU.resetSymbolOverridesForNodes(t,r))}}))}),m)for(let t in m)for(let a in m[t]){let n=m[t][a];e.push({type:"option",value:"reset-component-prop-assignment",displayText:(0,h.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:n.name}),callback:()=>{l.l7.user("reset-prop-assignments",()=>s.glU.resetComponentPropAssignmentForInstances(n.instanceGUIDs,a))}})}}else e.length>0&&e.push({type:"separator"}),e.push({type:"option",value:s.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS,displayText:(0,h.t)("design_systems.instance_panel.no_changes_to_reset"),callback:()=>{},disabled:!0});return e},[b,i,f,_,o,y.length,g,a,c,t,m]),{toggleDropdown:I,dropdownShown:N}=j(t),P=u.Pt(e,"toggleInstanceOptionDropdown",t.join("-"));return i||v?n.createElement("span",null,n.createElement("div",{ref:C},v?n.createElement(L.YW,{className:R.l_,onClick:I,selected:N,onMouseDown:K,svg:F.A,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.instance_panel.update_available"),recordingKey:P}):n.createElement(L.YW,{onClick:I,selected:N,onMouseDown:K,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.instance_panel.instance_options"),svg:U.A,recordingKey:P,disabled:0===S.length})),n.createElement(V,{targetRef:C,instanceDropdownOptions:S,recordingKey:e.recordingKey,dropdownShown:N})):null}function V({targetRef:e,instanceDropdownOptions:t,recordingKey:a,dropdownShown:r}){return null!=e.current&&r?n.createElement(A.Cf,{targetRect:e.current.getBoundingClientRect(),propagateCloseClick:!0},t.map((e,t)=>"option"===e.type?n.createElement(m.c$,{className:R.VM,onClick:e.callback,recordingKey:u.Pt(a,e.displayText),key:"reset-component-prop-assignment"===e.value?u.Pt(e.value,t):e.value,disabled:e.disabled},e.displayText,e.shortcut&&n.createElement("span",null,e.shortcut)):n.createElement(m.wv,{key:t}))):null}function H(){let e=(0,r.d4)(y.c),t=(0,p.md)(C.yV),a=(0,p.md)(_.p9);return{fileKey:e.file_key,fileParentOrgId:t?.parentOrgId?.toString(),fileTeamId:e.file_team_id?.toString(),userId:a?.id}}function z(e){let{componentUpdatesForAllPages:t,stateGroupUpdatesForAllPages:a}=(0,r.d4)(b.ij),s=n.useMemo(S.bd,[]),l=(0,r.d4)(t=>s(t,e)),{componentInstanceUpdateInfo:i,stateInstanceUpdateInfo:o}=(0,O.cB)(t,a,l),c=(0,O.jR)(i,o);return{needsUpdate:c>0&&c===l.length,numSelectedInstancesToUpdate:c,componentInstanceUpdateInfo:i,stateInstanceUpdateInfo:o}}function Y(e){let{needsUpdate:t,numSelectedInstancesToUpdate:a,componentInstanceUpdateInfo:s,stateInstanceUpdateInfo:l}=z(e),i=(0,v.eS)(v.aD.ALL),{updateIndividualInstances:o}=(0,x.TM)(i,I.AX.DROPDOWN_UPDATE_SELECTED_INSTANCE),d=(0,r.wA)(),p=n.useMemo(()=>({source:"INSTANCE_PANEL",instanceAndSublayerGUIDs:e}),[e]),u=(0,P.jX)(p),m=n.useCallback(()=>{d((0,f.to)({type:N.F,data:p}))},[d,p]),g=H();return n.useMemo(()=>{let e=[];return t&&(e.push({type:"option",value:"update-selected-instance",displayText:(0,h.t)("design_systems.instance_panel.update_selected",{numSelectedInstancesToUpdate:a}),callback:()=>o(s,l)}),u&&e.push({type:"option",value:"review-instance-update",displayText:(0,h.t)("design_systems.instance_panel.review_update"),callback:()=>{c.az.trackDefinedEvent("design_systems_analytics.instance_review_update_click",g),m()}})),e},[s,t,a,u,l,m,g,o])}function j(e){let t=(0,r.wA)(),a=(0,r.d4)(t=>t.dropdownShown?.type===G&&o()(t.dropdownShown.data?.guids,e)),s=H();return{dropdownShown:a,toggleDropdown:n.useCallback(n=>{n.stopPropagation(),a?t(g.oB()):(t(g.j7({type:G,data:{guids:e}})),c.az.trackDefinedEvent("design_systems_analytics.instance_update_available_button_click",s))},[a,t,e,s])}}},721478:(e,t,a)=>{a.d(t,{NA:()=>Y,_B:()=>W,bj:()=>X,iN:()=>$});var n=a(411855),r=a(109388),s=a(188507),l=a(201706),i=a(587670),o=a(629019),c=a.n(o),d=a(44948),p=a(794272),u=a(153234),m=a(786833),h=a(667167),g=a(163023),f=a(736242),_=a(939863),E=a(286954),y=a(843495),C=a(848661),v=a(29680),b=a(237929),S=a(496470),T=a(532888),w=a(498606),k=a(420186),I=a(386976),N=a(371686),P=a(567488),x=a(494057),A=a(224690),L=a(7959),O=a(893606),M=a(939791),D=a(754369),R=a(690122),F=a(412297),U=a(225373),G=a(371623),K=a(151575),B=a(501891),V=a(968109),H=a(405622),z=a(289298),Y=(e=>(e[e.NAME_ONLY=0]="NAME_ONLY",e[e.INSTANCE_SWAP_PICKER=1]="INSTANCE_SWAP_PICKER",e))(Y||{});function j(e){e.stopPropagation()}function W(e){let t=(0,v.B9)();return n.useMemo(()=>{if(0===e.length)return null;let a=t.get(e[0]);return a?.symbolId},[e,t])}function $(e){let{canCollapse:t,resettableInstanceOverrides:a,instanceAndSublayerGUIDs:r,shouldHideButtons:s,isInComponentPlayground:i}=e,o=(0,n.useRef)(null),{onlyInstances:d,onlyInstanceSublayers:p}=(0,R.p)(r),u=W(r),m=(0,O.R)();if(!d&&!p)return null;let h=m&&!i&&0===e.instanceNameDisplayOverride,g=n.createElement(n.Fragment,null,n.createElement(X,{...e,panelTitleRef:o,dropdownIdPrefix:"instance-panel-instance-swap-picker",shouldUseUI3RowCompatibleStyles:h}),!s&&n.createElement("span",{className:B.MC},n.createElement(P.yQ,{nodeField:l.R.OVERRIDDEN_SYMBOL_ID,defaultValue:u,guids:r}),n.createElement(K.F,{instanceAndSublayerGUIDs:r,recordingKey:e.recordingKey}),n.createElement(F.h_,{resettableInstanceOverrides:a,instanceAndSublayerGUIDs:r,recordingKey:e.recordingKey,showAllInstanceOptions:!0})));return h?n.createElement(M.DE,{label:null,input:g,icon:null}):n.createElement(L.fI,{className:c()(B.LO,{[B.Z0]:t,[B.YF]:i}),ref:o},g)}function X({panelTitleRef:e,panelTitleOverridesClassName:t,pickerButtonTextOverridesClassName:a,flushLeft:o,dropdownIdPrefix:P,shouldHideInstanceIcon:O=!1,chevronOverride:M,shouldUseUI3RowCompatibleStyles:F,...K}){let{instanceNameDisplayOverride:Y,containerWide:W,instanceAndSublayerGUIDs:$,shouldHideButtons:X,highlightNodesOnHover:Z}=K,q=`${P}-${$.join("-")}`,J=(0,v.B9)(),Q=n.useMemo(A.en,[]),{propDef:ee,instanceSwapPickerShown:et}=(0,p.R)(e=>({propDef:Q(e,$,l.R.OVERRIDDEN_SYMBOL_ID),instanceSwapPickerShown:e.instanceSwapPickerShown})),{preferredValues:ea,preferredValuesFetchError:en,retryPreferredValuesFetch:er}=(0,I.xP)(ee??void 0),es=n.useMemo(()=>en?n.createElement(N.u,{onRetry:er,recordingKey:"instancePropAssignment"}):void 0,[en,er]),el=(0,s.wA)(),{backingSymbolGUID:ei,backingStateGroupGUID:eo,affiliatedStateGroupId:ec}=(0,D.$)($),{backingSymbolOrStateGroupOfContainingInstances:ed,containingInstancesOfSublayers:ep,onlyInstances:eu,onlyInstanceSublayers:em}=(0,R.p)($),eh=(0,s.d4)(T.t_),eg=(0,s.d4)(e=>e.library),ef=(0,d.k9)(()=>{let e=eo??ei;if(!e||(0,C.gl)(e))return[];let{selectedItem:t}=(0,S.XV)(e,eh,eg,J);return t?[t]:[]},[eo,ei,eh,eg,J]),e_=n.useMemo(()=>!!em&&!!ed&&ed!==C.oV,[em,ed]),eE=u.rf(u.Pt(K.recordingKey,"instanceName",$.join("-")),"mouseenter",()=>{Z&&i.Ez5.canvasViewState().temporarilyHoveredNodes.set($)}),ey=u.rf(u.Pt(K.recordingKey,"instanceName",$.join("-")),"mouseleave",()=>{Z&&i.Ez5.canvasViewState().temporarilyHoveredNodes.set([])}),eC="";if(null!=eo||ec){if((0,C.gl)(eo))eC=(0,_.t)("design_systems.instance_panel.mixed");else{let e=eo?J.get(eo):null,t=ec?J.get(ec):null;eC=(0,b.kH)(t?.name||e?.name||"")}}else null!=ei?eC=(0,C.gl)(ei)?(0,_.t)("design_systems.instance_panel.mixed"):(0,b.kH)(J.get(ei)?.name||""):null!=ed&&(eC=(0,C.gl)(ed)?(0,_.t)("design_systems.instance_panel.mixed"):(0,b.kH)(ed.name||""));let ev="";if(eu){let e=J.get($[0])?.name;$.every(t=>J.get(t)?.name===e)&&e&&(ev=e)}let{modalWidth:eb}=(0,h.TQ)(h.Zl.INSTANCE_SWAP_PICKER),eS=(0,h.qc)(),eT=n.useCallback(()=>{if(X)return;let t=e.current?(0,k.VZ)(r.findDOMNode(e.current),eb,!eS):void 0;el((0,E.zE)({initialPosition:t,id:q,modal:!0}))},[X,e,eb,eS,el,q]),ew=n.useCallback(()=>{e_&&y.tJ(ep.map(e=>e.guid))},[e_,ep]),ek="";eu?ek=et.isShown&&et.id===q?B.sK:X?B.qw:B.vS:em&&(ek=e_?B.EA:B.me);let eI=M??n.createElement(g.B,{className:B.t4,svg:z.A});return n.createElement(m.E,{name:"instance_title_control"},0===Y?n.createElement("div",{className:F?B.Bt:B.Qp,onMouseEnter:eE,onMouseLeave:ey},n.createElement(f.o,{className:F?B.iB:W?B.u$:B.vF,text:ev??eC})):1!==Y&&ee?n.createElement("div",{className:B.I0},n.createElement(x.L,{nodeField:l.R.OVERRIDDEN_SYMBOL_ID,currentValue:ee.defaultValue,instanceGUIDs:$})):n.createElement(L.xw,{className:c()(ek,t),recordingKey:u.Pt(K,"panelTitle",$.join("-")),onClick:em?ew:eT,onMouseDown:j,doNotReserveSpaceForChevron:o},!O&&n.createElement(g.B,{className:B.$C,svg:V.A}),n.createElement("div",{"data-testid":"instance-panel-title-component-name",className:a||B.We},eC),!X&&n.createElement(n.Fragment,null,!em&&eI,e_&&n.createElement(g.B,{className:B.N1,width:"24px",height:"24px",svg:H.A,"data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,_.t)("design_systems.instance_panel.select_instance")}))),et.isShown&&et.id===q&&n.createElement(U.T,{selectedItems:ef,title:(0,_.t)("design_systems.instance_panel.swap_instance"),itemsToSwap:$,recordingKey:u.Pt(K,"instanceSwapPicker"),pickerType:h.Zl.INSTANCE_SWAP_PICKER,preferredItems:ea,preferredValuesErrorComponent:es,entrypointForLogging:G.S.InstancePickerEntrypoint.SELECTED_INSTANCE_SWAP}))}},830002:(e,t,a)=>{a.d(t,{D5:()=>v,Tj:()=>C,lS:()=>b});var n=a(411855),r=a(188507),s=a(794272),l=a(153234),i=a(522739),o=a(236478),c=a(226055),d=a(848661),p=a(498606),u=a(538697),m=a(347495),h=a(994481),g=a(45148),f=a(731262),_=a(759209);let E={format:e=>e||f.xJ};function y(e){let{propertyValueEntries:t,selectedStatesPropertyValues:a,stateGroupPropertyValues:r,onSelectProperty:s,dropdownShown:f,hideErrorsPanel:y,dispatch:C,shouldIndent:v,extended:b}=e,S=(0,c.GS)(),T=n.useRef([]),w=n.useCallback(e=>{if(!T.current)return!1;let t=T.current[e];return!!t&&t.offsetWidth<t.scrollWidth},[]);return n.createElement(i.D8,{className:_.wG,"data-non-interactive":!0},t.length>0&&n.createElement("div",{className:S?void 0:_.em},t.map((t,i)=>{let{property:c,label:g}=t,y=a[c],k=r[c],I=_.Aq;v&&(I=b?_.aM:_.L8);let N=n.createElement("p",{ref:e=>T.current?.push(e),className:S?void 0:I,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":w(i)?c:null},g),P="TOGGLE"===t.type?n.createElement(m.l,{toggleClassName:b?_.lV:_.E3,on:(0,d.hS)(y)?y===t.toggleTokenPair[0]:d.oV,onChange:e=>{s(c,t.toggleTokenPair[e?0:1])},recordingKey:l.Pt(e,`toggle-${c}`),forwardEventsToFullscreen:!0}):n.createElement(u.l6,{id:`states-property-select-${c}-${e.recordingKey}`,className:S?void 0:b?_.mi:_.ZE,property:y,formatter:E,onChange:e=>{s(c,e)},dispatch:C,dropdownShown:f,onMouseDown:()=>C(o.r),recordingKey:l.Pt(e,`select-${c}`)},[...k].map(t=>n.createElement(u.c$,{key:t,value:t,truncateInMiddle:!0,recordingKey:l.Pt(e,`select-${c}-option-${t}`)})));return S?n.createElement(h.cS,{key:c,label:N,input:P}):n.createElement(n.Fragment,{key:c},N,P)})),!y&&n.createElement(g.aq,null))}function C(e,t,a){let n=[{property:t,value:a}];for(let a of e)a.property!==t&&n.push({...a});return n}function v(e,t){let a=t.map(e=>e.toLowerCase()),n=null;if(2===t.length)for(let e of f.NE){let r=a.indexOf(e[0]),s=a.indexOf(e[1]);-1!==r&&-1!==s&&(n=[t[r],t[s]])}return n?{property:e,type:"TOGGLE",label:e,toggleTokenPair:n}:{property:e,type:"SELECT",label:e}}let b=n.memo(function(e){let{sortedProperties:t,stateGroupPropertyValues:a,selectedStatesPropertyValues:l,selectedStates:i,allStates:o,onSelectProperty:c,recordingKey:d,hideErrorsPanel:p,shouldIndent:u,extended:m}=e,h=(0,r.wA)(),{dropdownShown:g,sceneGraphSelection:_}=(0,s.R)(e=>({dropdownShown:e.dropdownShown,sceneGraphSelection:e.mirror.sceneGraphSelection})),[E,b]=n.useState([]);n.useEffect(()=>{b([])},[_]);let S=a?t.map(e=>v(e,a[e])):[];return n.createElement(y,{propertyValueEntries:S,selectedStatesPropertyValues:l,stateGroupPropertyValues:a,onSelectProperty:function(e,t){let a=C(E,e,t),n={};for(let r of i){let{propertyValues:s}=r.stateInfo,l={...s,[e]:t},i=(0,f.kz)(l,a,o);null!==i&&(n[r.symbol.node_id]=i)}c(n),b(a)},dropdownShown:g,recordingKey:d,hideErrorsPanel:p,dispatch:h,shouldIndent:u,extended:m})})},56315:(e,t,a)=>{a.d(t,{g:()=>c});var n=a(411855),r=a(629019),s=a.n(r),l=a(617453),i=a(100197),o=a(939791);let c=(0,n.forwardRef)(function({leftLabel:e,leftInput:t,rightLabel:a,rightInput:r,appendedClassName:l,...i},o){return n.createElement("div",{className:s()("ui3_slides_rows--ui3SlidesTwoInputRow--z1gLz ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",l),ref:o,...i,"data-non-interactive":!0},null!=e?n.createElement(d,null,e):null,n.createElement("div",{className:"ui3_slides_rows--ui3SlidesRowInput1--w4RUc","data-non-interactive":!0},t),null!=a?n.createElement(p,null,a):null,n.createElement("div",{className:"ui3_slides_rows--ui3SlidesRowInput2--YL2N7","data-non-interactive":!0},r))});function d({children:e,alwaysShowLabel:t}){return(0,i.J2)((0,l.UK)().showPropertyLabels)||t?n.createElement("span",{"aria-hidden":"true",className:"ui3_slides_rows--ui3SlidesRowLabelFirst--XzGgY ui3_rows--_ui3OrderedRowLabel--zh7nh ui3_rows--_ui3RowLabelBase--wNPq0","data-non-interactive":!0},e):n.createElement(o.my,null)}function p({children:e}){return(0,i.J2)((0,l.UK)().showPropertyLabels)?n.createElement("span",{"aria-hidden":"true",className:"ui3_slides_rows--ui3SlidesRowLabelSecond--AtE-a ui3_rows--_ui3OrderedRowLabel--zh7nh ui3_rows--_ui3RowLabelBase--wNPq0","data-non-interactive":!0},e):n.createElement(o.my,null)}},962264:(e,t,a)=>{a.d(t,{wu:()=>V,yj:()=>H});var n=a(411855),r=a(188507),s=a(730371),l=a(343887),i=a(404095),o=a(636149),c=a.n(o),d=a(737947),p=a(966712),u=a(153234),m=a(776621),h=a(163023),g=a(939863),f=a(632430),_=a(662275),E=a(617453),y=a(100197),C=a(234945),v=a(173454),b=a(498606),S=a(715762),T=a(507662),w=a(7959),k=a(538697),I=a(893606),N=a(901536),P=a(939791);let x=n.forwardRef(function({labelTx:e,input:t,icon:a},r){return n.createElement(P.fn,{ref:r,leftInput:n.createElement("span",{className:N.cx.textBodyMedium.pl1.flex.$},e),rightInput:t,icon:a,leftLabel:null,rightLabel:null})});var A=a(629019),L=a.n(A);let O=(0,n.forwardRef)(function({label:e,input:t,...a},r){return n.createElement(M,{label:e,input:t,inputSize:"normal",...a,ref:r})});(0,n.forwardRef)(function({label:e,input:t,...a},r){return n.createElement(M,{label:e,input:t,inputSize:"small",...a,ref:r})}),(0,n.forwardRef)(function({label:e,input:t,...a},r){return n.createElement(M,{label:e,input:t,inputSize:"large",...a,ref:r})});let M=(0,n.forwardRef)(function({label:e,input:t,inputSize:a,...r},s){let l=L()({"ui3_inline_label_input_rows--ui3LabelInputRow--5r770 ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu":!0,"ui3_inline_label_input_rows--ui3LabelInputSmall--s82mn":"small"===a,"ui3_inline_label_input_rows--ui3LabelInputNormal--dBjze":"normal"===a,"ui3_inline_label_input_rows--ui3LabelInputLarge--GYw7P":"large"===a});return n.createElement("div",{className:l,ref:s,...r,"data-non-interactive":!0},n.createElement("div",{className:"ui3_inline_label_input_rows--ui3RowInlineLabel--UavwX","data-non-interactive":!0},e),n.createElement("div",{className:"ui3_inline_label_input_rows--ui3RowInput--E7ksx","data-non-interactive":!0},t))});var D=a(564092),R=a(918061),F=a(261579),U=a(132208);class G extends k.l6{}class K extends k.c${}function B({modeOptions:e,inheritedModeID:t,isShowingGuids:a}){return{format:n=>{if(n===D.iw.LEARN_MORE)return(0,g.t)("variables.modes.option.learn_more");if(n===D.iw.REVIEW_UPDATES)return(0,g.t)("variables.modes.option.review_updates");if(n===D.UE){if(t===D.Mo)return(0,g.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:(0,g.t)("variables.mode_properties_panel.select.option.mixed")});let a=e.find(e=>s.deepEquals(e.modeId,t))?.name;return a?(0,g.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:a}):(0,g.t)("variables.mode_properties_panel.select.option.auto")}{if(n===D.Ws)return 0===e.length&&(0,m.x1)("variables","No mode options available"),(0,g.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:e[0].name??""});if(n===D.Mo)return(0,g.t)("variables.mode_properties_panel.select.option.mixed");if(n===D.Yn)return(0,g.t)("variables.mode_properties_panel.select.option.deleted");let t=e.find(e=>(0,s.deepEquals)(e.modeId,n));return t?a?`${t.name} (${t.modeId.guid})`:t.name:((0,m.x1)("variables","Option does not exist in modeOptions"),(0,g.t)("variables.mode_properties_panel.select.option.deleted"))}},isEqual:(e,t)=>(0,s.deepEquals)(e,t)}}function V({fill:e,showExplicitOnly:t,showInheritedModeOption:a,recordingKey:s}){let l=(0,r.wA)(),i=(0,D.kN)(),o=(0,D.iR)(),c=(0,D.d2)(),d=(0,y.J2)((0,E.UK)().showGuids),p=(0,r.d4)(C.qd),m=n.useMemo(()=>JSON.stringify(p),[p]),h=(0,D.hZ)(),g=Object.entries(i),_=n.useMemo(()=>g.sort(([e,t],[a,n])=>t.fileKey!==n.fileKey?t.fileKey?n.fileKey?t.fileKey.localeCompare(n.fileKey):1:-1:t.collectionName.localeCompare(n.collectionName)),[g]);return n.createElement(n.Fragment,null,_.map(([r,i])=>{let p=i.inheritMode,g=i.explicitMode;return n.createElement(H,{key:`variable-mode-entry-${r}-${t}-${m}`,fill:e,showExplicitOnly:t,variableSetName:i.collectionName,variableSetKey:r,modeOptions:i.modeOptions,inheritedModeID:p,explicitModeID:g,showInheritedModeOption:void 0===a||a,onChange:(e,t)=>{c[r]&&o[r]?l((0,f.Wo)({item:o[r],callback:t=>{h(r,e)}})):h(r,e,t)},isShowingGuids:d,recordingKey:u.Pt(s,`variableModeEntry-${t}`)})}))}function H(e){let{fill:t,showExplicitOnly:a,variableSetName:o,variableSetKey:m,modeOptions:f,explicitModeID:E,inheritedModeID:y,isShowingGuids:C,recordingKey:N,showInheritedModeOption:P,onChange:A}=e,L=(0,r.wA)(),M=(0,r.d4)(e=>e.dropdownShown),V=(0,D.ZP)(),H=(0,I.R)(),z=E&&E!==D.Mo&&f.every(e=>!(0,s.deepEquals)(e.modeId,E)),Y=D.Ws;z?Y=D.Yn:E?Y=E:y&&(Y=P?D.UE:y);let j=B({modeOptions:f,inheritedModeID:y,isShowingGuids:C}).format(Y),[W,$]=n.useState(a),X=n.useCallback((e,t,a)=>{A(e,a),void 0!==t&&$(t)},[A]),Z=n.useMemo(()=>(function(e,t,a,r){let s=[];if(0===t.length)return s;let l=c()(t,e=>e.modeId.collectionKey),i=!!(0,p.kc)().ds_variables_relax_modes,o=n.createElement("div",{className:F.Z7},n.createElement(h.B,{className:F.G,svg:U.A}));return Object.entries(l).map(([t,r])=>{for(let l of(s.length>0&&r.length>0&&s.push(n.createElement(k.sK,null)),r))s.push(n.createElement(K,{key:`mode-option-${t}-${l.modeId.guid}-${a}`,value:l.modeId,recordingKey:u.Pt(e,`varSetSelect=${t}`,`value=${l.modeId.guid}`,`varSetKey=${t}`),disabled:!i&&!l.isCompatible,fullWidth:!0,rightSettingsIcon:i&&!l.isCompatible?o:void 0}))}),i&&t.some(e=>!e.isCompatible)&&(s.push(n.createElement(k.sK,null)),r===D.iw.REVIEW_UPDATES?s.push(n.createElement(K,{key:"incompatible-modes-updates",value:D.iw.REVIEW_UPDATES,iconToReplaceCheck:o,recordingKey:u.Pt(e,"incompatible-modes-review-updates"),additionalStylesClassName:F.cF})):r===D.iw.LEARN_MORE&&s.push(n.createElement(K,{key:"incompatible-modes-learn-more",value:D.iw.LEARN_MORE,iconToReplaceCheck:o,recordingKey:u.Pt(e,"incompatible-modes-learn-more"),additionalStylesClassName:F.cF}))),s})(N,f,a,V),[N,f,a,V]);if(f.length<2||W&&!E)return null;let q=Y===D.Mo,J=function(e,t,a,r,s,l){let i=[];return a&&i.push(n.createElement(K,{key:D.Mo,value:D.Mo,recordingKey:u.Pt(e,"value:MIXED"),selected:!0}),n.createElement(k.sK,null)),r?s&&i.push(n.createElement(K,{key:D.UE,value:D.UE,recordingKey:u.Pt(e,"value:INHERIT")}),n.createElement(k.sK,null)):l.length>0&&i.push(n.createElement(K,{key:D.Ws,value:D.Ws,recordingKey:u.Pt(e,"value:DEFAULT"),disabled:!l[0].isCompatible,selected:t===D.Ws}),n.createElement(k.sK,null)),t===D.Yn&&i.push(n.createElement(K,{key:D.Yn,value:D.Yn,recordingKey:u.Pt(e,"value:DELETED"),disabled:!0,selected:!0})),i}(N,Y,q,!!y,P,f),Q=n.createElement(G,{fill:t,id:`var-set-mode-${m}-${a}`,dropdownWidth:200,dropdownAlignment:"right",dispatch:L,inputClassName:H?R.UZ:void 0,chevronClassName:H?R.ai:void 0,dropdownShown:M,formatter:B({modeOptions:f,inheritedModeID:y,isShowingGuids:C}),property:Y,recordingKey:u.Pt(N,`varSetSelect=${m}`),onChange:e=>{e===D.iw.LEARN_MORE?d.Ay.unsafeRedirect(D.Yc,"_blank"):e===D.iw.REVIEW_UPDATES?L(_.to({type:T.T,data:{initialTab:v.Wv.UPDATES,entrypoint:S.r6.VARIABLE_MODE_INCOMPATIBLE_REVIEW_UPDATES_DROPDOWN_OPTION}})):X(e,!1,B({modeOptions:f,inheritedModeID:y,isShowingGuids:C}).format(e))},tooltip:j},...J,...Z);if(H){let e=n.createElement("span",{className:F.$6,"data-testid":"variableModeEntry"},o);return P?n.createElement(x,{labelTx:e,input:Q,icon:n.createElement(l.K,{"aria-label":(0,g.t)("general.remove"),onClick:()=>X("INHERIT",!0),actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,g.t)("general.remove"),"data-tooltip-type":b.Ib.TEXT}},n.createElement(i.f,null))}):n.createElement(O,{label:e,input:Q})}return n.createElement(w.fI,{className:F.nM,dataTestId:"variableModeEntry"},n.createElement("div",{className:F.o3},o),n.createElement("div",{className:F.mq},Q))}},255376:(e,t,a)=>{a.d(t,{S:()=>d});var n=a(411855),r=a(629019),s=a.n(r),l=a(163023),i=a(516398),o=a(949207),c=a(432023);function d({children:e,isInitiallyOpen:t,title:a,titleClassName:r}){let[d,p]=n.useState(t),u=()=>p(e=>!e);return n.createElement("div",null,n.createElement("div",{className:s()("collapse--collapseTitle---N1bR",r),onClick:u,onKeyDown:e=>(0,i.hx)({e,onClickHandler:u}),role:"button",tabIndex:0},n.createElement(l.B,{className:"collapse--expandCaret--FzvQ9 library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:d?o.A:c.A}),a),d&&e)}}}]);

//# debugId=679eb0e0-5cb2-5277-82d6-60b13ae27643

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/4adfbc709fb88d4dceabb46800550de225fd66c1/4678-ef10d6aec47e48fc.min.js.map